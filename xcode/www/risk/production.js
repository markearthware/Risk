steal.loading('risk/risk.js','jquery/jquery.js','jquery/view/ejs/ejs.js','jquery/view/view.js','jquery/lang/string/rsplit/rsplit.js','jquery/lang/string/string.js','risk/lib/jQueryMobile/jquery.mobile-1.1.0.js','risk/models/websqlmodel.js','jquery/model/model.js','jquery/class/class.js','risk/lib/WebSQL/db.js','risk/models/models.js','risk/controllers/controllers.js','risk/lib/jQueryValidation/jquery.validate.js','risk/controllers/index_controller.js','risk/controllers/taskadd_controller.js','risk/controllers/taskedit_controller.js','risk/controllers/hazards_controller.js','risk/controllers/whos_controller.js','risk/controllers/myassessments_controller.js','risk/controllers/delete_controller.js','risk/controllers/deletetask_controller.js','risk/controllers/controls_controller.js','risk/controllers/details_controller.js','risk/controllers/inprogress_controller.js','risk/controllers/newhazard_controller.js','risk/controllers/deletehazard_controller.js','risk/controllers/emailreport_controller.js','risk/controllers/completed_controller.js','risk/controllers/mycompletedassessments_controller.js','risk/controllers/completeddetails_controller.js','risk/controllers/deletecompletedtask_controller.js','risk/controllers/addhow_controller.js','risk/controllers/addcontrol_controller.js','risk/controllers/addfurthercontrol_controller.js','jquery/controller/controller.js','jquery/dom/form_params/form_params.js','jquery/controller/view/view.js','risk/views/index/init.ejs','jquery/event/destroyed/destroyed.js','jquery/event/event.js','jquery/dom/dom.js','risk/models/task.js','risk/views/task_add/init.ejs','risk/views/task_edit/init.ejs','risk/models/hazards.js','risk/views/hazards/init.ejs','risk/models/whos.js','risk/models/hows.js','risk/models/assessmentsB.js','risk/models/assessmentexistingcontrols.js','risk/models/controls.js','risk/views/whos/init.ejs','risk/models/assessments.js','risk/views/myassessments/init.ejs','risk/models/assessmentcontrols.js','risk/views/controls/init.ejs','risk/models/assessmentdetailcontrols.js','risk/models/assessmentdetailexistingcontrols.js','risk/views/details/init.ejs','risk/views/inprogress/init.ejs','risk/views/newhazard/init.ejs','risk/views/email/init.ejs','risk/views/completed/init.ejs','risk/views/mycompletedassessments/init.ejs','risk/views/completeddetails/init.ejs');
steal({src: 'risk/production.css', has: ['risk/lib/jQueryMobile/Overrides.css','risk/lib/jQueryMobile/jquery.mobile.structure-1.1.1.css','risk/lib/jQueryMobile/jquery.mobile-1.1.1.css','risk/lib/jQueryMobile/eRisk.min.css','risk/lib/jQueryValidation/validation.css']});
var baseurl;
steal("jquery","jquery/view/ejs","./lib/jQueryMobile/Overrides.css","./lib/jQueryMobile/jquery.mobile.structure-1.1.1.css","./lib/jQueryMobile/jquery.mobile-1.1.1.css","./lib/jQueryMobile/eRisk.min.css",function(){baseurl=window.location.href.replace(/\/$|\/index\.html/i,"");configureJqueryMobile()}).then("./lib/jQueryMobile/jquery.mobile-1.1.0.js","./models/websqlmodel.js").then("./lib/WebSQL/db.js","./lib/jQueryValidation/validation.css","./models/models.js","./controllers/controllers.js","./lib/jQueryValidation/jquery.validate.js",
function(){localStorageDB.init()});
function configureJqueryMobile(){$(document).bind("mobileinit",function(){$.mobile.defaultPageTransition="none";$.mobile.defaultDialogTransition="none"});$(document).bind("pagebeforecreate",function(){});$(document).bind("pagebeforecreate",function(f){if($(f.target).filter("#indexPage").length>0)$("#indexPage").risk_index();else if($(f.target).filter("#AddTaskPage").length>0)$("#NewTaskForm").risk_task_add();else if($(f.target).filter("#EditTaskPage").length>0)$("#EditTaskForm").risk_task_edit();else if($(f.target).filter("#EmailReportPage").length>
0)$("#EmailReportForm").risk_email_report();else $(f.target).filter("#NewHazardPage").length>0&&$("#NewHazardForm").risk_hazard()});$(document).bind("pageshow",function(f){if($(f.target).filter("#MyAssessmentsPage").length>0)$("#MyAssessmentsPage").risk_my_assessments();else if($(f.target).filter("#MyCompletedAssessmentsPage").length>0)$("#MyCompletedAssessmentsPage").risk_my_completed_assessments();else if($(f.target).filter("#ControlsPage").length>0)$("#ControlsPage").risk_controls();else if($(f.target).filter("#WhosPage").length>
0)$("#WhosPage").risk_whos();else if($(f.target).filter("#DetailsPage").length>0)$("#DetailsPage").risk_details();else $(f.target).filter("#CompletedDetailsPage").length>0&&$("#CompletedDetailsPage").risk_completed_details()});$(document).bind("pagecreate",function(f){if($(f.target).filter("#InProgressPage").length>0)$("#InProgressPage").risk_in_progress();else if($(f.target).filter("#CompletedPage").length>0)$("#CompletedPage").risk_completed();else if($(f.target).filter("#HazardsPage").length>0)$("#HazardsPage").risk_hazards();
else if($(f.target).filter("#DeleteConfirmPage").length>0)$("#DeleteConfirmPage").risk_delete();else if($(f.target).filter("#DeleteTaskConfirmPage").length>0)$("#DeleteTaskConfirmPage").risk_delete_task();else if($(f.target).filter("#DeleteCompletedTaskConfirmPage").length>0)$("#DeleteCompletedTaskConfirmPage").risk_delete_completed_task();else if($(f.target).filter("#DeleteHazardConfirmPage").length>0)$("#DeleteHazardConfirmPage").risk_delete_hazard();else if($(f.target).filter("#HowAddDialog").length>
0)$("#HowAddDialog").risk_add_how();else if($(f.target).filter("#ControlAddDialog").length>0)$("#ControlAddDialog").risk_add_control();else $(f.target).filter("#FurtherControlAddDialog").length>0&&$("#FurtherControlAddDialog").risk_add_further_control()})}steal.loaded("risk/risk.js");
(function(f,a){function h(b){var d=va[b]={},g,j;b=b.split(/\s+/);g=0;for(j=b.length;g<j;g++)d[b[g]]=true;return d}function c(b,d,g){if(g===a&&b.nodeType===1){g="data-"+d.replace(wa,"-$1").toLowerCase();g=b.getAttribute(g);if(typeof g==="string"){try{g=g==="true"?true:g==="false"?false:g==="null"?null:e.isNumeric(g)?parseFloat(g):Ba.test(g)?e.parseJSON(g):g}catch(j){}e.data(b,d,g)}else g=a}return g}function m(b){for(var d in b)if(!(d==="data"&&e.isEmptyObject(b[d])))if(d!=="toJSON")return false;return true}
function k(b,d,g){var j=d+"defer",l=d+"queue",q=d+"mark",x=e._data(b,j);if(x&&(g==="queue"||!e._data(b,l))&&(g==="mark"||!e._data(b,q)))setTimeout(function(){if(!e._data(b,l)&&!e._data(b,q)){e.removeData(b,j,true);x.fire()}},0)}function p(){return false}function n(){return true}function o(b){return!b||!b.parentNode||b.parentNode.nodeType===11}function u(b,d,g){d=d||0;if(e.isFunction(d))return e.grep(b,function(l,q){return!!d.call(l,q,l)===g});else if(d.nodeType)return e.grep(b,function(l){return l===
d===g});else if(typeof d==="string"){var j=e.grep(b,function(l){return l.nodeType===1});if(Ab.test(d))return e.filter(d,j,!g);else d=e.filter(d,j)}return e.grep(b,function(l){return e.inArray(l,d)>=0===g})}function v(b){var d=eb.split("|");b=b.createDocumentFragment();if(b.createElement)for(;d.length;)b.createElement(d.pop());return b}function F(b){return e.nodeName(b,"table")?b.getElementsByTagName("tbody")[0]||b.appendChild(b.ownerDocument.createElement("tbody")):b}function C(b,d){if(!(d.nodeType!==
1||!e.hasData(b))){var g,j,l;j=e._data(b);b=e._data(d,j);var q=j.events;if(q){delete b.handle;b.events={};for(g in q){j=0;for(l=q[g].length;j<l;j++)e.event.add(d,g+(q[g][j].namespace?".":"")+q[g][j].namespace,q[g][j],q[g][j].data)}}if(b.data)b.data=e.extend({},b.data)}}function s(b,d){var g;if(d.nodeType===1){d.clearAttributes&&d.clearAttributes();d.mergeAttributes&&d.mergeAttributes(b);g=d.nodeName.toLowerCase();if(g==="object")d.outerHTML=b.outerHTML;else if(g==="input"&&(b.type==="checkbox"||b.type===
"radio")){if(b.checked)d.defaultChecked=d.checked=b.checked;if(d.value!==b.value)d.value=b.value}else if(g==="option")d.selected=b.defaultSelected;else if(g==="input"||g==="textarea")d.defaultValue=b.defaultValue;d.removeAttribute(e.expando)}}function T(b){return typeof b.getElementsByTagName!=="undefined"?b.getElementsByTagName("*"):typeof b.querySelectorAll!=="undefined"?b.querySelectorAll("*"):[]}function H(b){if(b.type==="checkbox"||b.type==="radio")b.defaultChecked=b.checked}function R(b){var d=
(b.nodeName||"").toLowerCase();if(d==="input")H(b);else d!=="script"&&typeof b.getElementsByTagName!=="undefined"&&e.grep(b.getElementsByTagName("input"),H)}function Q(b){var d=P.createElement("div");fb.appendChild(d);d.innerHTML=b.outerHTML;return d.firstChild}function K(b,d){d.src?e.ajax({url:d.src,async:false,dataType:"script"}):e.globalEval((d.text||d.textContent||d.innerHTML||"").replace(Bb,"/*$0*/"));d.parentNode&&d.parentNode.removeChild(d)}function t(b,d,g){var j=d==="width"?b.offsetWidth:
b.offsetHeight,l=d==="width"?Cb:Db,q=0,x=l.length;if(j>0){if(g!=="border")for(;q<x;q++){g||(j-=parseFloat(e.css(b,"padding"+l[q]))||0);if(g==="margin")j+=parseFloat(e.css(b,g+l[q]))||0;else j-=parseFloat(e.css(b,"border"+l[q]+"Width"))||0}return j+"px"}j=Sa(b,d,d);if(j<0||j==null)j=b.style[d]||0;j=parseFloat(j)||0;if(g)for(;q<x;q++){j+=parseFloat(e.css(b,"padding"+l[q]))||0;if(g!=="padding")j+=parseFloat(e.css(b,"border"+l[q]+"Width"))||0;if(g==="margin")j+=parseFloat(e.css(b,g+l[q]))||0}return j+
"px"}function y(b){return function(d,g){if(typeof d!=="string"){g=d;d="*"}if(e.isFunction(g)){d=d.toLowerCase().split(gb);for(var j=0,l=d.length,q,x;j<l;j++){q=d[j];if(x=/^\+/.test(q))q=q.substr(1)||"*";q=b[q]=b[q]||[];q[x?"unshift":"push"](g)}}}}function L(b,d,g,j,l,q){l=l||d.dataTypes[0];q=q||{};q[l]=true;l=b[l];for(var x=0,B=l?l.length:0,D=b===Za,N;x<B&&(D||!N);x++){N=l[x](d,g,j);if(typeof N==="string")if(!D||q[N])N=a;else{d.dataTypes.unshift(N);N=L(b,d,g,j,N,q)}}if((D||!N)&&!q["*"])N=L(b,d,g,
j,"*",q);return N}function I(b,d){var g,j,l=e.ajaxSettings.flatOptions||{};for(g in d)if(d[g]!==a)(l[g]?b:j||(j={}))[g]=d[g];j&&e.extend(true,b,j)}function z(b,d,g,j){if(e.isArray(d))e.each(d,function(q,x){g||Eb.test(b)?j(b,x):z(b+"["+(typeof x==="object"||e.isArray(x)?q:"")+"]",x,g,j)});else if(!g&&d!=null&&typeof d==="object")for(var l in d)z(b+"["+l+"]",d[l],g,j);else j(b,d)}function J(b,d,g){var j=b.contents,l=b.dataTypes,q=b.responseFields,x,B,D,N;for(B in q)if(B in g)d[q[B]]=g[B];for(;l[0]===
"*";){l.shift();if(x===a)x=b.mimeType||d.getResponseHeader("content-type")}if(x)for(B in j)if(j[B]&&j[B].test(x)){l.unshift(B);break}if(l[0]in g)D=l[0];else{for(B in g){if(!l[0]||b.converters[B+" "+l[0]]){D=B;break}N||(N=B)}D=D||N}if(D){D!==l[0]&&l.unshift(D);return g[D]}}function G(b,d){if(b.dataFilter)d=b.dataFilter(d,b.dataType);var g=b.dataTypes,j={},l,q,x=g.length,B,D=g[0],N,ba,V,fa,aa;for(l=1;l<x;l++){if(l===1)for(q in b.converters)if(typeof q==="string")j[q.toLowerCase()]=b.converters[q];N=
D;D=g[l];if(D==="*")D=N;else if(N!=="*"&&N!==D){ba=N+" "+D;V=j[ba]||j["* "+D];if(!V){aa=a;for(fa in j){B=fa.split(" ");if(B[0]===N||B[0]==="*")if(aa=j[B[1]+" "+D]){fa=j[fa];if(fa===true)V=aa;else if(aa===true)V=fa;break}}}V||aa||e.error("No conversion from "+ba.replace(" "," to "));if(V!==true)d=V?V(d):aa(fa(d))}}return d}function U(){try{return new f.XMLHttpRequest}catch(b){}}function ca(){try{return new f.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function la(){setTimeout(A,0);return Wa=e.now()}
function A(){Wa=a}function M(b,d){var g={};e.each(hb.concat.apply([],hb.slice(0,d)),function(){g[this]=b});return g}function W(b){if(!$a[b]){var d=P.body,g=e("<"+b+">").appendTo(d),j=g.css("display");g.remove();if(j==="none"||j===""){if(!La){La=P.createElement("iframe");La.frameBorder=La.width=La.height=0}d.appendChild(La);if(!Ta||!La.createElement){Ta=(La.contentWindow||La.contentDocument).document;Ta.write((P.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");Ta.close()}g=Ta.createElement(b);
Ta.body.appendChild(g);j=e.css(g,"display");d.removeChild(La)}$a[b]=j}return $a[b]}function ja(b){return e.isWindow(b)?b:b.nodeType===9?b.defaultView||b.parentWindow:false}var P=f.document,oa=f.navigator,ma=f.location,e=function(){function b(){if(!d.isReady){try{P.documentElement.doScroll("left")}catch(E){setTimeout(b,1);return}d.ready()}}var d=function(E,Y){return new d.fn.init(E,Y,l)},g=f.jQuery,j=f.$,l,q=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,x=/\S/,B=/^\s+/,D=/\s+$/,N=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,
ba=/^[\],:{}\s]*$/,V=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,fa=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,aa=/(?:^|:|,)(?:\s*\[)+/g,pa=/(webkit)[ \/]([\w.]+)/,xa=/(opera)(?:.*version)?[ \/]([\w.]+)/,za=/(msie) ([\w.]+)/,ya=/(mozilla)(?:.*? rv:([\w.]+))?/,Na=/-([a-z]|[0-9])/ig,qa=/^-ms-/,Ma=function(E,Y){return(Y+"").toUpperCase()},Ka=oa.userAgent,r,w,O=Object.prototype.toString,S=Object.prototype.hasOwnProperty,X=Array.prototype.push,Z=Array.prototype.slice,ga=String.prototype.trim,
ia=Array.prototype.indexOf,sa={};d.fn=d.prototype={constructor:d,init:function(E,Y,ha){var da;if(!E)return this;if(E.nodeType){this.context=this[0]=E;this.length=1;return this}if(E==="body"&&!Y&&P.body){this.context=P;this[0]=P.body;this.selector=E;this.length=1;return this}if(typeof E==="string")if((da=E.charAt(0)==="<"&&E.charAt(E.length-1)===">"&&E.length>=3?[null,E,null]:q.exec(E))&&(da[1]||!Y))if(da[1]){ha=(Y=Y instanceof d?Y[0]:Y)?Y.ownerDocument||Y:P;if(E=N.exec(E))if(d.isPlainObject(Y)){E=
[P.createElement(E[1])];d.fn.attr.call(E,Y,true)}else E=[ha.createElement(E[1])];else{E=d.buildFragment([da[1]],[ha]);E=(E.cacheable?d.clone(E.fragment):E.fragment).childNodes}return d.merge(this,E)}else{if((Y=P.getElementById(da[2]))&&Y.parentNode){if(Y.id!==da[2])return ha.find(E);this.length=1;this[0]=Y}this.context=P;this.selector=E;return this}else return!Y||Y.jquery?(Y||ha).find(E):this.constructor(Y).find(E);else if(d.isFunction(E))return ha.ready(E);if(E.selector!==a){this.selector=E.selector;
this.context=E.context}return d.makeArray(E,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return Z.call(this,0)},get:function(E){return E==null?this.toArray():E<0?this[this.length+E]:this[E]},pushStack:function(E,Y,ha){var da=this.constructor();d.isArray(E)?X.apply(da,E):d.merge(da,E);da.prevObject=this;da.context=this.context;if(Y==="find")da.selector=this.selector+(this.selector?" ":"")+ha;else if(Y)da.selector=this.selector+"."+Y+"("+ha+")";return da},
each:function(E,Y){return d.each(this,E,Y)},ready:function(E){d.bindReady();r.add(E);return this},eq:function(E){E=+E;return E===-1?this.slice(E):this.slice(E,E+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Z.apply(this,arguments),"slice",Z.call(arguments).join(","))},map:function(E){return this.pushStack(d.map(this,function(Y,ha){return E.call(Y,ha,Y)}))},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:[].sort,
splice:[].splice};d.fn.init.prototype=d.fn;d.extend=d.fn.extend=function(){var E,Y,ha,da,ta,ra=arguments[0]||{},Aa=1,Ca=arguments.length,ab=false;if(typeof ra==="boolean"){ab=ra;ra=arguments[1]||{};Aa=2}if(typeof ra!=="object"&&!d.isFunction(ra))ra={};if(Ca===Aa){ra=this;--Aa}for(;Aa<Ca;Aa++)if((E=arguments[Aa])!=null)for(Y in E){ha=ra[Y];da=E[Y];if(ra!==da)if(ab&&da&&(d.isPlainObject(da)||(ta=d.isArray(da)))){if(ta){ta=false;ha=ha&&d.isArray(ha)?ha:[]}else ha=ha&&d.isPlainObject(ha)?ha:{};ra[Y]=
d.extend(ab,ha,da)}else if(da!==a)ra[Y]=da}return ra};d.extend({noConflict:function(E){if(f.$===d)f.$=j;if(E&&f.jQuery===d)f.jQuery=g;return d},isReady:false,readyWait:1,holdReady:function(E){if(E)d.readyWait++;else d.ready(true)},ready:function(E){if(E===true&&!--d.readyWait||E!==true&&!d.isReady){if(!P.body)return setTimeout(d.ready,1);d.isReady=true;if(!(E!==true&&--d.readyWait>0)){r.fireWith(P,[d]);d.fn.trigger&&d(P).trigger("ready").off("ready")}}},bindReady:function(){if(!r){r=d.Callbacks("once memory");
if(P.readyState==="complete")return setTimeout(d.ready,1);if(P.addEventListener){P.addEventListener("DOMContentLoaded",w,false);f.addEventListener("load",d.ready,false)}else if(P.attachEvent){P.attachEvent("onreadystatechange",w);f.attachEvent("onload",d.ready);var E=false;try{E=f.frameElement==null}catch(Y){}P.documentElement.doScroll&&E&&b()}}},isFunction:function(E){return d.type(E)==="function"},isArray:Array.isArray||function(E){return d.type(E)==="array"},isWindow:function(E){return E&&typeof E===
"object"&&"setInterval"in E},isNumeric:function(E){return!isNaN(parseFloat(E))&&isFinite(E)},type:function(E){return E==null?String(E):sa[O.call(E)]||"object"},isPlainObject:function(E){if(!E||d.type(E)!=="object"||E.nodeType||d.isWindow(E))return false;try{if(E.constructor&&!S.call(E,"constructor")&&!S.call(E.constructor.prototype,"isPrototypeOf"))return false}catch(Y){return false}var ha;for(ha in E);return ha===a||S.call(E,ha)},isEmptyObject:function(E){for(var Y in E)return false;return true},
error:function(E){throw new Error(E);},parseJSON:function(E){if(typeof E!=="string"||!E)return null;E=d.trim(E);if(f.JSON&&f.JSON.parse)return f.JSON.parse(E);if(ba.test(E.replace(V,"@").replace(fa,"]").replace(aa,"")))return(new Function("return "+E))();d.error("Invalid JSON: "+E)},parseXML:function(E){var Y,ha;try{if(f.DOMParser){ha=new DOMParser;Y=ha.parseFromString(E,"text/xml")}else{Y=new ActiveXObject("Microsoft.XMLDOM");Y.async="false";Y.loadXML(E)}}catch(da){Y=a}if(!Y||!Y.documentElement||
Y.getElementsByTagName("parsererror").length)d.error("Invalid XML: "+E);return Y},noop:function(){},globalEval:function(E){if(E&&x.test(E))(f.execScript||function(Y){f.eval.call(f,Y)})(E)},camelCase:function(E){return E.replace(qa,"ms-").replace(Na,Ma)},nodeName:function(E,Y){return E.nodeName&&E.nodeName.toUpperCase()===Y.toUpperCase()},each:function(E,Y,ha){var da,ta=0,ra=E.length,Aa=ra===a||d.isFunction(E);if(ha)if(Aa)for(da in E){if(Y.apply(E[da],ha)===false)break}else for(;ta<ra;){if(Y.apply(E[ta++],
ha)===false)break}else if(Aa)for(da in E){if(Y.call(E[da],da,E[da])===false)break}else for(;ta<ra;)if(Y.call(E[ta],ta,E[ta++])===false)break;return E},trim:ga?function(E){return E==null?"":ga.call(E)}:function(E){return E==null?"":E.toString().replace(B,"").replace(D,"")},makeArray:function(E,Y){Y=Y||[];if(E!=null){var ha=d.type(E);E.length==null||ha==="string"||ha==="function"||ha==="regexp"||d.isWindow(E)?X.call(Y,E):d.merge(Y,E)}return Y},inArray:function(E,Y,ha){var da;if(Y){if(ia)return ia.call(Y,
E,ha);da=Y.length;for(ha=ha?ha<0?Math.max(0,da+ha):ha:0;ha<da;ha++)if(ha in Y&&Y[ha]===E)return ha}return-1},merge:function(E,Y){var ha=E.length,da=0;if(typeof Y.length==="number")for(var ta=Y.length;da<ta;da++)E[ha++]=Y[da];else for(;Y[da]!==a;)E[ha++]=Y[da++];E.length=ha;return E},grep:function(E,Y,ha){var da=[],ta;ha=!!ha;for(var ra=0,Aa=E.length;ra<Aa;ra++){ta=!!Y(E[ra],ra);ha!==ta&&da.push(E[ra])}return da},map:function(E,Y,ha){var da,ta,ra=[],Aa=0,Ca=E.length;if(E instanceof d||Ca!==a&&typeof Ca===
"number"&&(Ca>0&&E[0]&&E[Ca-1]||Ca===0||d.isArray(E)))for(;Aa<Ca;Aa++){da=Y(E[Aa],Aa,ha);if(da!=null)ra[ra.length]=da}else for(ta in E){da=Y(E[ta],ta,ha);if(da!=null)ra[ra.length]=da}return ra.concat.apply([],ra)},guid:1,proxy:function(E,Y){if(typeof Y==="string"){var ha=E[Y];Y=E;E=ha}if(!d.isFunction(E))return a;var da=Z.call(arguments,2);ha=function(){return E.apply(Y,da.concat(Z.call(arguments)))};ha.guid=E.guid=E.guid||ha.guid||d.guid++;return ha},access:function(E,Y,ha,da,ta,ra){var Aa=E.length;
if(typeof Y==="object"){for(var Ca in Y)d.access(E,Ca,Y[Ca],da,ta,ha);return E}if(ha!==a){da=!ra&&da&&d.isFunction(ha);for(Ca=0;Ca<Aa;Ca++)ta(E[Ca],Y,da?ha.call(E[Ca],Ca,ta(E[Ca],Y)):ha,ra);return E}return Aa?ta(E[0],Y):a},now:function(){return(new Date).getTime()},uaMatch:function(E){E=E.toLowerCase();E=pa.exec(E)||xa.exec(E)||za.exec(E)||E.indexOf("compatible")<0&&ya.exec(E)||[];return{browser:E[1]||"",version:E[2]||"0"}},sub:function(){function E(ha,da){return new E.fn.init(ha,da)}d.extend(true,
E,this);E.superclass=this;E.fn=E.prototype=this();E.fn.constructor=E;E.sub=this.sub;E.fn.init=function(ha,da){if(da&&da instanceof d&&!(da instanceof E))da=E(da);return d.fn.init.call(this,ha,da,Y)};E.fn.init.prototype=E.fn;var Y=E(P);return E},browser:{}});d.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(E,Y){sa["[object "+Y+"]"]=Y.toLowerCase()});Ka=d.uaMatch(Ka);if(Ka.browser){d.browser[Ka.browser]=true;d.browser.version=Ka.version}if(d.browser.webkit)d.browser.safari=
true;if(x.test("\u00a0")){B=/^[\s\xA0]+/;D=/[\s\xA0]+$/}l=d(P);if(P.addEventListener)w=function(){P.removeEventListener("DOMContentLoaded",w,false);d.ready()};else if(P.attachEvent)w=function(){if(P.readyState==="complete"){P.detachEvent("onreadystatechange",w);d.ready()}};return d}(),va={};e.Callbacks=function(b){b=b?va[b]||h(b):{};var d=[],g=[],j,l,q,x,B,D=function(V){var fa,aa,pa,xa;fa=0;for(aa=V.length;fa<aa;fa++){pa=V[fa];xa=e.type(pa);if(xa==="array")D(pa);else if(xa==="function")if(!b.unique||
!ba.has(pa))d.push(pa)}},N=function(V,fa){fa=fa||[];j=!b.memory||[V,fa];l=true;B=q||0;q=0;for(x=d.length;d&&B<x;B++)if(d[B].apply(V,fa)===false&&b.stopOnFalse){j=true;break}l=false;if(d)if(b.once)if(j===true)ba.disable();else d=[];else if(g&&g.length){j=g.shift();ba.fireWith(j[0],j[1])}},ba={add:function(){if(d){var V=d.length;D(arguments);if(l)x=d.length;else if(j&&j!==true){q=V;N(j[0],j[1])}}return this},remove:function(){if(d)for(var V=arguments,fa=0,aa=V.length;fa<aa;fa++)for(var pa=0;pa<d.length;pa++)if(V[fa]===
d[pa]){if(l)if(pa<=x){x--;pa<=B&&B--}d.splice(pa--,1);if(b.unique)break}return this},has:function(V){if(d)for(var fa=0,aa=d.length;fa<aa;fa++)if(V===d[fa])return true;return false},empty:function(){d=[];return this},disable:function(){d=g=j=a;return this},disabled:function(){return!d},lock:function(){g=a;if(!j||j===true)ba.disable();return this},locked:function(){return!g},fireWith:function(V,fa){if(g)if(l)b.once||g.push([V,fa]);else b.once&&j||N(V,fa);return this},fire:function(){ba.fireWith(this,
arguments);return this},fired:function(){return!!j}};return ba};var Da=[].slice;e.extend({Deferred:function(b){var d=e.Callbacks("once memory"),g=e.Callbacks("once memory"),j=e.Callbacks("memory"),l="pending",q={resolve:d,reject:g,notify:j},x={done:d.add,fail:g.add,progress:j.add,state:function(){return l},isResolved:d.fired,isRejected:g.fired,then:function(N,ba,V){B.done(N).fail(ba).progress(V);return this},always:function(){B.done.apply(B,arguments).fail.apply(B,arguments);return this},pipe:function(N,
ba,V){return e.Deferred(function(fa){e.each({done:[N,"resolve"],fail:[ba,"reject"],progress:[V,"notify"]},function(aa,pa){var xa=pa[0],za=pa[1],ya;e.isFunction(xa)?B[aa](function(){(ya=xa.apply(this,arguments))&&e.isFunction(ya.promise)?ya.promise().then(fa.resolve,fa.reject,fa.notify):fa[za+"With"](this===B?fa:this,[ya])}):B[aa](fa[za])})}).promise()},promise:function(N){if(N==null)N=x;else for(var ba in x)N[ba]=x[ba];return N}},B=x.promise({}),D;for(D in q){B[D]=q[D].fire;B[D+"With"]=q[D].fireWith}B.done(function(){l=
"resolved"},g.disable,j.lock).fail(function(){l="rejected"},d.disable,j.lock);b&&b.call(B,B);return B},when:function(b){function d(ba){return function(V){j[ba]=arguments.length>1?Da.call(arguments,0):V;--B||D.resolveWith(D,j)}}function g(ba){return function(V){x[ba]=arguments.length>1?Da.call(arguments,0):V;D.notifyWith(N,x)}}var j=Da.call(arguments,0),l=0,q=j.length,x=new Array(q),B=q,D=q<=1&&b&&e.isFunction(b.promise)?b:e.Deferred(),N=D.promise();if(q>1){for(;l<q;l++)if(j[l]&&j[l].promise&&e.isFunction(j[l].promise))j[l].promise().then(d(l),
D.reject,g(l));else--B;B||D.resolveWith(D,j)}else if(D!==b)D.resolveWith(D,q?[b]:[]);return N}});e.support=function(){var b,d,g,j,l,q,x,B,D=P.createElement("div");D.setAttribute("className","t");D.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";d=D.getElementsByTagName("*");g=D.getElementsByTagName("a")[0];if(!d||!d.length||!g)return{};j=P.createElement("select");l=j.appendChild(P.createElement("option"));d=D.getElementsByTagName("input")[0];
b={leadingWhitespace:D.firstChild.nodeType===3,tbody:!D.getElementsByTagName("tbody").length,htmlSerialize:!!D.getElementsByTagName("link").length,style:/top/.test(g.getAttribute("style")),hrefNormalized:g.getAttribute("href")==="/a",opacity:/^0.55/.test(g.style.opacity),cssFloat:!!g.style.cssFloat,checkOn:d.value==="on",optSelected:l.selected,getSetAttribute:D.className!=="t",enctype:!!P.createElement("form").enctype,html5Clone:P.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",submitBubbles:true,
changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};d.checked=true;b.noCloneChecked=d.cloneNode(true).checked;j.disabled=true;b.optDisabled=!l.disabled;try{delete D.test}catch(N){b.deleteExpando=false}if(!D.addEventListener&&D.attachEvent&&D.fireEvent){D.attachEvent("onclick",function(){b.noCloneEvent=false});D.cloneNode(true).fireEvent("onclick")}d=P.createElement("input");d.value="t";d.setAttribute("type",
"radio");b.radioValue=d.value==="t";d.setAttribute("checked","checked");D.appendChild(d);g=P.createDocumentFragment();g.appendChild(D.lastChild);b.checkClone=g.cloneNode(true).cloneNode(true).lastChild.checked;b.appendChecked=d.checked;g.removeChild(d);g.appendChild(D);D.innerHTML="";if(f.getComputedStyle){d=P.createElement("div");d.style.width="0";d.style.marginRight="0";D.style.width="2px";D.appendChild(d);b.reliableMarginRight=(parseInt((f.getComputedStyle(d,null)||{marginRight:0}).marginRight,
10)||0)===0}if(D.attachEvent)for(x in{submit:1,change:1,focusin:1}){d="on"+x;B=d in D;if(!B){D.setAttribute(d,"return;");B=typeof D[d]==="function"}b[x+"Bubbles"]=B}g.removeChild(D);g=j=l=d=D=d=null;e(function(){var ba,V,fa,aa,pa=P.getElementsByTagName("body")[0];if(pa){ba=P.createElement("div");ba.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";pa.insertBefore(ba,pa.firstChild);D=P.createElement("div");ba.appendChild(D);D.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";
q=D.getElementsByTagName("td");B=q[0].offsetHeight===0;q[0].style.display="";q[1].style.display="none";b.reliableHiddenOffsets=B&&q[0].offsetHeight===0;D.innerHTML="";D.style.width=D.style.paddingLeft="1px";e.boxModel=b.boxModel=D.offsetWidth===2;if(typeof D.style.zoom!=="undefined"){D.style.display="inline";D.style.zoom=1;b.inlineBlockNeedsLayout=D.offsetWidth===2;D.style.display="";D.innerHTML="<div style='width:4px;'></div>";b.shrinkWrapBlocks=D.offsetWidth!==2}D.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;visibility:hidden;border:0;";
D.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;'><div></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";V=D.firstChild;fa=V.firstChild;aa={doesNotAddBorder:fa.offsetTop!==5,doesAddBorderForTableAndCells:V.nextSibling.firstChild.firstChild.offsetTop===5};fa.style.position="fixed";fa.style.top="20px";
aa.fixedPosition=fa.offsetTop===20||fa.offsetTop===15;fa.style.position=fa.style.top="";V.style.overflow="hidden";V.style.position="relative";aa.subtractsBorderForOverflowNotVisible=fa.offsetTop===-5;aa.doesNotIncludeMarginInBodyOffset=pa.offsetTop!==1;pa.removeChild(ba);D=null;e.extend(b,aa)}});return b}();var Ba=/^(?:\{.*\}|\[.*\])$/,wa=/([A-Z])/g;e.extend({cache:{},uuid:0,expando:"jQuery"+(e.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
applet:true},hasData:function(b){b=b.nodeType?e.cache[b[e.expando]]:b[e.expando];return!!b&&!m(b)},data:function(b,d,g,j){if(e.acceptData(b)){var l;l=e.expando;var q=typeof d==="string",x=b.nodeType,B=x?e.cache:b,D=x?b[l]:b[l]&&l,N=d==="events";if(!((!D||!B[D]||!N&&!j&&!B[D].data)&&q&&g===a)){if(!D)if(x)b[l]=D=++e.uuid;else D=l;if(!B[D]){B[D]={};if(!x)B[D].toJSON=e.noop}if(typeof d==="object"||typeof d==="function")if(j)B[D]=e.extend(B[D],d);else B[D].data=e.extend(B[D].data,d);l=b=B[D];if(!j){if(!b.data)b.data=
{};b=b.data}if(g!==a)b[e.camelCase(d)]=g;if(N&&!b[d])return l.events;if(q){g=b[d];if(g==null)g=b[e.camelCase(d)]}else g=b;return g}}},removeData:function(b,d,g){if(e.acceptData(b)){var j,l,q,x=e.expando,B=b.nodeType,D=B?e.cache:b,N=B?b[x]:x;if(D[N]){if(d)if(j=g?D[N]:D[N].data){if(!e.isArray(d))if(d in j)d=[d];else{d=e.camelCase(d);d=d in j?[d]:d.split(" ")}l=0;for(q=d.length;l<q;l++)delete j[d[l]];if(!(g?m:e.isEmptyObject)(j))return}if(!g){delete D[N].data;if(!m(D[N]))return}if(e.support.deleteExpando||
!D.setInterval)delete D[N];else D[N]=null;if(B)if(e.support.deleteExpando)delete b[x];else if(b.removeAttribute)b.removeAttribute(x);else b[x]=null}}},_data:function(b,d,g){return e.data(b,d,g,true)},acceptData:function(b){if(b.nodeName){var d=e.noData[b.nodeName.toLowerCase()];if(d)return!(d===true||b.getAttribute("classid")!==d)}return true}});e.fn.extend({data:function(b,d){var g,j,l,q=null;if(typeof b==="undefined"){if(this.length){q=e.data(this[0]);if(this[0].nodeType===1&&!e._data(this[0],"parsedAttrs")){j=
this[0].attributes;for(var x=0,B=j.length;x<B;x++){l=j[x].name;if(l.indexOf("data-")===0){l=e.camelCase(l.substring(5));c(this[0],l,q[l])}}e._data(this[0],"parsedAttrs",true)}}return q}else if(typeof b==="object")return this.each(function(){e.data(this,b)});g=b.split(".");g[1]=g[1]?"."+g[1]:"";if(d===a){q=this.triggerHandler("getData"+g[1]+"!",[g[0]]);if(q===a&&this.length){q=e.data(this[0],b);q=c(this[0],b,q)}return q===a&&g[1]?this.data(g[0]):q}else return this.each(function(){var D=e(this),N=[g[0],
d];D.triggerHandler("setData"+g[1]+"!",N);e.data(this,b,d);D.triggerHandler("changeData"+g[1]+"!",N)})},removeData:function(b){return this.each(function(){e.removeData(this,b)})}});e.extend({_mark:function(b,d){if(b){d=(d||"fx")+"mark";e._data(b,d,(e._data(b,d)||0)+1)}},_unmark:function(b,d,g){if(b!==true){g=d;d=b;b=false}if(d){g=g||"fx";var j=g+"mark";if(b=b?0:(e._data(d,j)||1)-1)e._data(d,j,b);else{e.removeData(d,j,true);k(d,g,"mark")}}},queue:function(b,d,g){var j;if(b){d=(d||"fx")+"queue";j=e._data(b,
d);if(g)if(!j||e.isArray(g))j=e._data(b,d,e.makeArray(g));else j.push(g);return j||[]}},dequeue:function(b,d){d=d||"fx";var g=e.queue(b,d),j=g.shift(),l={};if(j==="inprogress")j=g.shift();if(j){d==="fx"&&g.unshift("inprogress");e._data(b,d+".run",l);j.call(b,function(){e.dequeue(b,d)},l)}if(!g.length){e.removeData(b,d+"queue "+d+".run",true);k(b,d,"queue")}}});e.fn.extend({queue:function(b,d){if(typeof b!=="string"){d=b;b="fx"}if(d===a)return e.queue(this[0],b);return this.each(function(){var g=e.queue(this,
b,d);b==="fx"&&g[0]!=="inprogress"&&e.dequeue(this,b)})},dequeue:function(b){return this.each(function(){e.dequeue(this,b)})},delay:function(b,d){b=e.fx?e.fx.speeds[b]||b:b;d=d||"fx";return this.queue(d,function(g,j){var l=setTimeout(g,b);j.stop=function(){clearTimeout(l)}})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,d){function g(){--q||j.resolveWith(l,[l])}if(typeof b!=="string"){d=b;b=a}b=b||"fx";var j=e.Deferred(),l=this;d=l.length;var q=1,x=b+"defer",B=b+"queue";
b=b+"mark";for(var D;d--;)if(D=e.data(l[d],x,a,true)||(e.data(l[d],B,a,true)||e.data(l[d],b,a,true))&&e.data(l[d],x,e.Callbacks("once memory"),true)){q++;D.add(g)}g();return j.promise()}});var Fa=/[\n\t\r]/g,Ia=/\s+/,ea=/\r/g,ka=/^(?:button|input)$/i,na=/^(?:button|input|object|select|textarea)$/i,ua=/^a(?:rea)?$/i,Ea=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ga=e.support.getSetAttribute,Ha,Oa,Va;e.fn.extend({attr:function(b,
d){return e.access(this,b,d,true,e.attr)},removeAttr:function(b){return this.each(function(){e.removeAttr(this,b)})},prop:function(b,d){return e.access(this,b,d,true,e.prop)},removeProp:function(b){b=e.propFix[b]||b;return this.each(function(){try{this[b]=a;delete this[b]}catch(d){}})},addClass:function(b){var d,g,j,l,q,x,B;if(e.isFunction(b))return this.each(function(D){e(this).addClass(b.call(this,D,this.className))});if(b&&typeof b==="string"){d=b.split(Ia);g=0;for(j=this.length;g<j;g++){l=this[g];
if(l.nodeType===1)if(!l.className&&d.length===1)l.className=b;else{q=" "+l.className+" ";x=0;for(B=d.length;x<B;x++)~q.indexOf(" "+d[x]+" ")||(q+=d[x]+" ");l.className=e.trim(q)}}}return this},removeClass:function(b){var d,g,j,l,q,x,B;if(e.isFunction(b))return this.each(function(D){e(this).removeClass(b.call(this,D,this.className))});if(b&&typeof b==="string"||b===a){d=(b||"").split(Ia);g=0;for(j=this.length;g<j;g++){l=this[g];if(l.nodeType===1&&l.className)if(b){q=(" "+l.className+" ").replace(Fa,
" ");x=0;for(B=d.length;x<B;x++)q=q.replace(" "+d[x]+" "," ");l.className=e.trim(q)}else l.className=""}}return this},toggleClass:function(b,d){var g=typeof b,j=typeof d==="boolean";if(e.isFunction(b))return this.each(function(l){e(this).toggleClass(b.call(this,l,this.className,d),d)});return this.each(function(){if(g==="string")for(var l,q=0,x=e(this),B=d,D=b.split(Ia);l=D[q++];){B=j?B:!x.hasClass(l);x[B?"addClass":"removeClass"](l)}else if(g==="undefined"||g==="boolean"){this.className&&e._data(this,
"__className__",this.className);this.className=this.className||b===false?"":e._data(this,"__className__")||""}})},hasClass:function(b){b=" "+b+" ";for(var d=0,g=this.length;d<g;d++)if(this[d].nodeType===1&&(" "+this[d].className+" ").replace(Fa," ").indexOf(b)>-1)return true;return false},val:function(b){var d,g,j,l=this[0];if(arguments.length){j=e.isFunction(b);return this.each(function(q){var x=e(this);if(this.nodeType===1){q=j?b.call(this,q,x.val()):b;if(q==null)q="";else if(typeof q==="number")q+=
"";else if(e.isArray(q))q=e.map(q,function(B){return B==null?"":B+""});d=e.valHooks[this.nodeName.toLowerCase()]||e.valHooks[this.type];if(!d||!("set"in d)||d.set(this,q,"value")===a)this.value=q}})}else if(l){if((d=e.valHooks[l.nodeName.toLowerCase()]||e.valHooks[l.type])&&"get"in d&&(g=d.get(l,"value"))!==a)return g;g=l.value;return typeof g==="string"?g.replace(ea,""):g==null?"":g}}});e.extend({valHooks:{option:{get:function(b){var d=b.attributes.value;return!d||d.specified?b.value:b.text}},select:{get:function(b){var d,
g,j=b.selectedIndex,l=[],q=b.options,x=b.type==="select-one";if(j<0)return null;b=x?j:0;for(g=x?j+1:q.length;b<g;b++){d=q[b];if(d.selected&&(e.support.optDisabled?!d.disabled:d.getAttribute("disabled")===null)&&(!d.parentNode.disabled||!e.nodeName(d.parentNode,"optgroup"))){d=e(d).val();if(x)return d;l.push(d)}}if(x&&!l.length&&q.length)return e(q[j]).val();return l},set:function(b,d){var g=e.makeArray(d);e(b).find("option").each(function(){this.selected=e.inArray(e(this).val(),g)>=0});if(!g.length)b.selectedIndex=
-1;return g}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(b,d,g,j){var l,q,x=b.nodeType;if(!(!b||x===3||x===8||x===2)){if(j&&d in e.attrFn)return e(b)[d](g);if(typeof b.getAttribute==="undefined")return e.prop(b,d,g);if(j=x!==1||!e.isXMLDoc(b)){d=d.toLowerCase();q=e.attrHooks[d]||(Ea.test(d)?Oa:Ha)}if(g!==a)if(g===null)e.removeAttr(b,d);else if(q&&"set"in q&&j&&(l=q.set(b,g,d))!==a)return l;else{b.setAttribute(d,""+g);return g}else if(q&&
"get"in q&&j&&(l=q.get(b,d))!==null)return l;else{l=b.getAttribute(d);return l===null?a:l}}},removeAttr:function(b,d){var g,j,l,q=0;if(d&&b.nodeType===1){g=d.toLowerCase().split(Ia);for(l=g.length;q<l;q++)if(j=g[q]){d=e.propFix[j]||j;e.attr(b,j,"");b.removeAttribute(Ga?j:d);if(Ea.test(j)&&d in b)b[d]=false}}},attrHooks:{type:{set:function(b,d){if(ka.test(b.nodeName)&&b.parentNode)e.error("type property can't be changed");else if(!e.support.radioValue&&d==="radio"&&e.nodeName(b,"input")){var g=b.value;
b.setAttribute("type",d);if(g)b.value=g;return d}}},value:{get:function(b,d){if(Ha&&e.nodeName(b,"button"))return Ha.get(b,d);return d in b?b.value:null},set:function(b,d,g){if(Ha&&e.nodeName(b,"button"))return Ha.set(b,d,g);b.value=d}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
prop:function(b,d,g){var j,l,q=b.nodeType;if(!(!b||q===3||q===8||q===2)){if(q!==1||!e.isXMLDoc(b)){d=e.propFix[d]||d;l=e.propHooks[d]}return g!==a?l&&"set"in l&&(j=l.set(b,g,d))!==a?j:(b[d]=g):l&&"get"in l&&(j=l.get(b,d))!==null?j:b[d]}},propHooks:{tabIndex:{get:function(b){var d=b.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):na.test(b.nodeName)||ua.test(b.nodeName)&&b.href?0:a}}}});e.attrHooks.tabindex=e.propHooks.tabIndex;Oa={get:function(b,d){var g,j=e.prop(b,d);return j===
true||typeof j!=="boolean"&&(g=b.getAttributeNode(d))&&g.nodeValue!==false?d.toLowerCase():a},set:function(b,d,g){if(d===false)e.removeAttr(b,g);else{d=e.propFix[g]||g;if(d in b)b[d]=true;b.setAttribute(g,g.toLowerCase())}return g}};if(!Ga){Va={name:true,id:true};Ha=e.valHooks.button={get:function(b,d){return(b=b.getAttributeNode(d))&&(Va[d]?b.nodeValue!=="":b.specified)?b.nodeValue:a},set:function(b,d,g){var j=b.getAttributeNode(g);if(!j){j=P.createAttribute(g);b.setAttributeNode(j)}return j.nodeValue=
d+""}};e.attrHooks.tabindex.set=Ha.set;e.each(["width","height"],function(b,d){e.attrHooks[d]=e.extend(e.attrHooks[d],{set:function(g,j){if(j===""){g.setAttribute(d,"auto");return j}}})});e.attrHooks.contenteditable={get:Ha.get,set:function(b,d,g){if(d==="")d="false";Ha.set(b,d,g)}}}e.support.hrefNormalized||e.each(["href","src","width","height"],function(b,d){e.attrHooks[d]=e.extend(e.attrHooks[d],{get:function(g){g=g.getAttribute(d,2);return g===null?a:g}})});if(!e.support.style)e.attrHooks.style=
{get:function(b){return b.style.cssText.toLowerCase()||a},set:function(b,d){return b.style.cssText=""+d}};if(!e.support.optSelected)e.propHooks.selected=e.extend(e.propHooks.selected,{get:function(){return null}});if(!e.support.enctype)e.propFix.enctype="encoding";e.support.checkOn||e.each(["radio","checkbox"],function(){e.valHooks[this]={get:function(b){return b.getAttribute("value")===null?"on":b.value}}});e.each(["radio","checkbox"],function(){e.valHooks[this]=e.extend(e.valHooks[this],{set:function(b,
d){if(e.isArray(d))return b.checked=e.inArray(e(b).val(),d)>=0}})});var Pa=/^(?:textarea|input|select)$/i,ib=/^([^\.]*)?(?:\.(.+))?$/,Fb=/\bhover(\.\S+)?\b/,Gb=/^key/,Hb=/^(?:mouse|contextmenu)|click/,jb=/^(?:focusinfocus|focusoutblur)$/,Ib=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,Jb=function(b){if(b=Ib.exec(b)){b[1]=(b[1]||"").toLowerCase();b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")}return b},Kb=function(b,d){var g=b.attributes||{};return(!d[1]||b.nodeName.toLowerCase()===d[1])&&(!d[2]||
(g.id||{}).value===d[2])&&(!d[3]||d[3].test((g["class"]||{}).value))},kb=function(b){return e.event.special.hover?b:b.replace(Fb,"mouseenter$1 mouseleave$1")};e.event={add:function(b,d,g,j,l){var q,x,B,D,N,ba,V,fa,aa;if(!(b.nodeType===3||b.nodeType===8||!d||!g||!(q=e._data(b)))){if(g.handler){V=g;g=V.handler}if(!g.guid)g.guid=e.guid++;B=q.events;if(!B)q.events=B={};x=q.handle;if(!x){q.handle=x=function(pa){return typeof e!=="undefined"&&(!pa||e.event.triggered!==pa.type)?e.event.dispatch.apply(x.elem,
arguments):a};x.elem=b}d=e.trim(kb(d)).split(" ");for(q=0;q<d.length;q++){D=ib.exec(d[q])||[];N=D[1];ba=(D[2]||"").split(".").sort();aa=e.event.special[N]||{};N=(l?aa.delegateType:aa.bindType)||N;aa=e.event.special[N]||{};D=e.extend({type:N,origType:D[1],data:j,handler:g,guid:g.guid,selector:l,quick:Jb(l),namespace:ba.join(".")},V);fa=B[N];if(!fa){fa=B[N]=[];fa.delegateCount=0;if(!aa.setup||aa.setup.call(b,j,ba,x)===false)if(b.addEventListener)b.addEventListener(N,x,false);else b.attachEvent&&b.attachEvent("on"+
N,x)}if(aa.add){aa.add.call(b,D);if(!D.handler.guid)D.handler.guid=g.guid}l?fa.splice(fa.delegateCount++,0,D):fa.push(D);e.event.global[N]=true}b=null}},global:{},remove:function(b,d,g,j,l){var q=e.hasData(b)&&e._data(b),x,B,D,N,ba,V,fa,aa,pa,xa;if(q&&(fa=q.events)){d=e.trim(kb(d||"")).split(" ");for(x=0;x<d.length;x++){B=ib.exec(d[x])||[];D=N=B[1];B=B[2];if(D){aa=e.event.special[D]||{};D=(j?aa.delegateType:aa.bindType)||D;pa=fa[D]||[];ba=pa.length;B=B?new RegExp("(^|\\.)"+B.split(".").sort().join("\\.(?:.*\\.)?")+
"(\\.|$)"):null;for(V=0;V<pa.length;V++){xa=pa[V];if((l||N===xa.origType)&&(!g||g.guid===xa.guid)&&(!B||B.test(xa.namespace))&&(!j||j===xa.selector||j==="**"&&xa.selector)){pa.splice(V--,1);xa.selector&&pa.delegateCount--;aa.remove&&aa.remove.call(b,xa)}}if(pa.length===0&&ba!==pa.length){if(!aa.teardown||aa.teardown.call(b,B)===false)e.removeEvent(b,D,q.handle);delete fa[D]}}else for(D in fa)e.event.remove(b,D+d[x],g,j,true)}if(e.isEmptyObject(fa)){if(d=q.handle)d.elem=null;e.removeData(b,["events",
"handle"],true)}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(b,d,g,j){if(!(g&&(g.nodeType===3||g.nodeType===8))){var l=b.type||b,q=[],x,B,D,N,ba;if(!jb.test(l+e.event.triggered)){if(l.indexOf("!")>=0){l=l.slice(0,-1);x=true}if(l.indexOf(".")>=0){q=l.split(".");l=q.shift();q.sort()}if(!((!g||e.event.customEvent[l])&&!e.event.global[l])){b=typeof b==="object"?b[e.expando]?b:new e.Event(l,b):new e.Event(l);b.type=l;b.isTrigger=true;b.exclusive=x;b.namespace=q.join(".");
b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;x=l.indexOf(":")<0?"on"+l:"";if(g){b.result=a;if(!b.target)b.target=g;d=d!=null?e.makeArray(d):[];d.unshift(b);D=e.event.special[l]||{};if(!(D.trigger&&D.trigger.apply(g,d)===false)){ba=[[g,D.bindType||l]];if(!j&&!D.noBubble&&!e.isWindow(g)){N=D.delegateType||l;q=jb.test(N+l)?g:g.parentNode;for(B=null;q;q=q.parentNode){ba.push([q,N]);B=q}if(B&&B===g.ownerDocument)ba.push([B.defaultView||B.parentWindow||f,N])}for(B=
0;B<ba.length&&!b.isPropagationStopped();B++){q=ba[B][0];b.type=ba[B][1];(N=(e._data(q,"events")||{})[b.type]&&e._data(q,"handle"))&&N.apply(q,d);(N=x&&q[x])&&e.acceptData(q)&&N.apply(q,d)===false&&b.preventDefault()}b.type=l;if(!j&&!b.isDefaultPrevented())if((!D._default||D._default.apply(g.ownerDocument,d)===false)&&!(l==="click"&&e.nodeName(g,"a"))&&e.acceptData(g))if(x&&g[l]&&(l!=="focus"&&l!=="blur"||b.target.offsetWidth!==0)&&!e.isWindow(g)){if(B=g[x])g[x]=null;e.event.triggered=l;g[l]();e.event.triggered=
a;if(B)g[x]=B}return b.result}}else{g=e.cache;for(B in g)g[B].events&&g[B].events[l]&&e.event.trigger(b,d,g[B].handle.elem,true)}}}}},dispatch:function(b){b=e.event.fix(b||f.event);var d=(e._data(this,"events")||{})[b.type]||[],g=d.delegateCount,j=[].slice.call(arguments,0),l=!b.exclusive&&!b.namespace,q=[],x,B,D,N,ba,V,fa;j[0]=b;b.delegateTarget=this;if(g&&!b.target.disabled&&!(b.button&&b.type==="click")){D=e(this);D.context=this.ownerDocument||this;for(B=b.target;B!=this;B=B.parentNode||this){ba=
{};V=[];D[0]=B;for(x=0;x<g;x++){N=d[x];fa=N.selector;if(ba[fa]===a)ba[fa]=N.quick?Kb(B,N.quick):D.is(fa);ba[fa]&&V.push(N)}V.length&&q.push({elem:B,matches:V})}}d.length>g&&q.push({elem:this,matches:d.slice(g)});for(x=0;x<q.length&&!b.isPropagationStopped();x++){g=q[x];b.currentTarget=g.elem;for(d=0;d<g.matches.length&&!b.isImmediatePropagationStopped();d++){N=g.matches[d];if(l||!b.namespace&&!N.namespace||b.namespace_re&&b.namespace_re.test(N.namespace)){b.data=N.data;b.handleObj=N;N=((e.event.special[N.origType]||
{}).handle||N.handler).apply(g.elem,j);if(N!==a){b.result=N;if(N===false){b.preventDefault();b.stopPropagation()}}}}}return b.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(b,d){if(b.which==null)b.which=d.charCode!=null?d.charCode:d.keyCode;return b}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(b,d){var g,j,l=d.button,q=d.fromElement;if(b.pageX==null&&d.clientX!=null){g=b.target.ownerDocument||P;j=g.documentElement;g=g.body;b.pageX=d.clientX+(j&&j.scrollLeft||g&&g.scrollLeft||0)-(j&&j.clientLeft||g&&g.clientLeft||0);b.pageY=d.clientY+(j&&j.scrollTop||g&&g.scrollTop||0)-(j&&j.clientTop||g&&g.clientTop||0)}if(!b.relatedTarget&&q)b.relatedTarget=q===b.target?d.toElement:q;if(!b.which&&l!==a)b.which=l&1?1:l&2?3:l&4?2:0;return b}},fix:function(b){if(b[e.expando])return b;var d,
g,j=b,l=e.event.fixHooks[b.type]||{},q=l.props?this.props.concat(l.props):this.props;b=e.Event(j);for(d=q.length;d;){g=q[--d];b[g]=j[g]}if(!b.target)b.target=j.srcElement||P;if(b.target.nodeType===3)b.target=b.target.parentNode;if(b.metaKey===a)b.metaKey=b.ctrlKey;return l.filter?l.filter(b,j):b},special:{ready:{setup:e.bindReady},load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(b,d,g){if(e.isWindow(this))this.onbeforeunload=g},teardown:function(b,
d){if(this.onbeforeunload===d)this.onbeforeunload=null}}},simulate:function(b,d,g,j){b=e.extend(new e.Event,g,{type:b,isSimulated:true,originalEvent:{}});j?e.event.trigger(b,null,d):e.event.dispatch.call(d,b);b.isDefaultPrevented()&&g.preventDefault()}};e.event.handle=e.event.dispatch;e.removeEvent=P.removeEventListener?function(b,d,g){b.removeEventListener&&b.removeEventListener(d,g,false)}:function(b,d,g){b.detachEvent&&b.detachEvent("on"+d,g)};e.Event=function(b,d){if(!(this instanceof e.Event))return new e.Event(b,
d);if(b&&b.type){this.originalEvent=b;this.type=b.type;this.isDefaultPrevented=b.defaultPrevented||b.returnValue===false||b.getPreventDefault&&b.getPreventDefault()?n:p}else this.type=b;d&&e.extend(this,d);this.timeStamp=b&&b.timeStamp||e.now();this[e.expando]=true};e.Event.prototype={preventDefault:function(){this.isDefaultPrevented=n;var b=this.originalEvent;if(b)if(b.preventDefault)b.preventDefault();else b.returnValue=false},stopPropagation:function(){this.isPropagationStopped=n;var b=this.originalEvent;
if(b){b.stopPropagation&&b.stopPropagation();b.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=n;this.stopPropagation()},isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p};e.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,d){e.event.special[b]={delegateType:d,bindType:d,handle:function(g){var j=this,l=g.relatedTarget,q=g.handleObj,x;if(!l||l!==j&&!e.contains(j,l)){g.type=q.origType;x=q.handler.apply(this,arguments);
g.type=d}return x}}});if(!e.support.submitBubbles)e.event.special.submit={setup:function(){if(e.nodeName(this,"form"))return false;e.event.add(this,"click._submit keypress._submit",function(b){b=b.target;if((b=e.nodeName(b,"input")||e.nodeName(b,"button")?b.form:a)&&!b._submit_attached){e.event.add(b,"submit._submit",function(d){this.parentNode&&!d.isTrigger&&e.event.simulate("submit",this.parentNode,d,true)});b._submit_attached=true}})},teardown:function(){if(e.nodeName(this,"form"))return false;
e.event.remove(this,"._submit")}};if(!e.support.changeBubbles)e.event.special.change={setup:function(){if(Pa.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){e.event.add(this,"propertychange._change",function(b){if(b.originalEvent.propertyName==="checked")this._just_changed=true});e.event.add(this,"click._change",function(b){if(this._just_changed&&!b.isTrigger){this._just_changed=false;e.event.simulate("change",this,b,true)}})}return false}e.event.add(this,"beforeactivate._change",
function(b){b=b.target;if(Pa.test(b.nodeName)&&!b._change_attached){e.event.add(b,"change._change",function(d){this.parentNode&&!d.isSimulated&&!d.isTrigger&&e.event.simulate("change",this.parentNode,d,true)});b._change_attached=true}})},handle:function(b){var d=b.target;if(this!==d||b.isSimulated||b.isTrigger||d.type!=="radio"&&d.type!=="checkbox")return b.handleObj.handler.apply(this,arguments)},teardown:function(){e.event.remove(this,"._change");return Pa.test(this.nodeName)}};e.support.focusinBubbles||
e.each({focus:"focusin",blur:"focusout"},function(b,d){var g=0,j=function(l){e.event.simulate(d,l.target,e.event.fix(l),true)};e.event.special[d]={setup:function(){g++===0&&P.addEventListener(b,j,true)},teardown:function(){--g===0&&P.removeEventListener(b,j,true)}}});e.fn.extend({on:function(b,d,g,j,l){var q,x;if(typeof b==="object"){if(typeof d!=="string"){g=d;d=a}for(x in b)this.on(x,d,g,b[x],l);return this}if(g==null&&j==null){j=d;g=d=a}else if(j==null)if(typeof d==="string"){j=g;g=a}else{j=g;
g=d;d=a}if(j===false)j=p;else if(!j)return this;if(l===1){q=j;j=function(B){e().off(B);return q.apply(this,arguments)};j.guid=q.guid||(q.guid=e.guid++)}return this.each(function(){e.event.add(this,b,j,g,d)})},one:function(b,d,g,j){return this.on.call(this,b,d,g,j,1)},off:function(b,d,g){if(b&&b.preventDefault&&b.handleObj){var j=b.handleObj;e(b.delegateTarget).off(j.namespace?j.type+"."+j.namespace:j.type,j.selector,j.handler);return this}if(typeof b==="object"){for(j in b)this.off(j,d,b[j]);return this}if(d===
false||typeof d==="function"){g=d;d=a}if(g===false)g=p;return this.each(function(){e.event.remove(this,b,g,d)})},bind:function(b,d,g){return this.on(b,null,d,g)},unbind:function(b,d){return this.off(b,null,d)},live:function(b,d,g){e(this.context).on(b,this.selector,d,g);return this},die:function(b,d){e(this.context).off(b,this.selector||"**",d);return this},delegate:function(b,d,g,j){return this.on(d,b,g,j)},undelegate:function(b,d,g){return arguments.length==1?this.off(b,"**"):this.off(d,b,g)},trigger:function(b,
d){return this.each(function(){e.event.trigger(b,d,this)})},triggerHandler:function(b,d){if(this[0])return e.event.trigger(b,d,this[0],true)},toggle:function(b){var d=arguments,g=b.guid||e.guid++,j=0,l=function(q){var x=(e._data(this,"lastToggle"+b.guid)||0)%j;e._data(this,"lastToggle"+b.guid,x+1);q.preventDefault();return d[x].apply(this,arguments)||false};for(l.guid=g;j<d.length;)d[j++].guid=g;return this.click(l)},hover:function(b,d){return this.mouseenter(b).mouseleave(d||b)}});e.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(b,d){e.fn[d]=function(g,j){if(j==null){j=g;g=null}return arguments.length>0?this.on(d,null,g,j):this.trigger(d)};if(e.attrFn)e.attrFn[d]=true;if(Gb.test(d))e.event.fixHooks[d]=e.event.keyHooks;if(Hb.test(d))e.event.fixHooks[d]=e.event.mouseHooks});(function(){function b(r,w,O,S,X,Z){X=0;for(var ga=S.length;X<ga;X++){var ia=S[X];if(ia){var sa=false;for(ia=ia[r];ia;){if(ia[j]===O){sa=S[ia.sizset];break}if(ia.nodeType===1&&!Z){ia[j]=O;ia.sizset=X}if(ia.nodeName.toLowerCase()===w){sa=ia;break}ia=
ia[r]}S[X]=sa}}}function d(r,w,O,S,X,Z){X=0;for(var ga=S.length;X<ga;X++){var ia=S[X];if(ia){var sa=false;for(ia=ia[r];ia;){if(ia[j]===O){sa=S[ia.sizset];break}if(ia.nodeType===1){if(!Z){ia[j]=O;ia.sizset=X}if(typeof w!=="string"){if(ia===w){sa=true;break}}else if(V.filter(w,[ia]).length>0){sa=ia;break}}ia=ia[r]}S[X]=sa}}}var g=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,j="sizcache"+(Math.random()+"").replace(".",
""),l=0,q=Object.prototype.toString,x=false,B=true,D=/\\/g,N=/\r\n/g,ba=/\W/;[0,0].sort(function(){B=false;return 0});var V=function(r,w,O,S){O=O||[];var X=w=w||P;if(w.nodeType!==1&&w.nodeType!==9)return[];if(!r||typeof r!=="string")return O;var Z,ga,ia,sa,E,Y=true,ha=V.isXML(w),da=[],ta=r;do{g.exec("");if(Z=g.exec(ta)){ta=Z[3];da.push(Z[1]);if(Z[2]){sa=Z[3];break}}}while(Z);if(da.length>1&&pa.exec(r))if(da.length===2&&aa.relative[da[0]])ga=Ka(da[0]+da[1],w,S);else for(ga=aa.relative[da[0]]?[w]:V(da.shift(),
w);da.length;){r=da.shift();if(aa.relative[r])r+=da.shift();ga=Ka(r,ga,S)}else{if(!S&&da.length>1&&w.nodeType===9&&!ha&&aa.match.ID.test(da[0])&&!aa.match.ID.test(da[da.length-1])){Z=V.find(da.shift(),w,ha);w=Z.expr?V.filter(Z.expr,Z.set)[0]:Z.set[0]}if(w){Z=S?{expr:da.pop(),set:ya(S)}:V.find(da.pop(),da.length===1&&(da[0]==="~"||da[0]==="+")&&w.parentNode?w.parentNode:w,ha);ga=Z.expr?V.filter(Z.expr,Z.set):Z.set;if(da.length>0)ia=ya(ga);else Y=false;for(;da.length;){Z=E=da.pop();if(aa.relative[E])Z=
da.pop();else E="";if(Z==null)Z=w;aa.relative[E](ia,Z,ha)}}else ia=[]}ia||(ia=ga);ia||V.error(E||r);if(q.call(ia)==="[object Array]")if(Y)if(w&&w.nodeType===1)for(r=0;ia[r]!=null;r++){if(ia[r]&&(ia[r]===true||ia[r].nodeType===1&&V.contains(w,ia[r])))O.push(ga[r])}else for(r=0;ia[r]!=null;r++)ia[r]&&ia[r].nodeType===1&&O.push(ga[r]);else O.push.apply(O,ia);else ya(ia,O);if(sa){V(sa,X,O,S);V.uniqueSort(O)}return O};V.uniqueSort=function(r){if(qa){x=B;r.sort(qa);if(x)for(var w=1;w<r.length;w++)r[w]===
r[w-1]&&r.splice(w--,1)}return r};V.matches=function(r,w){return V(r,null,null,w)};V.matchesSelector=function(r,w){return V(w,null,null,[r]).length>0};V.find=function(r,w,O){var S,X,Z,ga,ia,sa;if(!r)return[];X=0;for(Z=aa.order.length;X<Z;X++){ia=aa.order[X];if(ga=aa.leftMatch[ia].exec(r)){sa=ga[1];ga.splice(1,1);if(sa.substr(sa.length-1)!=="\\"){ga[1]=(ga[1]||"").replace(D,"");S=aa.find[ia](ga,w,O);if(S!=null){r=r.replace(aa.match[ia],"");break}}}}S||(S=typeof w.getElementsByTagName!=="undefined"?
w.getElementsByTagName("*"):[]);return{set:S,expr:r}};V.filter=function(r,w,O,S){for(var X,Z,ga,ia,sa,E,Y,ha,da=r,ta=[],ra=w,Aa=w&&w[0]&&V.isXML(w[0]);r&&w.length;){for(ga in aa.filter)if((X=aa.leftMatch[ga].exec(r))!=null&&X[2]){E=aa.filter[ga];sa=X[1];Z=false;X.splice(1,1);if(sa.substr(sa.length-1)!=="\\"){if(ra===ta)ta=[];if(aa.preFilter[ga])if(X=aa.preFilter[ga](X,ra,O,ta,S,Aa)){if(X===true)continue}else Z=ia=true;if(X)for(Y=0;(sa=ra[Y])!=null;Y++)if(sa){ia=E(sa,X,Y,ra);ha=S^ia;if(O&&ia!=null)if(ha)Z=
true;else ra[Y]=false;else if(ha){ta.push(sa);Z=true}}if(ia!==a){O||(ra=ta);r=r.replace(aa.match[ga],"");if(!Z)return[];break}}}if(r===da)if(Z==null)V.error(r);else break;da=r}return ra};V.error=function(r){throw new Error("Syntax error, unrecognized expression: "+r);};var fa=V.getText=function(r){var w,O;w=r.nodeType;var S="";if(w)if(w===1||w===9)if(typeof r.textContent==="string")return r.textContent;else if(typeof r.innerText==="string")return r.innerText.replace(N,"");else for(r=r.firstChild;r;r=
r.nextSibling)S+=fa(r);else{if(w===3||w===4)return r.nodeValue}else for(w=0;O=r[w];w++)if(O.nodeType!==8)S+=fa(O);return S},aa=V.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(r){return r.getAttribute("href")},type:function(r){return r.getAttribute("type")}},relative:{"+":function(r,w){var O=typeof w==="string",S=O&&!ba.test(w);O=O&&!S;if(S)w=w.toLowerCase();S=0;for(var X=r.length,Z;S<X;S++)if(Z=r[S]){for(;(Z=Z.previousSibling)&&Z.nodeType!==
1;);r[S]=O||Z&&Z.nodeName.toLowerCase()===w?Z||false:Z===w}O&&V.filter(w,r,true)},">":function(r,w){var O,S=typeof w==="string",X=0,Z=r.length;if(S&&!ba.test(w))for(w=w.toLowerCase();X<Z;X++){if(O=r[X]){O=O.parentNode;r[X]=O.nodeName.toLowerCase()===w?O:false}}else{for(;X<Z;X++)if(O=r[X])r[X]=S?O.parentNode:O.parentNode===w;S&&V.filter(w,r,true)}},"":function(r,w,O){var S,X=l++,Z=d;if(typeof w==="string"&&!ba.test(w)){S=w=w.toLowerCase();Z=b}Z("parentNode",w,X,r,S,O)},"~":function(r,w,O){var S,X=
l++,Z=d;if(typeof w==="string"&&!ba.test(w)){S=w=w.toLowerCase();Z=b}Z("previousSibling",w,X,r,S,O)}},find:{ID:function(r,w,O){if(typeof w.getElementById!=="undefined"&&!O)return(r=w.getElementById(r[1]))&&r.parentNode?[r]:[]},NAME:function(r,w){if(typeof w.getElementsByName!=="undefined"){var O=[];w=w.getElementsByName(r[1]);for(var S=0,X=w.length;S<X;S++)w[S].getAttribute("name")===r[1]&&O.push(w[S]);return O.length===0?null:O}},TAG:function(r,w){if(typeof w.getElementsByTagName!=="undefined")return w.getElementsByTagName(r[1])}},
preFilter:{CLASS:function(r,w,O,S,X,Z){r=" "+r[1].replace(D,"")+" ";if(Z)return r;Z=0;for(var ga;(ga=w[Z])!=null;Z++)if(ga)if(X^(ga.className&&(" "+ga.className+" ").replace(/[\t\n\r]/g," ").indexOf(r)>=0))O||S.push(ga);else if(O)w[Z]=false;return false},ID:function(r){return r[1].replace(D,"")},TAG:function(r){return r[1].replace(D,"").toLowerCase()},CHILD:function(r){if(r[1]==="nth"){r[2]||V.error(r[0]);r[2]=r[2].replace(/^\+|\s*/g,"");var w=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(r[2]==="even"&&"2n"||
r[2]==="odd"&&"2n+1"||!/\D/.test(r[2])&&"0n+"+r[2]||r[2]);r[2]=w[1]+(w[2]||1)-0;r[3]=w[3]-0}else r[2]&&V.error(r[0]);r[0]=l++;return r},ATTR:function(r,w,O,S,X,Z){w=r[1]=r[1].replace(D,"");if(!Z&&aa.attrMap[w])r[1]=aa.attrMap[w];r[4]=(r[4]||r[5]||"").replace(D,"");if(r[2]==="~=")r[4]=" "+r[4]+" ";return r},PSEUDO:function(r,w,O,S,X){if(r[1]==="not")if((g.exec(r[3])||"").length>1||/^\w/.test(r[3]))r[3]=V(r[3],null,null,w);else{r=V.filter(r[3],w,O,true^X);O||S.push.apply(S,r);return false}else if(aa.match.POS.test(r[0])||
aa.match.CHILD.test(r[0]))return true;return r},POS:function(r){r.unshift(true);return r}},filters:{enabled:function(r){return r.disabled===false&&r.type!=="hidden"},disabled:function(r){return r.disabled===true},checked:function(r){return r.checked===true},selected:function(r){return r.selected===true},parent:function(r){return!!r.firstChild},empty:function(r){return!r.firstChild},has:function(r,w,O){return!!V(O[3],r).length},header:function(r){return/h\d/i.test(r.nodeName)},text:function(r){var w=
r.getAttribute("type"),O=r.type;return r.nodeName.toLowerCase()==="input"&&"text"===O&&(w===O||w===null)},radio:function(r){return r.nodeName.toLowerCase()==="input"&&"radio"===r.type},checkbox:function(r){return r.nodeName.toLowerCase()==="input"&&"checkbox"===r.type},file:function(r){return r.nodeName.toLowerCase()==="input"&&"file"===r.type},password:function(r){return r.nodeName.toLowerCase()==="input"&&"password"===r.type},submit:function(r){var w=r.nodeName.toLowerCase();return(w==="input"||
w==="button")&&"submit"===r.type},image:function(r){return r.nodeName.toLowerCase()==="input"&&"image"===r.type},reset:function(r){var w=r.nodeName.toLowerCase();return(w==="input"||w==="button")&&"reset"===r.type},button:function(r){var w=r.nodeName.toLowerCase();return w==="input"&&"button"===r.type||w==="button"},input:function(r){return/input|select|textarea|button/i.test(r.nodeName)},focus:function(r){return r===r.ownerDocument.activeElement}},setFilters:{first:function(r,w){return w===0},last:function(r,
w,O,S){return w===S.length-1},even:function(r,w){return w%2===0},odd:function(r,w){return w%2===1},lt:function(r,w,O){return w<O[3]-0},gt:function(r,w,O){return w>O[3]-0},nth:function(r,w,O){return O[3]-0===w},eq:function(r,w,O){return O[3]-0===w}},filter:{PSEUDO:function(r,w,O,S){var X=w[1],Z=aa.filters[X];if(Z)return Z(r,O,w,S);else if(X==="contains")return(r.textContent||r.innerText||fa([r])||"").indexOf(w[3])>=0;else if(X==="not"){w=w[3];O=0;for(S=w.length;O<S;O++)if(w[O]===r)return false;return true}else V.error(X)},
CHILD:function(r,w){var O,S,X,Z;O=w[1];var ga=r;switch(O){case "only":case "first":for(;ga=ga.previousSibling;)if(ga.nodeType===1)return false;if(O==="first")return true;ga=r;case "last":for(;ga=ga.nextSibling;)if(ga.nodeType===1)return false;return true;case "nth":O=w[2];S=w[3];if(O===1&&S===0)return true;w=w[0];if((X=r.parentNode)&&(X[j]!==w||!r.nodeIndex)){Z=0;for(ga=X.firstChild;ga;ga=ga.nextSibling)if(ga.nodeType===1)ga.nodeIndex=++Z;X[j]=w}r=r.nodeIndex-S;return O===0?r===0:r%O===0&&r/O>=0}},
ID:function(r,w){return r.nodeType===1&&r.getAttribute("id")===w},TAG:function(r,w){return w==="*"&&r.nodeType===1||!!r.nodeName&&r.nodeName.toLowerCase()===w},CLASS:function(r,w){return(" "+(r.className||r.getAttribute("class"))+" ").indexOf(w)>-1},ATTR:function(r,w){var O=w[1];r=V.attr?V.attr(r,O):aa.attrHandle[O]?aa.attrHandle[O](r):r[O]!=null?r[O]:r.getAttribute(O);O=r+"";var S=w[2];w=w[4];return r==null?S==="!=":!S&&V.attr?r!=null:S==="="?O===w:S==="*="?O.indexOf(w)>=0:S==="~="?(" "+O+" ").indexOf(w)>=
0:!w?O&&r!==false:S==="!="?O!==w:S==="^="?O.indexOf(w)===0:S==="$="?O.substr(O.length-w.length)===w:S==="|="?O===w||O.substr(0,w.length+1)===w+"-":false},POS:function(r,w,O,S){var X=aa.setFilters[w[2]];if(X)return X(r,O,w,S)}}},pa=aa.match.POS,xa=function(r,w){return"\\"+(w-0+1)};for(var za in aa.match){aa.match[za]=new RegExp(aa.match[za].source+/(?![^\[]*\])(?![^\(]*\))/.source);aa.leftMatch[za]=new RegExp(/(^(?:.|\r|\n)*?)/.source+aa.match[za].source.replace(/\\(\d+)/g,xa))}var ya=function(r,w){r=
Array.prototype.slice.call(r,0);if(w){w.push.apply(w,r);return w}return r};try{Array.prototype.slice.call(P.documentElement.childNodes,0)}catch(Na){ya=function(r,w){var O=0;w=w||[];if(q.call(r)==="[object Array]")Array.prototype.push.apply(w,r);else if(typeof r.length==="number")for(var S=r.length;O<S;O++)w.push(r[O]);else for(;r[O];O++)w.push(r[O]);return w}}var qa,Ma;if(P.documentElement.compareDocumentPosition)qa=function(r,w){if(r===w){x=true;return 0}if(!r.compareDocumentPosition||!w.compareDocumentPosition)return r.compareDocumentPosition?
-1:1;return r.compareDocumentPosition(w)&4?-1:1};else{qa=function(r,w){if(r===w){x=true;return 0}else if(r.sourceIndex&&w.sourceIndex)return r.sourceIndex-w.sourceIndex;var O,S,X=[],Z=[];O=r.parentNode;S=w.parentNode;var ga=O;if(O===S)return Ma(r,w);else if(O){if(!S)return 1}else return-1;for(;ga;){X.unshift(ga);ga=ga.parentNode}for(ga=S;ga;){Z.unshift(ga);ga=ga.parentNode}O=X.length;S=Z.length;for(ga=0;ga<O&&ga<S;ga++)if(X[ga]!==Z[ga])return Ma(X[ga],Z[ga]);return ga===O?Ma(r,Z[ga],-1):Ma(X[ga],
w,1)};Ma=function(r,w,O){if(r===w)return O;for(r=r.nextSibling;r;){if(r===w)return-1;r=r.nextSibling}return 1}}(function(){var r=P.createElement("div"),w="script"+(new Date).getTime(),O=P.documentElement;r.innerHTML="<a name='"+w+"'/>";O.insertBefore(r,O.firstChild);if(P.getElementById(w)){aa.find.ID=function(S,X,Z){if(typeof X.getElementById!=="undefined"&&!Z)return(X=X.getElementById(S[1]))?X.id===S[1]||typeof X.getAttributeNode!=="undefined"&&X.getAttributeNode("id").nodeValue===S[1]?[X]:a:[]};
aa.filter.ID=function(S,X){var Z=typeof S.getAttributeNode!=="undefined"&&S.getAttributeNode("id");return S.nodeType===1&&Z&&Z.nodeValue===X}}O.removeChild(r);O=r=null})();(function(){var r=P.createElement("div");r.appendChild(P.createComment(""));if(r.getElementsByTagName("*").length>0)aa.find.TAG=function(w,O){O=O.getElementsByTagName(w[1]);if(w[1]==="*"){w=[];for(var S=0;O[S];S++)O[S].nodeType===1&&w.push(O[S]);O=w}return O};r.innerHTML="<a href='#'></a>";if(r.firstChild&&typeof r.firstChild.getAttribute!==
"undefined"&&r.firstChild.getAttribute("href")!=="#")aa.attrHandle.href=function(w){return w.getAttribute("href",2)};r=null})();P.querySelectorAll&&function(){var r=V,w=P.createElement("div");w.innerHTML="<p class='TEST'></p>";if(!(w.querySelectorAll&&w.querySelectorAll(".TEST").length===0)){V=function(S,X,Z,ga){X=X||P;if(!ga&&!V.isXML(X)){var ia=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(S);if(ia&&(X.nodeType===1||X.nodeType===9))if(ia[1])return ya(X.getElementsByTagName(S),Z);else if(ia[2]&&aa.find.CLASS&&
X.getElementsByClassName)return ya(X.getElementsByClassName(ia[2]),Z);if(X.nodeType===9){if(S==="body"&&X.body)return ya([X.body],Z);else if(ia&&ia[3]){var sa=X.getElementById(ia[3]);if(sa&&sa.parentNode){if(sa.id===ia[3])return ya([sa],Z)}else return ya([],Z)}try{return ya(X.querySelectorAll(S),Z)}catch(E){}}else if(X.nodeType===1&&X.nodeName.toLowerCase()!=="object"){ia=X;var Y=(sa=X.getAttribute("id"))||"__sizzle__",ha=X.parentNode,da=/^\s*[+~]/.test(S);if(sa)Y=Y.replace(/'/g,"\\$&");else X.setAttribute("id",
Y);if(da&&ha)X=X.parentNode;try{if(!da||ha)return ya(X.querySelectorAll("[id='"+Y+"'] "+S),Z)}catch(ta){}finally{sa||ia.removeAttribute("id")}}}return r(S,X,Z,ga)};for(var O in r)V[O]=r[O];w=null}}();(function(){var r=P.documentElement,w=r.matchesSelector||r.mozMatchesSelector||r.webkitMatchesSelector||r.msMatchesSelector;if(w){var O=!w.call(P.createElement("div"),"div"),S=false;try{w.call(P.documentElement,"[test!='']:sizzle")}catch(X){S=true}V.matchesSelector=function(Z,ga){ga=ga.replace(/\=\s*([^'"\]]*)\s*\]/g,
"='$1']");if(!V.isXML(Z))try{if(S||!aa.match.PSEUDO.test(ga)&&!/!=/.test(ga)){var ia=w.call(Z,ga);if(ia||!O||Z.document&&Z.document.nodeType!==11)return ia}}catch(sa){}return V(ga,null,null,[Z]).length>0}}})();(function(){var r=P.createElement("div");r.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!r.getElementsByClassName||r.getElementsByClassName("e").length===0)){r.lastChild.className="e";if(r.getElementsByClassName("e").length!==1){aa.order.splice(1,0,"CLASS");aa.find.CLASS=
function(w,O,S){if(typeof O.getElementsByClassName!=="undefined"&&!S)return O.getElementsByClassName(w[1])};r=null}}})();V.contains=P.documentElement.contains?function(r,w){return r!==w&&(r.contains?r.contains(w):true)}:P.documentElement.compareDocumentPosition?function(r,w){return!!(r.compareDocumentPosition(w)&16)}:function(){return false};V.isXML=function(r){return(r=(r?r.ownerDocument||r:0).documentElement)?r.nodeName!=="HTML":false};var Ka=function(r,w,O){var S,X=[],Z="";for(w=w.nodeType?[w]:
w;S=aa.match.PSEUDO.exec(r);){Z+=S[0];r=r.replace(aa.match.PSEUDO,"")}r=aa.relative[r]?r+"*":r;S=0;for(var ga=w.length;S<ga;S++)V(r,w[S],X,O);return V.filter(Z,X)};V.attr=e.attr;V.selectors.attrMap={};e.find=V;e.expr=V.selectors;e.expr[":"]=e.expr.filters;e.unique=V.uniqueSort;e.text=V.getText;e.isXMLDoc=V.isXML;e.contains=V.contains})();var Lb=/Until$/,Mb=/^(?:parents|prevUntil|prevAll)/,Nb=/,/,Ab=/^.[^:#\[\.,]*$/,Ob=Array.prototype.slice,lb=e.expr.match.POS,Pb={children:true,contents:true,next:true,
prev:true};e.fn.extend({find:function(b){var d=this,g,j;if(typeof b!=="string")return e(b).filter(function(){g=0;for(j=d.length;g<j;g++)if(e.contains(d[g],this))return true});var l=this.pushStack("","find",b),q,x,B;g=0;for(j=this.length;g<j;g++){q=l.length;e.find(b,this[g],l);if(g>0)for(x=q;x<l.length;x++)for(B=0;B<q;B++)if(l[B]===l[x]){l.splice(x--,1);break}}return l},has:function(b){var d=e(b);return this.filter(function(){for(var g=0,j=d.length;g<j;g++)if(e.contains(this,d[g]))return true})},not:function(b){return this.pushStack(u(this,
b,false),"not",b)},filter:function(b){return this.pushStack(u(this,b,true),"filter",b)},is:function(b){return!!b&&(typeof b==="string"?lb.test(b)?e(b,this.context).index(this[0])>=0:e.filter(b,this).length>0:this.filter(b).length>0)},closest:function(b,d){var g=[],j,l,q=this[0];if(e.isArray(b)){for(l=1;q&&q.ownerDocument&&q!==d;){for(j=0;j<b.length;j++)e(q).is(b[j])&&g.push({selector:b[j],elem:q,level:l});q=q.parentNode;l++}return g}var x=lb.test(b)||typeof b!=="string"?e(b,d||this.context):0;j=0;
for(l=this.length;j<l;j++)for(q=this[j];q;)if(x?x.index(q)>-1:e.find.matchesSelector(q,b)){g.push(q);break}else{q=q.parentNode;if(!q||!q.ownerDocument||q===d||q.nodeType===11)break}g=g.length>1?e.unique(g):g;return this.pushStack(g,"closest",b)},index:function(b){if(!b)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof b==="string")return e.inArray(this[0],e(b));return e.inArray(b.jquery?b[0]:b,this)},add:function(b,d){b=typeof b==="string"?e(b,d):e.makeArray(b&&b.nodeType?[b]:
b);d=e.merge(this.get(),b);return this.pushStack(o(b[0])||o(d[0])?d:e.unique(d))},andSelf:function(){return this.add(this.prevObject)}});e.each({parent:function(b){return(b=b.parentNode)&&b.nodeType!==11?b:null},parents:function(b){return e.dir(b,"parentNode")},parentsUntil:function(b,d,g){return e.dir(b,"parentNode",g)},next:function(b){return e.nth(b,2,"nextSibling")},prev:function(b){return e.nth(b,2,"previousSibling")},nextAll:function(b){return e.dir(b,"nextSibling")},prevAll:function(b){return e.dir(b,
"previousSibling")},nextUntil:function(b,d,g){return e.dir(b,"nextSibling",g)},prevUntil:function(b,d,g){return e.dir(b,"previousSibling",g)},siblings:function(b){return e.sibling(b.parentNode.firstChild,b)},children:function(b){return e.sibling(b.firstChild)},contents:function(b){return e.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:e.makeArray(b.childNodes)}},function(b,d){e.fn[b]=function(g,j){var l=e.map(this,d,g);Lb.test(b)||(j=g);if(j&&typeof j==="string")l=e.filter(j,l);
l=this.length>1&&!Pb[b]?e.unique(l):l;if((this.length>1||Nb.test(j))&&Mb.test(b))l=l.reverse();return this.pushStack(l,b,Ob.call(arguments).join(","))}});e.extend({filter:function(b,d,g){if(g)b=":not("+b+")";return d.length===1?e.find.matchesSelector(d[0],b)?[d[0]]:[]:e.find.matches(b,d)},dir:function(b,d,g){var j=[];for(b=b[d];b&&b.nodeType!==9&&(g===a||b.nodeType!==1||!e(b).is(g));){b.nodeType===1&&j.push(b);b=b[d]}return j},nth:function(b,d,g){d=d||1;for(var j=0;b;b=b[g])if(b.nodeType===1&&++j===
d)break;return b},sibling:function(b,d){for(var g=[];b;b=b.nextSibling)b.nodeType===1&&b!==d&&g.push(b);return g}});var eb="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Qb=/ jQuery\d+="(?:\d+|null)"/g,bb=/^\s+/,mb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,nb=/<([\w:]+)/,Rb=/<tbody/i,Sb=/<|&#?\w+;/,Tb=/<(?:script|style)/i,Ub=/<(?:script|object|embed|option|style)/i,
ob=new RegExp("<(?:"+eb+")","i"),pb=/checked\s*(?:[^=]|=\s*.checked.)/i,Vb=/\/(java|ecma)script/i,Bb=/^\s*<!(?:\[CDATA\[|\-\-)/,Ja={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},fb=v(P);Ja.optgroup=Ja.option;Ja.tbody=Ja.tfoot=
Ja.colgroup=Ja.caption=Ja.thead;Ja.th=Ja.td;if(!e.support.htmlSerialize)Ja._default=[1,"div<div>","</div>"];e.fn.extend({text:function(b){if(e.isFunction(b))return this.each(function(d){var g=e(this);g.text(b.call(this,d,g.text()))});if(typeof b!=="object"&&b!==a)return this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(b));return e.text(this)},wrapAll:function(b){if(e.isFunction(b))return this.each(function(g){e(this).wrapAll(b.call(this,g))});if(this[0]){var d=e(b,this[0].ownerDocument).eq(0).clone(true);
this[0].parentNode&&d.insertBefore(this[0]);d.map(function(){for(var g=this;g.firstChild&&g.firstChild.nodeType===1;)g=g.firstChild;return g}).append(this)}return this},wrapInner:function(b){if(e.isFunction(b))return this.each(function(d){e(this).wrapInner(b.call(this,d))});return this.each(function(){var d=e(this),g=d.contents();g.length?g.wrapAll(b):d.append(b)})},wrap:function(b){var d=e.isFunction(b);return this.each(function(g){e(this).wrapAll(d?b.call(this,g):b)})},unwrap:function(){return this.parent().each(function(){e.nodeName(this,
"body")||e(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(b){this.nodeType===1&&this.appendChild(b)})},prepend:function(){return this.domManip(arguments,true,function(b){this.nodeType===1&&this.insertBefore(b,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(d){this.parentNode.insertBefore(d,this)});else if(arguments.length){var b=e.clean(arguments);b.push.apply(b,this.toArray());
return this.pushStack(b,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(d){this.parentNode.insertBefore(d,this.nextSibling)});else if(arguments.length){var b=this.pushStack(this,"after",arguments);b.push.apply(b,e.clean(arguments));return b}},remove:function(b,d){for(var g=0,j;(j=this[g])!=null;g++)if(!b||e.filter(b,[j]).length){if(!d&&j.nodeType===1){e.cleanData(j.getElementsByTagName("*"));e.cleanData([j])}j.parentNode&&j.parentNode.removeChild(j)}return this},
empty:function(){for(var b=0,d;(d=this[b])!=null;b++)for(d.nodeType===1&&e.cleanData(d.getElementsByTagName("*"));d.firstChild;)d.removeChild(d.firstChild);return this},clone:function(b,d){b=b==null?false:b;d=d==null?b:d;return this.map(function(){return e.clone(this,b,d)})},html:function(b){if(b===a)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Qb,""):null;else if(typeof b==="string"&&!Tb.test(b)&&(e.support.leadingWhitespace||!bb.test(b))&&!Ja[(nb.exec(b)||["",""])[1].toLowerCase()]){b=
b.replace(mb,"<$1></$2>");try{for(var d=0,g=this.length;d<g;d++)if(this[d].nodeType===1){e.cleanData(this[d].getElementsByTagName("*"));this[d].innerHTML=b}}catch(j){this.empty().append(b)}}else e.isFunction(b)?this.each(function(l){var q=e(this);q.html(b.call(this,l,q.html()))}):this.empty().append(b);return this},replaceWith:function(b){if(this[0]&&this[0].parentNode){if(e.isFunction(b))return this.each(function(d){var g=e(this),j=g.html();g.replaceWith(b.call(this,d,j))});if(typeof b!=="string")b=
e(b).detach();return this.each(function(){var d=this.nextSibling,g=this.parentNode;e(this).remove();d?e(d).before(b):e(g).append(b)})}else return this.length?this.pushStack(e(e.isFunction(b)?b():b),"replaceWith",b):this},detach:function(b){return this.remove(b,true)},domManip:function(b,d,g){var j,l,q,x=b[0],B=[];if(!e.support.checkClone&&arguments.length===3&&typeof x==="string"&&pb.test(x))return this.each(function(){e(this).domManip(b,d,g,true)});if(e.isFunction(x))return this.each(function(V){var fa=
e(this);b[0]=x.call(this,V,d?fa.html():a);fa.domManip(b,d,g)});if(this[0]){j=x&&x.parentNode;j=e.support.parentNode&&j&&j.nodeType===11&&j.childNodes.length===this.length?{fragment:j}:e.buildFragment(b,this,B);q=j.fragment;if(l=q.childNodes.length===1?(q=q.firstChild):q.firstChild){d=d&&e.nodeName(l,"tr");for(var D=0,N=this.length,ba=N-1;D<N;D++)g.call(d?F(this[D],l):this[D],j.cacheable||N>1&&D<ba?e.clone(q,true,true):q)}B.length&&e.each(B,K)}return this}});e.buildFragment=function(b,d,g){var j,l,
q,x,B=b[0];if(d&&d[0])x=d[0].ownerDocument||d[0];x.createDocumentFragment||(x=P);if(b.length===1&&typeof B==="string"&&B.length<512&&x===P&&B.charAt(0)==="<"&&!Ub.test(B)&&(e.support.checkClone||!pb.test(B))&&(e.support.html5Clone||!ob.test(B))){l=true;if((q=e.fragments[B])&&q!==1)j=q}if(!j){j=x.createDocumentFragment();e.clean(b,x,j,g)}if(l)e.fragments[B]=q?j:1;return{fragment:j,cacheable:l}};e.fragments={};e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(b,d){e.fn[b]=function(g){var j=[];g=e(g);var l=this.length===1&&this[0].parentNode;if(l&&l.nodeType===11&&l.childNodes.length===1&&g.length===1){g[d](this[0]);return this}else{l=0;for(var q=g.length;l<q;l++){var x=(l>0?this.clone(true):this).get();e(g[l])[d](x);j=j.concat(x)}return this.pushStack(j,b,g.selector)}}});e.extend({clone:function(b,d,g){var j,l,q,x=e.support.html5Clone||!ob.test("<"+b.nodeName)?b.cloneNode(true):Q(b);if((!e.support.noCloneEvent||!e.support.noCloneChecked)&&(b.nodeType===
1||b.nodeType===11)&&!e.isXMLDoc(b)){s(b,x);j=T(b);l=T(x);for(q=0;j[q];++q)l[q]&&s(j[q],l[q])}if(d){C(b,x);if(g){j=T(b);l=T(x);for(q=0;j[q];++q)C(j[q],l[q])}}return x},clean:function(b,d,g,j){d=d||P;if(typeof d.createElement==="undefined")d=d.ownerDocument||d[0]&&d[0].ownerDocument||P;for(var l=[],q,x=0,B;(B=b[x])!=null;x++){if(typeof B==="number")B+="";if(B){if(typeof B==="string")if(Sb.test(B)){B=B.replace(mb,"<$1></$2>");q=(nb.exec(B)||["",""])[1].toLowerCase();var D=Ja[q]||Ja._default,N=D[0],
ba=d.createElement("div");d===P?fb.appendChild(ba):v(d).appendChild(ba);for(ba.innerHTML=D[1]+B+D[2];N--;)ba=ba.lastChild;if(!e.support.tbody){N=Rb.test(B);D=q==="table"&&!N?ba.firstChild&&ba.firstChild.childNodes:D[1]==="<table>"&&!N?ba.childNodes:[];for(q=D.length-1;q>=0;--q)e.nodeName(D[q],"tbody")&&!D[q].childNodes.length&&D[q].parentNode.removeChild(D[q])}!e.support.leadingWhitespace&&bb.test(B)&&ba.insertBefore(d.createTextNode(bb.exec(B)[0]),ba.firstChild);B=ba.childNodes}else B=d.createTextNode(B);
var V;if(!e.support.appendChecked)if(B[0]&&typeof(V=B.length)==="number")for(q=0;q<V;q++)R(B[q]);else R(B);if(B.nodeType)l.push(B);else l=e.merge(l,B)}}if(g){b=function(fa){return!fa.type||Vb.test(fa.type)};for(x=0;l[x];x++)if(j&&e.nodeName(l[x],"script")&&(!l[x].type||l[x].type.toLowerCase()==="text/javascript"))j.push(l[x].parentNode?l[x].parentNode.removeChild(l[x]):l[x]);else{if(l[x].nodeType===1){d=e.grep(l[x].getElementsByTagName("script"),b);l.splice.apply(l,[x+1,0].concat(d))}g.appendChild(l[x])}}return l},
cleanData:function(b){for(var d,g,j=e.cache,l=e.event.special,q=e.support.deleteExpando,x=0,B;(B=b[x])!=null;x++)if(!(B.nodeName&&e.noData[B.nodeName.toLowerCase()]))if(g=B[e.expando]){if((d=j[g])&&d.events){for(var D in d.events)l[D]?e.event.remove(B,D):e.removeEvent(B,D,d.handle);if(d.handle)d.handle.elem=null}if(q)delete B[e.expando];else B.removeAttribute&&B.removeAttribute(e.expando);delete j[g]}}});var cb=/alpha\([^)]*\)/i,Wb=/opacity=([^)]*)/,Xb=/([A-Z]|^ms)/g,qb=/^-?\d+(?:px)?$/i,Yb=/^-?\d/,
Zb=/^([\-+])=([\-+.\de]+)/,$b={position:"absolute",visibility:"hidden",display:"block"},Cb=["Left","Right"],Db=["Top","Bottom"],Sa,rb,sb;e.fn.css=function(b,d){if(arguments.length===2&&d===a)return this;return e.access(this,b,d,true,function(g,j,l){return l!==a?e.style(g,j,l):e.css(g,j)})};e.extend({cssHooks:{opacity:{get:function(b,d){if(d){b=Sa(b,"opacity","opacity");return b===""?"1":b}else return b.style.opacity}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,
widows:true,zIndex:true,zoom:true},cssProps:{"float":e.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,d,g,j){if(!(!b||b.nodeType===3||b.nodeType===8||!b.style)){var l,q=e.camelCase(d),x=b.style,B=e.cssHooks[q];d=e.cssProps[q]||q;if(g!==a){j=typeof g;if(j==="string"&&(l=Zb.exec(g))){g=+(l[1]+1)*+l[2]+parseFloat(e.css(b,d));j="number"}if(!(g==null||j==="number"&&isNaN(g))){if(j==="number"&&!e.cssNumber[q])g+="px";if(!B||!("set"in B)||(g=B.set(b,g))!==a)try{x[d]=g}catch(D){}}}else{if(B&&
"get"in B&&(l=B.get(b,false,j))!==a)return l;return x[d]}}},css:function(b,d,g){var j,l;d=e.camelCase(d);l=e.cssHooks[d];d=e.cssProps[d]||d;if(d==="cssFloat")d="float";if(l&&"get"in l&&(j=l.get(b,true,g))!==a)return j;else if(Sa)return Sa(b,d)},swap:function(b,d,g){var j={};for(var l in d){j[l]=b.style[l];b.style[l]=d[l]}g.call(b);for(l in d)b.style[l]=j[l]}});e.curCSS=e.css;e.each(["height","width"],function(b,d){e.cssHooks[d]={get:function(g,j,l){var q;if(j){if(g.offsetWidth!==0)return t(g,d,l);
else e.swap(g,$b,function(){q=t(g,d,l)});return q}},set:function(g,j){if(qb.test(j)){j=parseFloat(j);if(j>=0)return j+"px"}else return j}}});if(!e.support.opacity)e.cssHooks.opacity={get:function(b,d){return Wb.test((d&&b.currentStyle?b.currentStyle.filter:b.style.filter)||"")?parseFloat(RegExp.$1)/100+"":d?"1":""},set:function(b,d){var g=b.style;b=b.currentStyle;var j=e.isNumeric(d)?"alpha(opacity="+d*100+")":"",l=b&&b.filter||g.filter||"";g.zoom=1;if(d>=1&&e.trim(l.replace(cb,""))===""){g.removeAttribute("filter");
if(b&&!b.filter)return}g.filter=cb.test(l)?l.replace(cb,j):l+" "+j}};e(function(){if(!e.support.reliableMarginRight)e.cssHooks.marginRight={get:function(b,d){var g;e.swap(b,{display:"inline-block"},function(){g=d?Sa(b,"margin-right","marginRight"):b.style.marginRight});return g}}});if(P.defaultView&&P.defaultView.getComputedStyle)rb=function(b,d){var g,j,l;d=d.replace(Xb,"-$1").toLowerCase();if((j=b.ownerDocument.defaultView)&&(l=j.getComputedStyle(b,null))){g=l.getPropertyValue(d);if(g===""&&!e.contains(b.ownerDocument.documentElement,
b))g=e.style(b,d)}return g};if(P.documentElement.currentStyle)sb=function(b,d){var g,j,l=b.currentStyle&&b.currentStyle[d],q=b.style;if(l===null&&q&&(g=q[d]))l=g;if(!qb.test(l)&&Yb.test(l)){g=q.left;if(j=b.runtimeStyle&&b.runtimeStyle.left)b.runtimeStyle.left=b.currentStyle.left;q.left=d==="fontSize"?"1em":l||0;l=q.pixelLeft+"px";q.left=g;if(j)b.runtimeStyle.left=j}return l===""?"auto":l};Sa=rb||sb;if(e.expr&&e.expr.filters){e.expr.filters.hidden=function(b){var d=b.offsetHeight;return b.offsetWidth===
0&&d===0||!e.support.reliableHiddenOffsets&&(b.style&&b.style.display||e.css(b,"display"))==="none"};e.expr.filters.visible=function(b){return!e.expr.filters.hidden(b)}}var ac=/%20/g,Eb=/\[\]$/,tb=/\r?\n/g,bc=/#.*$/,cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,dc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ec=/^(?:GET|HEAD)$/,fc=/^\/\//,ub=/\?/,gc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,hc=/^(?:select|textarea)/i,gb=/\s+/,
ic=/([?&])_=[^&]*/,vb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,wb=e.fn.load,Za={},xb={},Qa,Ra,yb=["*/"]+["*"];try{Qa=ma.href}catch(oc){Qa=P.createElement("a");Qa.href="";Qa=Qa.href}Ra=vb.exec(Qa.toLowerCase())||[];e.fn.extend({load:function(b,d,g){if(typeof b!=="string"&&wb)return wb.apply(this,arguments);else if(!this.length)return this;var j=b.indexOf(" ");if(j>=0){var l=b.slice(j,b.length);b=b.slice(0,j)}j="GET";if(d)if(e.isFunction(d)){g=d;d=a}else if(typeof d==="object"){d=e.param(d,
e.ajaxSettings.traditional);j="POST"}var q=this;e.ajax({url:b,type:j,dataType:"html",data:d,complete:function(x,B,D){D=x.responseText;if(x.isResolved()){x.done(function(N){D=N});q.html(l?e("<div>").append(D.replace(gc,"")).find(l):D)}g&&q.each(g,[D,B,x])}});return this},serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?e.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||
hc.test(this.nodeName)||dc.test(this.type))}).map(function(b,d){b=e(this).val();return b==null?null:e.isArray(b)?e.map(b,function(g){return{name:d.name,value:g.replace(tb,"\r\n")}}):{name:d.name,value:b.replace(tb,"\r\n")}}).get()}});e.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,d){e.fn[d]=function(g){return this.on(d,g)}});e.each(["get","post"],function(b,d){e[d]=function(g,j,l,q){if(e.isFunction(j)){q=q||l;l=j;j=a}return e.ajax({type:d,url:g,data:j,
success:l,dataType:q})}});e.extend({getScript:function(b,d){return e.get(b,a,d,"script")},getJSON:function(b,d,g){return e.get(b,d,g,"json")},ajaxSetup:function(b,d){if(d)I(b,e.ajaxSettings);else{d=b;b=e.ajaxSettings}I(b,d);return b},ajaxSettings:{url:Qa,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Ra[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",
json:"application/json, text/javascript","*":yb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":f.String,"text html":true,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:y(Za),ajaxTransport:y(xb),ajax:function(b,d){function g(r,w,O,S){if(za!==2){za=2;xa&&clearTimeout(xa);pa=a;fa=S||"";qa.readyState=r>0?4:0;var X,Z,ga;S=w;O=O?J(j,qa,O):a;var ia;if(r>=200&&r<300||r===304){if(j.ifModified){if(ia=
qa.getResponseHeader("Last-Modified"))e.lastModified[N]=ia;if(ia=qa.getResponseHeader("Etag"))e.etag[N]=ia}if(r===304){S="notmodified";X=true}else try{Z=G(j,O);S="success";X=true}catch(sa){S="parsererror";ga=sa}}else{ga=S;if(!S||r){S="error";if(r<0)r=0}}qa.status=r;qa.statusText=""+(w||S);X?x.resolveWith(l,[Z,S,qa]):x.rejectWith(l,[qa,S,ga]);qa.statusCode(D);D=a;if(ya)q.trigger("ajax"+(X?"Success":"Error"),[qa,j,X?Z:ga]);B.fireWith(l,[qa,S]);if(ya){q.trigger("ajaxComplete",[qa,j]);--e.active||e.event.trigger("ajaxStop")}}}
if(typeof b==="object"){d=b;b=a}d=d||{};var j=e.ajaxSetup({},d),l=j.context||j,q=l!==j&&(l.nodeType||l instanceof e)?e(l):e.event,x=e.Deferred(),B=e.Callbacks("once memory"),D=j.statusCode||{},N,ba={},V={},fa,aa,pa,xa,za=0,ya,Na,qa={readyState:0,setRequestHeader:function(r,w){if(!za){var O=r.toLowerCase();r=V[O]=V[O]||r;ba[r]=w}return this},getAllResponseHeaders:function(){return za===2?fa:null},getResponseHeader:function(r){var w;if(za===2){if(!aa)for(aa={};w=cc.exec(fa);)aa[w[1].toLowerCase()]=
w[2];w=aa[r.toLowerCase()]}return w===a?null:w},overrideMimeType:function(r){if(!za)j.mimeType=r;return this},abort:function(r){r=r||"abort";pa&&pa.abort(r);g(0,r);return this}};x.promise(qa);qa.success=qa.done;qa.error=qa.fail;qa.complete=B.add;qa.statusCode=function(r){if(r){var w;if(za<2)for(w in r)D[w]=[D[w],r[w]];else{w=r[qa.status];qa.then(w,w)}}return this};j.url=((b||j.url)+"").replace(bc,"").replace(fc,Ra[1]+"//");j.dataTypes=e.trim(j.dataType||"*").toLowerCase().split(gb);if(j.crossDomain==
null){b=vb.exec(j.url.toLowerCase());j.crossDomain=!!(b&&(b[1]!=Ra[1]||b[2]!=Ra[2]||(b[3]||(b[1]==="http:"?80:443))!=(Ra[3]||(Ra[1]==="http:"?80:443))))}if(j.data&&j.processData&&typeof j.data!=="string")j.data=e.param(j.data,j.traditional);L(Za,j,d,qa);if(za===2)return false;ya=j.global;j.type=j.type.toUpperCase();j.hasContent=!ec.test(j.type);ya&&e.active++===0&&e.event.trigger("ajaxStart");if(!j.hasContent){if(j.data){j.url+=(ub.test(j.url)?"&":"?")+j.data;delete j.data}N=j.url;if(j.cache===false){b=
e.now();var Ma=j.url.replace(ic,"$1_="+b);j.url=Ma+(Ma===j.url?(ub.test(j.url)?"&":"?")+"_="+b:"")}}if(j.data&&j.hasContent&&j.contentType!==false||d.contentType)qa.setRequestHeader("Content-Type",j.contentType);if(j.ifModified){N=N||j.url;e.lastModified[N]&&qa.setRequestHeader("If-Modified-Since",e.lastModified[N]);e.etag[N]&&qa.setRequestHeader("If-None-Match",e.etag[N])}qa.setRequestHeader("Accept",j.dataTypes[0]&&j.accepts[j.dataTypes[0]]?j.accepts[j.dataTypes[0]]+(j.dataTypes[0]!=="*"?", "+yb+
"; q=0.01":""):j.accepts["*"]);for(Na in j.headers)qa.setRequestHeader(Na,j.headers[Na]);if(j.beforeSend&&(j.beforeSend.call(l,qa,j)===false||za===2)){qa.abort();return false}for(Na in{success:1,error:1,complete:1})qa[Na](j[Na]);if(pa=L(xb,j,d,qa)){qa.readyState=1;ya&&q.trigger("ajaxSend",[qa,j]);if(j.async&&j.timeout>0)xa=setTimeout(function(){qa.abort("timeout")},j.timeout);try{za=1;pa.send(ba,g)}catch(Ka){if(za<2)g(-1,Ka);else throw Ka;}}else g(-1,"No Transport");return qa},param:function(b,d){var g=
[],j=function(q,x){x=e.isFunction(x)?x():x;g[g.length]=encodeURIComponent(q)+"="+encodeURIComponent(x)};if(d===a)d=e.ajaxSettings.traditional;if(e.isArray(b)||b.jquery&&!e.isPlainObject(b))e.each(b,function(){j(this.name,this.value)});else for(var l in b)z(l,b[l],d,j);return g.join("&").replace(ac,"+")}});e.extend({active:0,lastModified:{},etag:{}});var jc=e.now(),Xa=/(\=)\?(&|$)|\?\?/i;e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return e.expando+"_"+jc++}});e.ajaxPrefilter("json jsonp",
function(b,d,g){d=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data==="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==false&&(Xa.test(b.url)||d&&Xa.test(b.data))){var j,l=b.jsonpCallback=e.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,q=f[l],x=b.url,B=b.data,D="$1"+l+"$2";if(b.jsonp!==false){x=x.replace(Xa,D);if(b.url===x){if(d)B=B.replace(Xa,D);if(b.data===B)x+=(/\?/.test(x)?"&":"?")+b.jsonp+"="+l}}b.url=x;b.data=B;f[l]=function(N){j=[N]};g.always(function(){f[l]=
q;j&&e.isFunction(q)&&f[l](j[0])});b.converters["script json"]=function(){j||e.error(l+" was not called");return j[0]};b.dataTypes[0]="json";return"script"}});e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(b){e.globalEval(b);return b}}});e.ajaxPrefilter("script",function(b){if(b.cache===a)b.cache=false;if(b.crossDomain){b.type="GET";b.global=false}});
e.ajaxTransport("script",function(b){if(b.crossDomain){var d,g=P.head||P.getElementsByTagName("head")[0]||P.documentElement;return{send:function(j,l){d=P.createElement("script");d.async="async";if(b.scriptCharset)d.charset=b.scriptCharset;d.src=b.url;d.onload=d.onreadystatechange=function(q,x){if(x||!d.readyState||/loaded|complete/.test(d.readyState)){d.onload=d.onreadystatechange=null;g&&d.parentNode&&g.removeChild(d);d=a;x||l(200,"success")}};g.insertBefore(d,g.firstChild)},abort:function(){d&&
d.onload(0,1)}}}});var db=f.ActiveXObject?function(){for(var b in Ua)Ua[b](0,1)}:false,kc=0,Ua;e.ajaxSettings.xhr=f.ActiveXObject?function(){return!this.isLocal&&U()||ca()}:U;(function(b){e.extend(e.support,{ajax:!!b,cors:!!b&&"withCredentials"in b})})(e.ajaxSettings.xhr());e.support.ajax&&e.ajaxTransport(function(b){if(!b.crossDomain||e.support.cors){var d;return{send:function(g,j){var l=b.xhr(),q,x;b.username?l.open(b.type,b.url,b.async,b.username,b.password):l.open(b.type,b.url,b.async);if(b.xhrFields)for(x in b.xhrFields)l[x]=
b.xhrFields[x];b.mimeType&&l.overrideMimeType&&l.overrideMimeType(b.mimeType);if(!b.crossDomain&&!g["X-Requested-With"])g["X-Requested-With"]="XMLHttpRequest";try{for(x in g)l.setRequestHeader(x,g[x])}catch(B){}l.send(b.hasContent&&b.data||null);d=function(D,N){var ba,V,fa,aa,pa;try{if(d&&(N||l.readyState===4)){d=a;if(q){l.onreadystatechange=e.noop;db&&delete Ua[q]}if(N)l.readyState!==4&&l.abort();else{ba=l.status;fa=l.getAllResponseHeaders();aa={};if((pa=l.responseXML)&&pa.documentElement)aa.xml=
pa;aa.text=l.responseText;try{V=l.statusText}catch(xa){V=""}if(!ba&&b.isLocal&&!b.crossDomain)ba=aa.text?200:404;else if(ba===1223)ba=204}}}catch(za){N||j(-1,za)}aa&&j(ba,V,aa,fa)};if(!b.async||l.readyState===4)d();else{q=++kc;if(db){if(!Ua){Ua={};e(f).unload(db)}Ua[q]=d}l.onreadystatechange=d}},abort:function(){d&&d(0,1)}}}});var $a={},La,Ta,lc=/^(?:toggle|show|hide)$/,mc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Ya,hb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft",
"marginRight","paddingLeft","paddingRight"],["opacity"]],Wa;e.fn.extend({show:function(b,d,g){if(b||b===0)return this.animate(M("show",3),b,d,g);else{g=0;for(var j=this.length;g<j;g++){b=this[g];if(b.style){d=b.style.display;if(!e._data(b,"olddisplay")&&d==="none")d=b.style.display="";d===""&&e.css(b,"display")==="none"&&e._data(b,"olddisplay",W(b.nodeName))}}for(g=0;g<j;g++){b=this[g];if(b.style){d=b.style.display;if(d===""||d==="none")b.style.display=e._data(b,"olddisplay")||""}}return this}},hide:function(b,
d,g){if(b||b===0)return this.animate(M("hide",3),b,d,g);else{g=0;for(var j=this.length;g<j;g++){b=this[g];if(b.style){d=e.css(b,"display");d!=="none"&&!e._data(b,"olddisplay")&&e._data(b,"olddisplay",d)}}for(g=0;g<j;g++)if(this[g].style)this[g].style.display="none";return this}},_toggle:e.fn.toggle,toggle:function(b,d,g){var j=typeof b==="boolean";if(e.isFunction(b)&&e.isFunction(d))this._toggle.apply(this,arguments);else b==null||j?this.each(function(){var l=j?b:e(this).is(":hidden");e(this)[l?"show":
"hide"]()}):this.animate(M("toggle",3),b,d,g);return this},fadeTo:function(b,d,g,j){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:d},b,g,j)},animate:function(b,d,g,j){function l(){q.queue===false&&e._mark(this);var x=e.extend({},q),B=this.nodeType===1,D=B&&e(this).is(":hidden"),N,ba,V,fa,aa;x.animatedProperties={};for(V in b){N=e.camelCase(V);if(V!==N){b[N]=b[V];delete b[V]}ba=b[N];if(e.isArray(ba)){x.animatedProperties[N]=ba[1];ba=b[N]=ba[0]}else x.animatedProperties[N]=
x.specialEasing&&x.specialEasing[N]||x.easing||"swing";if(ba==="hide"&&D||ba==="show"&&!D)return x.complete.call(this);if(B&&(N==="height"||N==="width")){x.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(e.css(this,"display")==="inline"&&e.css(this,"float")==="none")if(!e.support.inlineBlockNeedsLayout||W(this.nodeName)==="inline")this.style.display="inline-block";else this.style.zoom=1}}if(x.overflow!=null)this.style.overflow="hidden";for(V in b){B=new e.fx(this,x,V);
ba=b[V];if(lc.test(ba))if(N=e._data(this,"toggle"+V)||(ba==="toggle"?D?"show":"hide":0)){e._data(this,"toggle"+V,N==="show"?"hide":"show");B[N]()}else B[ba]();else{N=mc.exec(ba);fa=B.cur();if(N){ba=parseFloat(N[2]);aa=N[3]||(e.cssNumber[V]?"":"px");if(aa!=="px"){e.style(this,V,(ba||1)+aa);fa=(ba||1)/B.cur()*fa;e.style(this,V,fa+aa)}if(N[1])ba=(N[1]==="-="?-1:1)*ba+fa;B.custom(fa,ba,aa)}else B.custom(fa,ba,"")}}return true}var q=e.speed(d,g,j);if(e.isEmptyObject(b))return this.each(q.complete,[false]);
b=e.extend({},b);return q.queue===false?this.each(l):this.queue(q.queue,l)},stop:function(b,d,g){if(typeof b!=="string"){g=d;d=b;b=a}if(d&&b!==false)this.queue(b||"fx",[]);return this.each(function(){function j(D,N,ba){N=N[ba];e.removeData(D,ba,true);N.stop(g)}var l,q=false,x=e.timers,B=e._data(this);g||e._unmark(true,this);if(b==null)for(l in B)B[l]&&B[l].stop&&l.indexOf(".run")===l.length-4&&j(this,B,l);else if(B[l=b+".run"]&&B[l].stop)j(this,B,l);for(l=x.length;l--;)if(x[l].elem===this&&(b==null||
x[l].queue===b)){g?x[l](true):x[l].saveState();q=true;x.splice(l,1)}g&&q||e.dequeue(this,b)})}});e.each({slideDown:M("show",1),slideUp:M("hide",1),slideToggle:M("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,d){e.fn[b]=function(g,j,l){return this.animate(d,g,j,l)}});e.extend({speed:function(b,d,g){var j=b&&typeof b==="object"?e.extend({},b):{complete:g||!g&&d||e.isFunction(b)&&b,duration:b,easing:g&&d||d&&!e.isFunction(d)&&d};j.duration=e.fx.off?
0:typeof j.duration==="number"?j.duration:j.duration in e.fx.speeds?e.fx.speeds[j.duration]:e.fx.speeds._default;if(j.queue==null||j.queue===true)j.queue="fx";j.old=j.complete;j.complete=function(l){e.isFunction(j.old)&&j.old.call(this);if(j.queue)e.dequeue(this,j.queue);else l!==false&&e._unmark(this)};return j},easing:{linear:function(b,d,g,j){return g+j*b},swing:function(b,d,g,j){return(-Math.cos(b*Math.PI)/2+0.5)*j+g}},timers:[],fx:function(b,d,g){this.options=d;this.elem=b;this.prop=g;d.orig=
d.orig||{}}});e.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(e.fx.step[this.prop]||e.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var b,d=e.css(this.elem,this.prop);return isNaN(b=parseFloat(d))?!d||d==="auto"?0:d:b},custom:function(b,d,g){function j(x){return l.step(x)}var l=this,q=e.fx;this.startTime=Wa||la();this.end=d;this.now=this.start=
b;this.pos=this.state=0;this.unit=g||this.unit||(e.cssNumber[this.prop]?"":"px");j.queue=this.options.queue;j.elem=this.elem;j.saveState=function(){l.options.hide&&e._data(l.elem,"fxshow"+l.prop)===a&&e._data(l.elem,"fxshow"+l.prop,l.start)};if(j()&&e.timers.push(j)&&!Ya)Ya=setInterval(q.tick,q.interval)},show:function(){var b=e._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=b||e.style(this.elem,this.prop);this.options.show=true;b!==a?this.custom(this.cur(),b):this.custom(this.prop===
"width"||this.prop==="height"?1:0,this.cur());e(this.elem).show()},hide:function(){this.options.orig[this.prop]=e._data(this.elem,"fxshow"+this.prop)||e.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(b){var d,g=Wa||la(),j=true,l=this.elem,q=this.options;if(b||g>=q.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();q.animatedProperties[this.prop]=true;for(d in q.animatedProperties)if(q.animatedProperties[d]!==true)j=false;if(j){q.overflow!=
null&&!e.support.shrinkWrapBlocks&&e.each(["","X","Y"],function(x,B){l.style["overflow"+B]=q.overflow[x]});q.hide&&e(l).hide();if(q.hide||q.show)for(d in q.animatedProperties){e.style(l,d,q.orig[d]);e.removeData(l,"fxshow"+d,true);e.removeData(l,"toggle"+d,true)}if(b=q.complete){q.complete=false;b.call(l)}}return false}else{if(q.duration==Infinity)this.now=g;else{b=g-this.startTime;this.state=b/q.duration;this.pos=e.easing[q.animatedProperties[this.prop]](this.state,b,0,1,q.duration);this.now=this.start+
(this.end-this.start)*this.pos}this.update()}return true}};e.extend(e.fx,{tick:function(){for(var b,d=e.timers,g=0;g<d.length;g++){b=d[g];!b()&&d[g]===b&&d.splice(g--,1)}d.length||e.fx.stop()},interval:13,stop:function(){clearInterval(Ya);Ya=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(b){e.style(b.elem,"opacity",b.now)},_default:function(b){if(b.elem.style&&b.elem.style[b.prop]!=null)b.elem.style[b.prop]=b.now+b.unit;else b.elem[b.prop]=b.now}}});e.each(["width","height"],
function(b,d){e.fx.step[d]=function(g){e.style(g.elem,d,Math.max(0,g.now)+g.unit)}});if(e.expr&&e.expr.filters)e.expr.filters.animated=function(b){return e.grep(e.timers,function(d){return b===d.elem}).length};var nc=/^t(?:able|d|h)$/i,zb=/^(?:body|html)$/i;e.fn.offset="getBoundingClientRect"in P.documentElement?function(b){var d=this[0],g;if(b)return this.each(function(x){e.offset.setOffset(this,b,x)});if(!d||!d.ownerDocument)return null;if(d===d.ownerDocument.body)return e.offset.bodyOffset(d);
try{g=d.getBoundingClientRect()}catch(j){}var l=d.ownerDocument,q=l.documentElement;if(!g||!e.contains(q,d))return g?{top:g.top,left:g.left}:{top:0,left:0};d=l.body;l=ja(l);return{top:g.top+(l.pageYOffset||e.support.boxModel&&q.scrollTop||d.scrollTop)-(q.clientTop||d.clientTop||0),left:g.left+(l.pageXOffset||e.support.boxModel&&q.scrollLeft||d.scrollLeft)-(q.clientLeft||d.clientLeft||0)}}:function(b){var d=this[0];if(b)return this.each(function(ba){e.offset.setOffset(this,b,ba)});if(!d||!d.ownerDocument)return null;
if(d===d.ownerDocument.body)return e.offset.bodyOffset(d);var g,j=d.offsetParent,l=d,q=d.ownerDocument,x=q.documentElement,B=q.body;g=(q=q.defaultView)?q.getComputedStyle(d,null):d.currentStyle;for(var D=d.offsetTop,N=d.offsetLeft;(d=d.parentNode)&&d!==B&&d!==x;){if(e.support.fixedPosition&&g.position==="fixed")break;g=q?q.getComputedStyle(d,null):d.currentStyle;D-=d.scrollTop;N-=d.scrollLeft;if(d===j){D+=d.offsetTop;N+=d.offsetLeft;if(e.support.doesNotAddBorder&&!(e.support.doesAddBorderForTableAndCells&&
nc.test(d.nodeName))){D+=parseFloat(g.borderTopWidth)||0;N+=parseFloat(g.borderLeftWidth)||0}l=j;j=d.offsetParent}if(e.support.subtractsBorderForOverflowNotVisible&&g.overflow!=="visible"){D+=parseFloat(g.borderTopWidth)||0;N+=parseFloat(g.borderLeftWidth)||0}g=g}if(g.position==="relative"||g.position==="static"){D+=B.offsetTop;N+=B.offsetLeft}if(e.support.fixedPosition&&g.position==="fixed"){D+=Math.max(x.scrollTop,B.scrollTop);N+=Math.max(x.scrollLeft,B.scrollLeft)}return{top:D,left:N}};e.offset=
{bodyOffset:function(b){var d=b.offsetTop,g=b.offsetLeft;if(e.support.doesNotIncludeMarginInBodyOffset){d+=parseFloat(e.css(b,"marginTop"))||0;g+=parseFloat(e.css(b,"marginLeft"))||0}return{top:d,left:g}},setOffset:function(b,d,g){var j=e.css(b,"position");if(j==="static")b.style.position="relative";var l=e(b),q=l.offset(),x=e.css(b,"top"),B=e.css(b,"left"),D={},N={};if((j==="absolute"||j==="fixed")&&e.inArray("auto",[x,B])>-1){N=l.position();j=N.top;B=N.left}else{j=parseFloat(x)||0;B=parseFloat(B)||
0}if(e.isFunction(d))d=d.call(b,g,q);if(d.top!=null)D.top=d.top-q.top+j;if(d.left!=null)D.left=d.left-q.left+B;"using"in d?d.using.call(b,D):l.css(D)}};e.fn.extend({position:function(){if(!this[0])return null;var b=this[0],d=this.offsetParent(),g=this.offset(),j=zb.test(d[0].nodeName)?{top:0,left:0}:d.offset();g.top-=parseFloat(e.css(b,"marginTop"))||0;g.left-=parseFloat(e.css(b,"marginLeft"))||0;j.top+=parseFloat(e.css(d[0],"borderTopWidth"))||0;j.left+=parseFloat(e.css(d[0],"borderLeftWidth"))||
0;return{top:g.top-j.top,left:g.left-j.left}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||P.body;b&&!zb.test(b.nodeName)&&e.css(b,"position")==="static";)b=b.offsetParent;return b})}});e.each(["Left","Top"],function(b,d){var g="scroll"+d;e.fn[g]=function(j){var l,q;if(j===a){l=this[0];if(!l)return null;return(q=ja(l))?"pageXOffset"in q?q[b?"pageYOffset":"pageXOffset"]:e.support.boxModel&&q.document.documentElement[g]||q.document.body[g]:l[g]}return this.each(function(){if(q=
ja(this))q.scrollTo(!b?j:e(q).scrollLeft(),b?j:e(q).scrollTop());else this[g]=j})}});e.each(["Height","Width"],function(b,d){var g=d.toLowerCase();e.fn["inner"+d]=function(){var j=this[0];return j?j.style?parseFloat(e.css(j,g,"padding")):this[g]():null};e.fn["outer"+d]=function(j){var l=this[0];return l?l.style?parseFloat(e.css(l,g,j?"margin":"border")):this[g]():null};e.fn[g]=function(j){var l=this[0];if(!l)return j==null?null:this;if(e.isFunction(j))return this.each(function(B){var D=e(this);D[g](j.call(this,
B,D[g]()))});if(e.isWindow(l)){var q=l.document.documentElement["client"+d],x=l.document.body;return l.document.compatMode==="CSS1Compat"&&q||x&&x["client"+d]||q}else if(l.nodeType===9)return Math.max(l.documentElement["client"+d],l.body["scroll"+d],l.documentElement["scroll"+d],l.body["offset"+d],l.documentElement["offset"+d]);else if(j===a){l=e.css(l,g);q=parseFloat(l);return e.isNumeric(q)?q:l}else return this.css(g,typeof j==="string"?j:j+"px")}});f.jQuery=f.$=e;typeof define==="function"&&define.amd&&
define.amd.jQuery&&define("jquery",[],function(){return e})})(window);steal.loaded("jquery/jquery.js");
steal("jquery/view","jquery/lang/string/rsplit").then(function(f){var a=function(G){eval(G)},h=f.String.rsplit,c=f.extend,m=f.isArray,k=/\r\n/g,p=/\r/g,n=/\n/g,o=/\n/,u=/\\/g,v=/"/g,F=/'/g,C=/\t/g,s=/\{/g,T=/\}/g,H=/\s*\(([\$\w]+)\)\s*->([^\n]*)/,R=function(G){return G.replace(u,"\\\\").replace(n,"\\n").replace(v,'\\"').replace(C,"\\t")},Q=function(G){return G.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(v,"&#34;").replace(F,"&#39;")},K=f.View,t=function(G){var U=G.match(s);
G=G.match(T);return(U?U.length:0)-(G?G.length:0)},y=function(G){if(this.constructor!=y){var U=new y(G);return function(ca,la){return U.render(ca,la)}}if(typeof G=="function")this.template={fn:G};else{c(this,y.options,G);this.template=J(this.text,this.type,this.name)}};window.jQuery&&(jQuery.EJS=y);y.prototype.render=function(G,U){G=G||{};this._extra_helpers=U;U=new y.Helpers(G,U||{});return this.template.fn.call(G,G,U)};c(y,{text:function(G){if(typeof G=="string")return G;if(G===null||G===undefined)return"";
var U=G.hookup&&function(ca,la){G.hookup.call(G,ca,la)}||typeof G=="function"&&G||m(G)&&function(ca,la){for(var A=0;A<G.length;A++)G[A].hookup?G[A].hookup(ca,la):G[A](ca,la)};if(U)return"data-view-id='"+K.hookup(U)+"'";return G.toString?G.toString():""},clean:function(G){return typeof G=="string"?Q(G):typeof G=="number"?G:y.text(G)},options:{type:"<",ext:".ejs"}});var L=function(G,U,ca){U=h(U,o);for(var la=0;la<U.length;la++)I(G,U[la],ca)},I=function(G,U,ca){G.lines++;U=h(U,G.splitter);for(var la,
A=0;A<U.length;A++){la=U[A];la!==null&&ca(la,G)}},z=function(G,U){var ca={};c(ca,{left:G+"%",right:"%"+U,dLeft:G+"%%",dRight:"%%"+U,eeLeft:G+"%==",eLeft:G+"%=",cmnt:G+"%#",scan:L,lines:0});ca.splitter=new RegExp("("+[ca.dLeft,ca.dRight,ca.eeLeft,ca.eLeft,ca.cmnt,ca.left,ca.right+"\n",ca.right,"\n"].join(")|(").replace(/\[/g,"\\[").replace(/\]/g,"\\]")+")");return ca},J=function(G,U,ca){G=G.replace(k,"\n").replace(p,"\n");U=U||"<";var la=new y.Buffer(["var ___v1ew = [];"],[]),A="",M=function(oa){la.push("___v1ew.push(",
'"',R(oa),'");')},W=null,ja=function(){A=""},P=[];L(z(U,U==="["?"]":">"),G||"",function(oa,ma){if(W===null)switch(oa){case "\n":A+="\n";M(A);la.cr();ja();break;case ma.left:case ma.eLeft:case ma.eeLeft:case ma.cmnt:W=oa;A.length>0&&M(A);ja();break;case ma.dLeft:A+=ma.left;break;default:A+=oa;break}else switch(oa){case ma.right:switch(W){case ma.left:oa=t(A);ma=P.length&&oa==-1?P.pop():";";ma==="));"&&la.push("return ___v1ew.join('')");la.push(A,ma);oa===1&&P.push(";");break;case ma.eLeft:(oa=t(A))&&
P.push("));");if(H.test(A)){ma=A.match(H);A="function(__){var "+ma[1]+"=$(__);"+ma[2]+"}"}la.push("___v1ew.push(","jQuery.EJS.clean(",A,oa?"var ___v1ew = [];":"));");break;case ma.eeLeft:(oa=t(A))&&P.push("));");la.push("___v1ew.push(","jQuery.EJS.text(",A,oa?"var ___v1ew = [];":"));");break}W=null;ja();break;case ma.dRight:A+=ma.right;break;default:A+=oa;break}});A.length>0&&la.push("___v1ew.push(",'"',R(A)+'");');G={out:"try { with(_VIEW) { with (_CONTEXT) {"+la.close()+" return ___v1ew.join('')}}}catch(e){e.lineNumber=null;throw e;}"};
a.call(G,"this.fn = (function(_CONTEXT,_VIEW){"+G.out+"});\r\n//@ sourceURL="+ca+".js");return G};y.Buffer=function(G,U){this.line=[];this.script=[];this.post=U;this.push.apply(this,G)};y.Buffer.prototype={push:function(){this.line.push.apply(this.line,arguments)},cr:function(){this.script.push(this.line.join(""),"\n");this.line=[]},close:function(){if(this.line.length>0){this.script.push(this.line.join(""));this.line=[]}this.post.length&&this.push.apply(this,this.post);this.script.push(";");return this.script.join("")}};
y.Helpers=function(G,U){this._data=G;this._extras=U;c(this,U)};y.Helpers.prototype={plugin:function(){var G=f.makeArray(arguments),U=G.shift();return function(ca){ca=f(ca);ca[U].apply(ca,G)}},view:function(G,U,ca){ca=ca||this._extras;U=U||this._data;return K(G,U,ca)}};K.register({suffix:"ejs",script:function(G,U){return"jQuery.EJS(function(_CONTEXT,_VIEW) { "+(new y({text:U,name:G})).template.out+" })"},renderer:function(G,U){return y({text:U,name:G})}})});steal.loaded("jquery/view/ejs/ejs.js");
steal("jquery").then(function(f){var a=function(K){return K.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},h=f.makeArray,c=1,m=f.View=function(K,t,y,L){if(typeof y==="function"){L=y;y=undefined}var I=o(t);if(I.length){var z=f.Deferred();I.push(p(K,true));f.when.apply(f,I).then(function(G){var U=h(arguments),ca=U.pop()[0];if(n(t))t=u(G);else for(var la in t)if(n(t[la]))t[la]=u(U.shift());U=ca(t,y);z.resolve(U);L&&L(U)});return z.promise()}else{var J;I=typeof L==="function";z=p(K,I);if(I){J=z;z.done(function(G){L(G(t,
y))})}else z.done(function(G){J=G(t,y)});return J}},k=function(K,t){if(!K.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+t;},p=function(K,t){return f.ajax({url:K,dataType:"view",async:t})},n=function(K){return K&&f.isFunction(K.always)},o=function(K){var t=[];if(n(K))return[K];else for(var y in K)n(K[y])&&t.push(K[y]);return t},u=function(K){return f.isArray(K)&&K.length===3&&K[1]==="success"?K[0]:K};f.ajaxTransport("view",function(K,t){var y=t.url;K=y.match(/\.[\w\d]+$/);
var L,I,z,J,G=function(ca){ca=L.renderer(z,ca);if(m.cache)m.cached[z]=ca;return{view:ca}};if(I=document.getElementById(y))K="."+I.type.match(/\/(x\-)?(.+)/)[2];if(!K){K=m.ext;y+=m.ext}z=a(y);if(y.match(/^\/\//)){var U=y.substr(2);y=typeof steal==="undefined"?(y="/"+U):steal.root.mapJoin(U)+""}L=m.types[K];return{send:function(ca,la){if(m.cached[z])return la(200,"success",{view:m.cached[z]});else if(I)la(200,"success",G(I.innerHTML));else J=f.ajax({async:t.async,url:y,dataType:"text",error:function(){k("",
y);la(404)},success:function(A){k(A,y);la(200,"success",G(A))}})},abort:function(){J&&J.abort()}}});f.extend(m,{hookups:{},hookup:function(K){var t=++c;m.hookups[t]=K;return t},cached:{},cache:true,register:function(K){this.types["."+K.suffix]=K;window.steal&&steal.type(K.suffix+" view js",function(t,y){var L=m.types["."+t.type],I=a(t.rootSrc+"");t.text=L.script(I,t.text);y()})},types:{},ext:".ejs",registerScript:function(K,t,y){return"$.View.preload('"+t+"',"+m.types["."+K].script(t,y)+");"},preload:function(K,
t){m.cached[K]=function(y,L){return t.call(y,y,L)}}});window.steal&&steal.type("view js",function(K,t){var y=m.types["."+K.type],L=a(K.rootSrc+"");K.text="steal('"+(y.plugin||"jquery/view/"+K.type)+"').then(function($){$.View.preload('"+L+"',"+K.text+");\n})";t()});var v,F,C,s,T,H,R,Q={val:true,text:true};v=function(K){var t=f.fn[K];f.fn[K]=function(){var y=h(arguments),L,I,z=this;if(n(y[0])){y[0].done(function(J){F.call(z,[J],t)});return this}else if(C(y)){if(L=H(y)){I=y[L];y[L]=function(J){F.call(z,
[J],t);I.call(z,J)};m.apply(m,y);return this}y=m.apply(m,y);if(n(y)){y.done(function(J){F.call(z,[J],t)});return this}else y=[y]}return Q[K]?t.apply(this,y):F.call(this,y,t)}};F=function(K,t){var y;for(var L in m.hookups)break;if(L&&K[0]&&s(K[0])){y=m.hookups;m.hookups={};K[0]=f(K[0])}t=t.apply(this,K);y&&R(K[0],y);return t};C=function(K){var t=typeof K[1];return typeof K[0]=="string"&&(t=="object"||t=="function")&&!T(K[1])};T=function(K){return K.nodeType||K.jquery};s=function(K){if(T(K))return true;
else if(typeof K==="string"){K=f.trim(K);return K.substr(0,1)==="<"&&K.substr(K.length-1,1)===">"&&K.length>=3}else return false};H=function(K){return typeof K[3]==="function"?3:typeof K[2]==="function"&&2};R=function(K,t){var y,L=0,I,z;K=K.filter(function(){return this.nodeType!=3});K=K.add("[data-view-id]",K);for(y=K.length;L<y;L++)if(K[L].getAttribute&&(I=K[L].getAttribute("data-view-id"))&&(z=t[I])){z(K[L],I);delete t[I];K[L].removeAttribute("data-view-id")}f.extend(m.hookups,t)};f.fn.hookup=
function(){var K=m.hookups;m.hookups={};R(this,K);return this};f.each(["prepend","append","after","before","text","html","replaceWith","val"],function(K,t){v(t)})});steal.loaded("jquery/view/view.js");steal("jquery/lang/string",function(f){f.String.rsplit=function(a,h){for(var c=h.exec(a),m=[],k;c!==null;){k=c.index;if(k!==0){m.push(a.substring(0,k));a=a.slice(k)}m.push(c[0]);a=a.slice(c[0].length);c=h.exec(a)}a!==""&&m.push(a);return m}});steal.loaded("jquery/lang/string/rsplit/rsplit.js");
steal("jquery").then(function(f){var a={undHash:/_|-/,colons:/::/,words:/([A-Z]+)([A-Z][a-z])/g,lowUp:/([a-z\d])([A-Z])/g,dash:/([a-z\d])([A-Z])/g,replacer:/\{([^\}]+)\}/g,dot:/\./},h=function(p,n,o){return p[n]!==undefined?p[n]:o&&(p[n]={})},c=function(p){var n=typeof p;return p&&(n=="function"||n=="object")},m,k=f.String=f.extend(f.String||{},{getObject:m=function(p,n,o){p=p?p.split(a.dot):[];var u=p.length,v,F,C,s=0;n=f.isArray(n)?n:[n||window];if(u==0)return n[0];for(;v=n[s++];){for(C=0;C<u-1&&
c(v);C++)v=h(v,p[C],o);if(c(v)){F=h(v,p[C],o);if(F!==undefined){o===false&&delete v[p[C]];return F}}}},capitalize:function(p){return p.charAt(0).toUpperCase()+p.substr(1)},camelize:function(p){p=k.classize(p);return p.charAt(0).toLowerCase()+p.substr(1)},classize:function(p,n){p=p.split(a.undHash);for(var o=0;o<p.length;o++)p[o]=k.capitalize(p[o]);return p.join(n||"")},niceName:function(p){return k.classize(p," ")},underscore:function(p){return p.replace(a.colons,"/").replace(a.words,"$1_$2").replace(a.lowUp,
"$1_$2").replace(a.dash,"_").toLowerCase()},sub:function(p,n,o){var u=[];o=typeof o=="boolean"?!o:o;u.push(p.replace(a.replacer,function(v,F){v=m(F,n,o);if(c(v)){u.push(v);return""}else return""+v}));return u.length<=1?u[0]:u},_regs:a})});steal.loaded("jquery/lang/string/string.js");
(function(f,a,h){typeof define==="function"&&define.amd?define(["jquery"],function(c){h(c,f,a);return c.mobile}):h(f.jQuery,f,a)})(this,document,function(f,a,h){(function(c,m,k,p){function n(ea){for(;ea&&typeof ea.originalEvent!=="undefined";)ea=ea.originalEvent;return ea}function o(ea,ka){var na=ea.type,ua,Ea,Ga;ea=c.Event(ea);ea.type=ka;ua=ea.originalEvent;Ea=c.event.props;if(na.search(/^(mouse|click)/)>-1)Ea=A;if(ua)for(Ga=Ea.length;Ga;){ka=Ea[--Ga];ea[ka]=ua[ka]}if(na.search(/mouse(down|up)|click/)>
-1&&!ea.which)ea.which=1;if(na.search(/^touch/)!==-1){ka=n(ua);na=ka.touches;ka=ka.changedTouches;if(na=na&&na.length?na[0]:ka&&ka.length?ka[0]:p){ua=0;for(len=la.length;ua<len;ua++){ka=la[ua];ea[ka]=na[ka]}}}return ea}function u(ea){for(var ka={},na,ua;ea;){na=c.data(ea,U);for(ua in na)if(na[ua])ka[ua]=ka.hasVirtualBinding=true;ea=ea.parentNode}return ka}function v(ea,ka){for(var na;ea;){if((na=c.data(ea,U))&&(!ka||na[ka]))return ea;ea=ea.parentNode}return null}function F(){va=false}function C(){va=
true}function s(){Fa=0;ma.length=0;e=false;C()}function T(){F()}function H(){R();W=setTimeout(function(){W=0;s()},c.vmouse.resetTimerDuration)}function R(){if(W){clearTimeout(W);W=0}}function Q(ea,ka,na){var ua;if(na&&na[ea]||!na&&v(ka.target,ea)){ua=o(ka,ea);c(ka.target).trigger(ua)}return ua}function K(ea){var ka=c.data(ea.target,ca);if(!e&&(!Fa||Fa!==ka))if(ka=Q("v"+ea.type,ea)){ka.isDefaultPrevented()&&ea.preventDefault();ka.isPropagationStopped()&&ea.stopPropagation();ka.isImmediatePropagationStopped()&&
ea.stopImmediatePropagation()}}function t(ea){var ka=n(ea).touches,na;if(ka&&ka.length===1){na=ea.target;ka=u(na);if(ka.hasVirtualBinding){Fa=wa++;c.data(na,ca,Fa);R();T();oa=false;na=n(ea).touches[0];ja=na.pageX;P=na.pageY;Q("vmouseover",ea,ka);Q("vmousedown",ea,ka)}}}function y(ea){if(!va){oa||Q("vmousecancel",ea,u(ea.target));oa=true;H()}}function L(ea){if(!va){var ka=n(ea).touches[0],na=oa,ua=c.vmouse.moveDistanceThreshold;oa=oa||Math.abs(ka.pageX-ja)>ua||Math.abs(ka.pageY-P)>ua;flags=u(ea.target);
oa&&!na&&Q("vmousecancel",ea,flags);Q("vmousemove",ea,flags);H()}}function I(ea){if(!va){C();var ka=u(ea.target),na;Q("vmouseup",ea,ka);if(!oa)if((na=Q("vclick",ea,ka))&&na.isDefaultPrevented()){na=n(ea).changedTouches[0];ma.push({touchID:Fa,x:na.clientX,y:na.clientY});e=true}Q("vmouseout",ea,ka);oa=false;H()}}function z(ea){ea=c.data(ea,U);var ka;if(ea)for(ka in ea)if(ea[ka])return true;return false}function J(){}function G(ea){var ka=ea.substr(1);return{setup:function(){z(this)||c.data(this,U,{});
c.data(this,U)[ea]=true;M[ea]=(M[ea]||0)+1;M[ea]===1&&Ba.bind(ka,K);c(this).bind(ka,J);if(Da){M.touchstart=(M.touchstart||0)+1;M.touchstart===1&&Ba.bind("touchstart",t).bind("touchend",I).bind("touchmove",L).bind("scroll",y)}},teardown:function(){--M[ea];M[ea]||Ba.unbind(ka,K);if(Da){--M.touchstart;M.touchstart||Ba.unbind("touchstart",t).unbind("touchmove",L).unbind("touchend",I).unbind("scroll",y)}var na=c(this),ua=c.data(this,U);if(ua)ua[ea]=false;na.unbind(ka,J);z(this)||na.removeData(U)}}}var U=
"virtualMouseBindings",ca="virtualTouchID";m="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" ");var la="clientX clientY pageX pageY screenX screenY".split(" "),A=c.event.props.concat(c.event.mouseHooks?c.event.mouseHooks.props:[]),M={},W=0,ja=0,P=0,oa=false,ma=[],e=false,va=false,Da="addEventListener"in k,Ba=c(k),wa=1,Fa=0;c.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var Ia=0;Ia<m.length;Ia++)c.event.special[m[Ia]]=G(m[Ia]);
Da&&k.addEventListener("click",function(ea){var ka=ma.length,na=ea.target,ua,Ea,Ga,Ha,Oa;if(ka){ua=ea.clientX;Ea=ea.clientY;threshold=c.vmouse.clickDistanceThreshold;for(Ga=na;Ga;){for(Ha=0;Ha<ka;Ha++){Oa=ma[Ha];if(Ga===na&&Math.abs(Oa.x-ua)<threshold&&Math.abs(Oa.y-Ea)<threshold||c.data(Ga,ca)===Oa.touchID){ea.preventDefault();ea.stopPropagation();return}}Ga=Ga.parentNode}}},true)})(jQuery,a,h);(function(c,m,k){function p(s){s=s||location.href;return"#"+s.replace(/^[^#]*#?(.*)$/,"$1")}var n="hashchange",
o=h,u,v=c.event.special,F=o.documentMode,C="on"+n in m&&(F===k||F>7);c.fn[n]=function(s){return s?this.bind(n,s):this.trigger(n)};c.fn[n].delay=50;v[n]=c.extend(v[n],{setup:function(){if(C)return false;c(u.start)},teardown:function(){if(C)return false;c(u.stop)}});u=function(){function s(){var y=p(),L=t(R);if(y!==R){K(R=y,L);c(m).trigger(n)}else if(L!==R)location.href=location.href.replace(/#.*/,"")+L;H=setTimeout(s,c.fn[n].delay)}var T={},H,R=p(),Q=function(y){return y},K=Q,t=Q;T.start=function(){H||
s()};T.stop=function(){H&&clearTimeout(H);H=k};c.browser.msie&&!C&&function(){var y,L;T.start=function(){if(!y){L=(L=c.fn[n].src)&&L+p();y=c('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){L||K(p());s()}).attr("src",L||"javascript:0").insertAfter("body")[0].contentWindow;o.onpropertychange=function(){try{if(event.propertyName==="title")y.document.title=o.title}catch(I){}}}};T.stop=Q;t=function(){return p(y.location.href)};K=function(I,z){var J=y.document,G=c.fn[n].domain;if(I!==
z){J.title=o.title;J.open();G&&J.write('<script>document.domain="'+G+'"<\/script>');J.close();y.location.hash=I}}}();return T}()})(jQuery,this);(function(c,m){if(c.cleanData){var k=c.cleanData;c.cleanData=function(n){for(var o=0,u;(u=n[o])!=null;o++)c(u).triggerHandler("remove");k(n)}}else{var p=c.fn.remove;c.fn.remove=function(n,o){return this.each(function(){if(!o)if(!n||c.filter(n,[this]).length)c("*",this).add([this]).each(function(){c(this).triggerHandler("remove")});return p.call(c(this),n,
o)})}}c.widget=function(n,o,u){var v=n.split(".")[0],F;n=n.split(".")[1];F=v+"-"+n;if(!u){u=o;o=c.Widget}c.expr[":"][F]=function(C){return!!c.data(C,n)};c[v]=c[v]||{};c[v][n]=function(C,s){arguments.length&&this._createWidget(C,s)};o=new o;o.options=c.extend(true,{},o.options);c[v][n].prototype=c.extend(true,o,{namespace:v,widgetName:n,widgetEventPrefix:c[v][n].prototype.widgetEventPrefix||n,widgetBaseClass:F},u);c.widget.bridge(n,c[v][n])};c.widget.bridge=function(n,o){c.fn[n]=function(u){var v=
typeof u==="string",F=Array.prototype.slice.call(arguments,1),C=this;u=!v&&F.length?c.extend.apply(null,[true,u].concat(F)):u;if(v&&u.charAt(0)==="_")return C;v?this.each(function(){var s=c.data(this,n);if(!s)throw"cannot call methods on "+n+" prior to initialization; attempted to call method '"+u+"'";if(!c.isFunction(s[u]))throw"no such method '"+u+"' for "+n+" widget instance";var T=s[u].apply(s,F);if(T!==s&&T!==m){C=T;return false}}):this.each(function(){var s=c.data(this,n);s?s.option(u||{})._init():
c.data(this,n,new o(u,this))});return C}};c.Widget=function(n,o){arguments.length&&this._createWidget(n,o)};c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(n,o){c.data(o,this.widgetName,this);this.element=c(o);this.options=c.extend(true,{},this.options,this._getCreateOptions(),n);var u=this;this.element.bind("remove."+this.widgetName,function(){u.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){var n=
{};if(c.metadata)n=c.metadata.get(element)[this.widgetName];return n},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(n,o){var u=n;if(arguments.length===0)return c.extend({},this.options);if(typeof n==="string"){if(o===m)return this.options[n];
u={};u[n]=o}this._setOptions(u);return this},_setOptions:function(n){var o=this;c.each(n,function(u,v){o._setOption(u,v)});return this},_setOption:function(n,o){this.options[n]=o;if(n==="disabled")this.widget()[o?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",o);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(n,o,u){var v=this.options[n];o=c.Event(o);
o.type=(n===this.widgetEventPrefix?n:this.widgetEventPrefix+n).toLowerCase();u=u||{};if(o.originalEvent){n=c.event.props.length;for(var F;n;){F=c.event.props[--n];o[F]=o.originalEvent[F]}}this.element.trigger(o,u);return!(c.isFunction(v)&&v.call(this.element[0],o,u)===false||o.isDefaultPrevented())}}})(jQuery);(function(c,m){c.widget("mobile.widget",{_createWidget:function(){c.Widget.prototype._createWidget.apply(this,arguments);this._trigger("init")},_getCreateOptions:function(){var k=this.element,
p={};c.each(this.options,function(n){var o=k.jqmData(n.replace(/[A-Z]/g,function(u){return"-"+u.toLowerCase()}));if(o!==m)p[n]=o});return p},enhanceWithin:function(k,p){this.enhance(c(this.options.initSelector,c(k)),p)},enhance:function(k,p){k=c(k);k=c.mobile.enhanceable(k);if(p&&k.length){p=(p=c.mobile.closestPageData(k))&&p.keepNativeSelector()||"";k=k.not(p)}k[this.widgetName]()},raise:function(k){throw"Widget ["+this.widgetName+"]: "+k;}})})(jQuery);(function(c,m){var k={};c.mobile=c.extend({},
{version:"1.1.0",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:true,hashListeningEnabled:true,linkBindingEnabled:true,defaultPageTransition:"fade",maxTransitionWidth:false,minScrollBack:250,touchOverflowEnabled:false,defaultDialogTransition:"pop",loadingMessage:"loading",pageLoadErrorMessage:"Error Loading Page",loadingMessageTextVisible:false,loadingMessageTheme:"a",pageLoadErrorMessageTheme:"e",autoInitializePage:true,
pushStateEnabled:true,ignoreContentEnabled:false,orientationChangeEnabled:true,buttonMarkup:{hoverDelay:200},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(o){if(c.type(o)!==
"number")o=c.mobile.defaultHomeScroll;c.event.special.scrollstart.enabled=false;setTimeout(function(){m.scrollTo(0,o);c(h).trigger("silentscroll",{x:0,y:o})},20);setTimeout(function(){c.event.special.scrollstart.enabled=true},150)},nsNormalizeDict:k,nsNormalize:function(o){if(o)return k[o]||(k[o]=c.camelCase(c.mobile.ns+o))},getInheritedTheme:function(o,u){o=o[0];for(var v="",F=/ui-(bar|body|overlay)-([a-z])\b/,C,s;o;){C=o.className||"";if((s=F.exec(C))&&(v=s[2]))break;o=o.parentNode}return v||u||
"a"},closestPageData:function(o){return o.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")},enhanceable:function(o){return this.haveParents(o,"enhance")},hijackable:function(o){return this.haveParents(o,"ajax")},haveParents:function(o,u){if(!c.mobile.ignoreContentEnabled)return o;for(var v=o.length,F=c(),C,s,T,H=0;H<v;H++){s=o.eq(H);T=false;for(C=o[H];C;){if((C.getAttribute?C.getAttribute("data-"+c.mobile.ns+u):"")==="false"){T=true;break}C=C.parentNode}T||(F=F.add(s))}return F}},
c.mobile);c.fn.jqmData=function(o,u){var v;if(typeof o!="undefined"){if(o)o=c.mobile.nsNormalize(o);v=this.data.apply(this,arguments.length<2?[o]:[o,u])}return v};c.jqmData=function(o,u,v){var F;if(typeof u!="undefined")F=c.data(o,u?c.mobile.nsNormalize(u):u,v);return F};c.fn.jqmRemoveData=function(o){return this.removeData(c.mobile.nsNormalize(o))};c.jqmRemoveData=function(o,u){return c.removeData(o,c.mobile.nsNormalize(u))};c.fn.removeWithDependents=function(){c.removeWithDependents(this)};c.removeWithDependents=
function(o){o=c(o);(o.jqmData("dependents")||c()).remove();o.remove()};c.fn.addDependents=function(o){c.addDependents(c(this),o)};c.addDependents=function(o,u){var v=c(o).jqmData("dependents")||c();c(o).jqmData("dependents",c.merge(v,u))};c.fn.getEncodedText=function(){return c("<div/>").text(c(this).text()).html()};c.fn.jqmEnhanceable=function(){return c.mobile.enhanceable(this)};c.fn.jqmHijackable=function(){return c.mobile.hijackable(this)};var p=c.find,n=/:jqmData\(([^)]*)\)/g;c.find=function(o,
u,v,F){o=o.replace(n,"[data-"+(c.mobile.ns||"")+"$1]");return p.call(this,o,u,v,F)};c.extend(c.find,p);c.find.matches=function(o,u){return c.find(o,null,null,u)};c.find.matchesSelector=function(o,u){return c.find(u,null,null,[o]).length>0}})(jQuery,this);(function(c){c(a);var m=c("html");c.mobile.media=function(){var k={},p=c("<div id='jquery-mediatest'>"),n=c("<body>").append(p);return function(o){if(!(o in k)){var u=h.createElement("style"),v="@media "+o+" { #jquery-mediatest { position:absolute; } }";
u.type="text/css";if(u.styleSheet)u.styleSheet.cssText=v;else u.appendChild(h.createTextNode(v));m.prepend(n).prepend(u);k[o]=p.css("position")==="absolute";n.add(u).remove()}return k[o]}}()})(jQuery);(function(c,m){function k(H){var R=H.charAt(0).toUpperCase()+H.substr(1);H=(H+" "+F.join(R+" ")+R).split(" ");for(var Q in H)if(v[H[Q]]!==m)return true}function p(H,R,Q){var K=h.createElement("div"),t=function(z){return z.charAt(0).toUpperCase()+z.substr(1)},y=function(z){return"-"+z.charAt(0).toLowerCase()+
z.substr(1)+"-"},L=function(z){var J=y(z)+H+": "+R+";";z=t(z)+t(H);K.setAttribute("style",J);if(K.style[z])I=true};Q=Q?[Q]:F;var I;for(i=0;i<Q.length;i++)L(Q[i]);return!!I}function n(){return p("perspective","10px","moz")||c.mobile.media("(-"+F.join("-transform-3d),(-")+"-transform-3d),(transform-3d)")}function o(){var H=location.protocol+"//"+location.host+location.pathname+"ui-dir/",R=c("head base"),Q=null,K="",t;if(R.length)K=R.attr("href");else R=Q=c("<base>",{href:H}).appendTo("head");t=c("<a href='testurl' />").prependTo(u)[0].href;
R[0].href=K||location.pathname;Q&&Q.remove();return t.indexOf(H)===0}var u=c("<body>").prependTo("html"),v=u[0].style,F=["Webkit","Moz","O"],C="palmGetResource"in a,s=a.operamini&&{}.toString.call(a.operamini)==="[object OperaMini]",T=a.blackberry;c.extend(c.mobile,{browser:{}});c.mobile.browser.ie=function(){for(var H=3,R=h.createElement("div"),Q=R.all||[];R.innerHTML="<!--[if gt IE "+ ++H+"]><br><![endif]--\>",Q[0];);return H>4?H:!H}();c.extend(c.support,{orientation:"orientation"in a&&"onorientationchange"in
a,touch:"ontouchend"in h,cssTransitions:"WebKitTransitionEvent"in a||p("transition","height 100ms linear"),pushState:"pushState"in history&&"replaceState"in history,mediaquery:c.mobile.media("only all"),cssPseudoElement:!!k("content"),touchOverflow:!!k("overflowScrolling"),cssTransform3d:n(),boxShadow:!!k("boxShadow")&&!T,scrollTop:("pageXOffset"in a||"scrollTop"in h.documentElement||"scrollTop"in u[0])&&!C&&!s,dynamicBaseTag:o()});u.remove();C=function(){var H=a.navigator.userAgent;return H.indexOf("Nokia")>
-1&&(H.indexOf("Symbian/3")>-1||H.indexOf("Series60/5")>-1)&&H.indexOf("AppleWebKit")>-1&&H.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();c.mobile.gradeA=function(){return c.support.mediaquery||c.mobile.browser.ie&&c.mobile.browser.ie>=7};c.mobile.ajaxBlacklist=a.blackberry&&!a.WebKitPoint||s||C;C&&c(function(){c("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")});c.support.boxShadow||c("html").addClass("ui-mobile-nosupport-boxshadow")})(jQuery);(function(c,
m,k){function p(F,C,s){var T=s.type;s.type=C;c.event.handle.call(F,s);s.type=T}c.each("touchstart touchmove touchend orientationchange throttledresize tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(F,C){c.fn[C]=function(s){return s?this.bind(C,s):this.trigger(C)};c.attrFn[C]=true});var n=c.support.touch,o=n?"touchstart":"mousedown",u=n?"touchend":"mouseup",v=n?"touchmove":"mousemove";c.event.special.scrollstart={enabled:true,setup:function(){function F(H,R){s=R;
p(C,s?"scrollstart":"scrollstop",H)}var C=this,s,T;c(C).bind("touchmove scroll",function(H){if(c.event.special.scrollstart.enabled){s||F(H,true);clearTimeout(T);T=setTimeout(function(){F(H,false)},50)}})}};c.event.special.tap={setup:function(){var F=this,C=c(F);C.bind("vmousedown",function(s){function T(){clearTimeout(K)}function H(){T();C.unbind("vclick",R).unbind("vmouseup",T);c(h).unbind("vmousecancel",H)}function R(t){H();Q==t.target&&p(F,"tap",t)}if(s.which&&s.which!==1)return false;var Q=s.target,
K;C.bind("vmouseup",T).bind("vclick",R);c(h).bind("vmousecancel",H);K=setTimeout(function(){p(F,"taphold",c.Event("taphold",{target:Q}))},750)})}};c.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1E3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var F=c(this);F.bind(o,function(C){function s(Q){if(H){var K=Q.originalEvent.touches?Q.originalEvent.touches[0]:Q;R={time:(new Date).getTime(),coords:[K.pageX,K.pageY]};Math.abs(H.coords[0]-R.coords[0])>
c.event.special.swipe.scrollSupressionThreshold&&Q.preventDefault()}}var T=C.originalEvent.touches?C.originalEvent.touches[0]:C,H={time:(new Date).getTime(),coords:[T.pageX,T.pageY],origin:c(C.target)},R;F.bind(v,s).one(u,function(){F.unbind(v,s);if(H&&R)if(R.time-H.time<c.event.special.swipe.durationThreshold&&Math.abs(H.coords[0]-R.coords[0])>c.event.special.swipe.horizontalDistanceThreshold&&Math.abs(H.coords[1]-R.coords[1])<c.event.special.swipe.verticalDistanceThreshold)H.origin.trigger("swipe").trigger(H.coords[0]>
R.coords[0]?"swipeleft":"swiperight");H=R=k})})}};(function(F,C){function s(){var y=H();if(y!==R){R=y;T.trigger("orientationchange")}}var T=F(C),H,R,Q,K,t={"0":true,"180":true};if(F.support.orientation){Q=C.innerWidth||F(C).width();K=C.innerHeight||F(C).height();Q=Q>K&&Q-K>50;K=t[C.orientation];if(Q&&K||!Q&&!K)t={"-90":true,"90":true}}F.event.special.orientationchange={setup:function(){if(F.support.orientation&&F.mobile.orientationChangeEnabled)return false;R=H();T.bind("throttledresize",s)},teardown:function(){if(F.support.orientation&&
F.mobile.orientationChangeEnabled)return false;T.unbind("throttledresize",s)},add:function(y){var L=y.handler;y.handler=function(I){I.orientation=H();return L.apply(this,arguments)}}};F.event.special.orientationchange.orientation=H=function(){var y=true;y=h.documentElement;return(y=F.support.orientation?t[C.orientation]:y&&y.clientWidth/y.clientHeight<1.1)?"portrait":"landscape"}})(jQuery,m);(function(){c.event.special.throttledresize={setup:function(){c(this).bind("resize",F)},teardown:function(){c(this).unbind("resize",
F)}};var F=function(){T=(new Date).getTime();H=T-C;if(H>=250){C=T;c(this).trigger("throttledresize")}else{s&&clearTimeout(s);s=setTimeout(F,250-H)}},C=0,s,T,H})();c.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(F,C){c.event.special[F]={setup:function(){c(this).bind(C,c.noop)}}})})(jQuery,this);(function(c){c.widget("mobile.page",c.mobile.widget,{options:{theme:"c",domCache:false,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){var m=
this;if(m._trigger("beforecreate")===false)return false;m.element.attr("tabindex","0").addClass("ui-page ui-body-"+m.options.theme).bind("pagebeforehide",function(){m.removeContainerBackground()}).bind("pagebeforeshow",function(){m.setContainerBackground()})},removeContainerBackground:function(){c.mobile.pageContainer.removeClass("ui-overlay-"+c.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(m){if(this.options.theme)c.mobile.pageContainer.addClass("ui-overlay-"+
(m||this.options.theme))},keepNativeSelector:function(){var m=this.options;if(m.keepNative&&c.trim(m.keepNative)&&m.keepNative!==m.keepNativeDefault)return[m.keepNative,m.keepNativeDefault].join(", ");return m.keepNativeDefault}})})(jQuery);(function(c,m,k){var p=function(o){if(o===k)o=true;return function(u,v,F,C){var s=new c.Deferred,T=v?" reverse":"",H=c.mobile.urlHistory.getActive().lastScroll||c.mobile.defaultHomeScroll,R=c.mobile.getScreenHeight(),Q=c.mobile.maxTransitionWidth!==false&&c(m).width()>
c.mobile.maxTransitionWidth,K=!c.support.cssTransitions||Q||!u||u==="none",t=function(){c.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+u)},y=function(){c.event.special.scrollstart.enabled=false;m.scrollTo(0,H);setTimeout(function(){c.event.special.scrollstart.enabled=true},150)},L=function(){C.removeClass(c.mobile.activePageClass+" out in reverse "+u).height("")};Q=function(){o?C.animationComplete(I):I();C.height(R+c(m).scrollTop()).addClass(u+" out"+T)};var I=function(){C&&
o&&L();z()},z=function(){F.addClass(c.mobile.activePageClass);c.mobile.focusPage(F);F.height(R+H);y();K||F.animationComplete(J);F.addClass(u+" in"+T);K&&J()},J=function(){o||C&&L();F.removeClass("out in reverse "+u).height("");t();c(m).scrollTop()!==H&&y();s.resolve(u,v,F,C,true)};t();C&&!K?Q():I();return s.promise()}},n=p();p=p(false);c.mobile.defaultTransitionHandler=n;c.mobile.transitionHandlers={"default":c.mobile.defaultTransitionHandler,sequential:n,simultaneous:p};c.mobile.transitionFallbacks=
{}})(jQuery,this);(function(c,m){function k(A){if(R&&(!R.closest(".ui-page-active").length||A))R.removeClass(c.mobile.activeBtnClass);R=null}function p(){t=false;K.length>0&&c.mobile.changePage.apply(null,K.pop())}function n(A,M,W,ja){M&&M.data("page")._trigger("beforehide",null,{nextPage:A});A.data("page")._trigger("beforeshow",null,{prevPage:M||c("")});c.mobile.hidePageLoadingMsg();if(W&&!c.support.cssTransform3d&&c.mobile.transitionFallbacks[W])W=c.mobile.transitionFallbacks[W];W=(c.mobile.transitionHandlers[W||
"default"]||c.mobile.defaultTransitionHandler)(W,ja,A,M);W.done(function(){M&&M.data("page")._trigger("hide",null,{nextPage:A});A.data("page")._trigger("show",null,{prevPage:M||c("")})});return W}function o(){return a.innerHeight||c(a).height()}function u(){var A=c("."+c.mobile.activePageClass),M=parseFloat(A.css("padding-top")),W=parseFloat(A.css("padding-bottom"));A.css("min-height",o()-M-W)}function v(A,M){M&&A.attr("data-"+c.mobile.ns+"role",M);A.page()}function F(A){for(;A;){if(typeof A.nodeName===
"string"&&A.nodeName.toLowerCase()=="a")break;A=A.parentNode}return A}function C(A){A=c(A).closest(".ui-page").jqmData("url");var M=z.hrefNoHash;if(!A||!H.isPath(A))A=M;return H.makeUrlAbsolute(A,M)}var s=c(a);c("html");var T=c("head"),H={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(A){if(c.type(A)==="object")return A;A=H.urlParseRE.exec(A||
"")||[];return{href:A[0]||"",hrefNoHash:A[1]||"",hrefNoSearch:A[2]||"",domain:A[3]||"",protocol:A[4]||"",doubleSlash:A[5]||"",authority:A[6]||"",username:A[8]||"",password:A[9]||"",host:A[10]||"",hostname:A[11]||"",port:A[12]||"",pathname:A[13]||"",directory:A[14]||"",filename:A[15]||"",search:A[16]||"",hash:A[17]||""}},makePathAbsolute:function(A,M){if(A&&A.charAt(0)==="/")return A;A=A||"";M=(M=M?M.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?M.split("/"):[];A=A.split("/");for(var W=0;W<A.length;W++){var ja=
A[W];switch(ja){case ".":break;case "..":M.length&&M.pop();break;default:M.push(ja);break}}return"/"+M.join("/")},isSameDomain:function(A,M){return H.parseUrl(A).domain===H.parseUrl(M).domain},isRelativeUrl:function(A){return H.parseUrl(A).protocol===""},isAbsoluteUrl:function(A){return H.parseUrl(A).protocol!==""},makeUrlAbsolute:function(A,M){if(!H.isRelativeUrl(A))return A;A=H.parseUrl(A);M=H.parseUrl(M);var W=A.protocol||M.protocol,ja=A.protocol?A.doubleSlash:A.doubleSlash||M.doubleSlash,P=A.authority||
M.authority,oa=A.pathname!=="",ma=H.makePathAbsolute(A.pathname||M.filename,M.pathname);return W+ja+P+ma+(A.search||!oa&&M.search||"")+A.hash},addSearchParams:function(A,M){A=H.parseUrl(A);M=typeof M==="object"?c.param(M):M;var W=A.search||"?";return A.hrefNoSearch+W+(W.charAt(W.length-1)!=="?"?"&":"")+M+(A.hash||"")},convertUrlToDataUrl:function(A){var M=H.parseUrl(A);if(H.isEmbeddedPage(M))return M.hash.split(y)[0].replace(/^#/,"");else if(H.isSameDomain(M,z))return M.hrefNoHash.replace(z.domain,
"");return A},get:function(A){if(A===m)A=location.hash;return H.stripHash(A).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(A){var M="&"+c.mobile.subPageUrlKey;return A&&A.split(M)[0].split(y)[0]},set:function(A){location.hash=A},isPath:function(A){return/\//.test(A)},clean:function(A){return A.replace(z.domain,"")},stripHash:function(A){return A.replace(/^#/,"")},cleanHash:function(A){return H.stripHash(A.replace(/\?.*$/,"").replace(y,""))},isExternal:function(A){A=H.parseUrl(A);return A.protocol&&
A.domain!==I.domain?true:false},hasProtocol:function(A){return/^(:?\w+:)/.test(A)},isFirstPageUrl:function(A){A=H.parseUrl(H.makeUrlAbsolute(A,z));var M=c.mobile.firstPage;M=M&&M[0]?M[0].id:m;return(A.hrefNoHash===I.hrefNoHash||J&&A.hrefNoHash===z.hrefNoHash)&&(!A.hash||A.hash==="#"||M&&A.hash.replace(/^#/,"")===M)},isEmbeddedPage:function(A){A=H.parseUrl(A);if(A.protocol!=="")return A.hash&&(A.hrefNoHash===I.hrefNoHash||J&&A.hrefNoHash===z.hrefNoHash);return/^#/.test(A.href)}},R=null,Q={stack:[],
activeIndex:0,getActive:function(){return Q.stack[Q.activeIndex]},getPrev:function(){return Q.stack[Q.activeIndex-1]},getNext:function(){return Q.stack[Q.activeIndex+1]},addNew:function(A,M,W,ja,P){Q.getNext()&&Q.clearForward();Q.stack.push({url:A,transition:M,title:W,pageUrl:ja,role:P});Q.activeIndex=Q.stack.length-1},clearForward:function(){Q.stack=Q.stack.slice(0,Q.activeIndex+1)},directHashChange:function(A){var M,W,ja;this.getActive();c.each(Q.stack,function(P,oa){if(A.currentUrl===oa.url){M=
P<Q.activeIndex;W=!M;ja=P}});this.activeIndex=ja!==m?ja:this.activeIndex;if(M)(A.either||A.isBack)(true);else if(W)(A.either||A.isForward)(false)},ignoreNextHashChange:false},K=[],t=false,y="&ui-state=dialog",L=T.children("base"),I=H.parseUrl(location.href),z=L.length?H.parseUrl(H.makeUrlAbsolute(L.attr("href"),I.href)):I,J=I.hrefNoHash!==z.hrefNoHash,G=c.support.dynamicBaseTag?{element:L.length?L:c("<base>",{href:z.hrefNoHash}).prependTo(T),set:function(A){G.element.attr("href",H.makeUrlAbsolute(A,
z))},reset:function(){G.element.attr("href",z.hrefNoHash)}}:m;c.mobile.focusPage=function(A){var M=A.find("[autofocus]"),W=A.find(".ui-title:eq(0)");if(M.length)M.focus();else W.length?W.focus():A.focus()};var U=true,ca,la;ca=function(){if(U){var A=c.mobile.urlHistory.getActive();if(A){var M=s.scrollTop();A.lastScroll=M<c.mobile.minScrollBack?c.mobile.defaultHomeScroll:M}}};la=function(){setTimeout(ca,100)};s.bind(c.support.pushState?"popstate":"hashchange",function(){U=false});s.one(c.support.pushState?
"popstate":"hashchange",function(){U=true});s.one("pagecontainercreate",function(){c.mobile.pageContainer.bind("pagechange",function(){U=true;s.unbind("scrollstop",la);s.bind("scrollstop",la)})});s.bind("scrollstop",la);c.mobile.getScreenHeight=o;c.fn.animationComplete=function(A){if(c.support.cssTransitions)return c(this).one("webkitAnimationEnd animationend",A);else{setTimeout(A,0);return c(this)}};c.mobile.path=H;c.mobile.base=G;c.mobile.urlHistory=Q;c.mobile.dialogHashKey=y;c.mobile.allowCrossDomainPages=
false;c.mobile.getDocumentUrl=function(A){return A?c.extend({},I):I.href};c.mobile.getDocumentBase=function(A){return A?c.extend({},z):z.href};c.mobile._bindPageRemove=function(){var A=c(this);!A.data("page").options.domCache&&A.is(":jqmData(external-page='true')")&&A.bind("pagehide.remove",function(){var M=c(this),W=new c.Event("pageremove");M.trigger(W);W.isDefaultPrevented()||M.removeWithDependents()})};c.mobile.loadPage=function(A,M){var W=c.Deferred(),ja=c.extend({},c.mobile.loadPage.defaults,
M),P=null,oa=null,ma=H.makeUrlAbsolute(A,function(){return c.mobile.activePage&&C(c.mobile.activePage)||z.hrefNoHash}());if(ja.data&&ja.type==="get"){ma=H.addSearchParams(ma,ja.data);ja.data=m}if(ja.data&&ja.type==="post")ja.reloadPage=true;var e=H.getFilePath(ma),va=H.convertUrlToDataUrl(ma);ja.pageContainer=ja.pageContainer||c.mobile.pageContainer;P=ja.pageContainer.children(":jqmData(url='"+va+"')");if(P.length===0&&va&&!H.isPath(va))P=ja.pageContainer.children("#"+va).attr("data-"+c.mobile.ns+
"url",va);if(P.length===0)if(c.mobile.firstPage&&H.isFirstPageUrl(e)){if(c.mobile.firstPage.parent().length)P=c(c.mobile.firstPage)}else if(H.isEmbeddedPage(e)){W.reject(ma,M);return W.promise()}G&&G.reset();if(P.length){if(!ja.reloadPage){v(P,ja.role);W.resolve(ma,M,P);return W.promise()}oa=P}var Da=ja.pageContainer,Ba=new c.Event("pagebeforeload"),wa={url:A,absUrl:ma,dataUrl:va,deferred:W,options:ja};Da.trigger(Ba,wa);if(Ba.isDefaultPrevented())return W.promise();if(ja.showLoadMsg)var Fa=setTimeout(function(){c.mobile.showPageLoadingMsg()},
ja.loadMsgDelay),Ia=function(){clearTimeout(Fa);c.mobile.hidePageLoadingMsg()};c.mobile.allowCrossDomainPages||H.isSameDomain(I,ma)?c.ajax({url:e,type:ja.type,data:ja.data,dataType:"html",success:function(ea,ka,na){var ua=c("<div></div>"),Ea=ea.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,Ga=new RegExp("(<[^>]+\\bdata-"+c.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),Ha=new RegExp("\\bdata-"+c.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(Ga.test(ea)&&RegExp.$1&&Ha.test(RegExp.$1)&&RegExp.$1)A=e=H.getFilePath(RegExp.$1);
G&&G.set(e);ua.get(0).innerHTML=ea;P=ua.find(":jqmData(role='page'), :jqmData(role='dialog')").first();P.length||(P=c("<div data-"+c.mobile.ns+"role='page'>"+ea.split(/<\/?body[^>]*>/gmi)[1]+"</div>"));if(Ea&&!P.jqmData("title")){if(~Ea.indexOf("&"))Ea=c("<div>"+Ea+"</div>").text();P.jqmData("title",Ea)}if(!c.support.dynamicBaseTag){var Oa=H.get(e);P.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var Va=c(this).is("[href]")?"href":c(this).is("[src]")?
"src":"action",Pa=c(this).attr(Va);Pa=Pa.replace(location.protocol+"//"+location.host+location.pathname,"");/^(\w+:|#|\/)/.test(Pa)||c(this).attr(Va,Oa+Pa)})}P.attr("data-"+c.mobile.ns+"url",H.convertUrlToDataUrl(e)).attr("data-"+c.mobile.ns+"external-page",true).appendTo(ja.pageContainer);P.one("pagecreate",c.mobile._bindPageRemove);v(P,ja.role);if(ma.indexOf("&"+c.mobile.subPageUrlKey)>-1)P=ja.pageContainer.children(":jqmData(url='"+va+"')");ja.showLoadMsg&&Ia();wa.xhr=na;wa.textStatus=ka;wa.page=
P;ja.pageContainer.trigger("pageload",wa);W.resolve(ma,M,P,oa)},error:function(ea,ka,na){G&&G.set(H.get());wa.xhr=ea;wa.textStatus=ka;wa.errorThrown=na;ea=new c.Event("pageloadfailed");ja.pageContainer.trigger(ea,wa);if(!ea.isDefaultPrevented()){if(ja.showLoadMsg){Ia();c.mobile.showPageLoadingMsg(c.mobile.pageLoadErrorMessageTheme,c.mobile.pageLoadErrorMessage,true);setTimeout(c.mobile.hidePageLoadingMsg,1500)}W.reject(ma,M)}}}):W.reject(ma,M);return W.promise()};c.mobile.loadPage.defaults={type:"get",
data:m,reloadPage:false,role:m,showLoadMsg:false,pageContainer:m,loadMsgDelay:50};c.mobile.changePage=function(A,M){if(t)K.unshift(arguments);else{var W=c.extend({},c.mobile.changePage.defaults,M);W.pageContainer=W.pageContainer||c.mobile.pageContainer;W.fromPage=W.fromPage||c.mobile.activePage;var ja=W.pageContainer,P=new c.Event("pagebeforechange"),oa={toPage:A,options:W};ja.trigger(P,oa);if(!P.isDefaultPrevented()){A=oa.toPage;t=true;if(typeof A=="string")c.mobile.loadPage(A,W).done(function(ka,
na,ua,Ea){t=false;na.duplicateCachedPage=Ea;c.mobile.changePage(ua,na)}).fail(function(){t=false;k(true);p();W.pageContainer.trigger("pagechangefailed",oa)});else{if(A[0]===c.mobile.firstPage[0]&&!W.dataUrl)W.dataUrl=I.hrefNoHash;P=W.fromPage;var ma=W.dataUrl&&H.convertUrlToDataUrl(W.dataUrl)||A.jqmData("url"),e=ma;H.getFilePath(ma);var va=Q.getActive(),Da=Q.activeIndex===0,Ba=0,wa=h.title,Fa=W.role==="dialog"||A.jqmData("role")==="dialog";if(P&&P[0]===A[0]&&!W.allowSamePageTransition){t=false;ja.trigger("pagechange",
oa)}else{v(A,W.role);W.fromHashChange&&Q.directHashChange({currentUrl:ma,isBack:function(){Ba=-1},isForward:function(){Ba=1}});try{h.activeElement&&h.activeElement.nodeName.toLowerCase()!="body"?c(h.activeElement).blur():c("input:focus, textarea:focus, select:focus").blur()}catch(Ia){}if(Fa&&va)ma=(va.url||"")+y;if(W.changeHash!==false&&ma){Q.ignoreNextHashChange=true;H.set(ma)}var ea=!va?wa:A.jqmData("title")||A.children(":jqmData(role='header')").find(".ui-title").getEncodedText();if(ea&&wa==h.title)wa=
ea;A.jqmData("title")||A.jqmData("title",wa);W.transition=W.transition||(Ba&&!Da?va.transition:m)||(Fa?c.mobile.defaultDialogTransition:c.mobile.defaultPageTransition);Ba||Q.addNew(ma,W.transition,wa,e,W.role);h.title=Q.getActive().title;c.mobile.activePage=A;W.reverse=W.reverse||Ba<0;n(A,P,W.transition,W.reverse).done(function(ka,na,ua,Ea,Ga){k();W.duplicateCachedPage&&W.duplicateCachedPage.remove();Ga||c.mobile.focusPage(A);p();ja.trigger("pagechange",oa)})}}}}};c.mobile.changePage.defaults={transition:m,
reverse:false,changeHash:true,fromHashChange:false,role:m,duplicateCachedPage:m,pageContainer:m,showLoadMsg:true,dataUrl:m,fromPage:m,allowSamePageTransition:false};c.mobile._registerInternalEvents=function(){c(h).delegate("form","submit",function(A){var M=c(this);if(!(!c.mobile.ajaxEnabled||M.is(":jqmData(ajax='false')")||!M.jqmHijackable().length)){var W=M.attr("method"),ja=M.attr("target"),P=M.attr("action");if(!P){P=C(M);if(P===z.hrefNoHash)P=I.hrefNoSearch}P=H.makeUrlAbsolute(P,C(M));if(!(H.isExternal(P)||
ja)){c.mobile.changePage(P,{type:W&&W.length&&W.toLowerCase()||"get",data:M.serialize(),transition:M.jqmData("transition"),direction:M.jqmData("direction"),reloadPage:true});A.preventDefault()}}});c(h).bind("vclick",function(A){if(!(A.which>1||!c.mobile.linkBindingEnabled)){A=F(A.target);if(c(A).jqmHijackable().length)if(A)if(H.parseUrl(A.getAttribute("href")||"#").hash!=="#"){k(true);R=c(A).closest(".ui-btn").not(".ui-disabled");R.addClass(c.mobile.activeBtnClass);c("."+c.mobile.activePageClass+
" .ui-btn").not(A).blur();c(A).jqmData("href",c(A).attr("href")).attr("href","#")}}});c(h).bind("click",function(A){if(c.mobile.linkBindingEnabled){var M=F(A.target),W=c(M),ja;if(!(!M||A.which>1||!W.jqmHijackable().length)){ja=function(){a.setTimeout(function(){k(true)},200)};W.jqmData("href")&&W.attr("href",W.jqmData("href"));if(W.is(":jqmData(rel='back')")){a.history.back();return false}var P=C(W);M=H.makeUrlAbsolute(W.attr("href")||"#",P);if(!c.mobile.ajaxEnabled&&!H.isEmbeddedPage(M))ja();else{if(M.search("#")!=
-1)if(M=M.replace(/[^#]*#/,""))M=H.isPath(M)?H.makeUrlAbsolute(M,P):H.makeUrlAbsolute("#"+M,I.hrefNoHash);else{A.preventDefault();return}P=W.is("[rel='external']")||W.is(":jqmData(ajax='false')")||W.is("[target]");var oa=c.mobile.allowCrossDomainPages&&I.protocol==="file:"&&M.search(/^https?:/)!=-1;if(P||H.isExternal(M)&&!oa)ja();else{ja=W.jqmData("transition");P=(P=W.jqmData("direction"))&&P==="reverse"||W.jqmData("back");W=W.attr("data-"+c.mobile.ns+"rel")||m;c.mobile.changePage(M,{transition:ja,
reverse:P,role:W});A.preventDefault()}}}}});c(h).delegate(".ui-page","pageshow.prefetch",function(){var A=[];c(this).find("a:jqmData(prefetch)").each(function(){var M=c(this),W=M.attr("href");if(W&&c.inArray(W,A)===-1){A.push(W);c.mobile.loadPage(W,{role:M.attr("data-"+c.mobile.ns+"rel")})}})});c.mobile._handleHashChange=function(A){var M=H.stripHash(A),W={transition:c.mobile.urlHistory.stack.length===0?"none":m,changeHash:false,fromHashChange:true};if(!c.mobile.hashListeningEnabled||Q.ignoreNextHashChange)Q.ignoreNextHashChange=
false;else{if(Q.stack.length>1&&M.indexOf(y)>-1)if(c.mobile.activePage.is(".ui-dialog"))Q.directHashChange({currentUrl:M,either:function(ja){var P=c.mobile.urlHistory.getActive();M=P.pageUrl;c.extend(W,{role:P.role,transition:P.transition,reverse:ja})}});else{Q.directHashChange({currentUrl:M,isBack:function(){a.history.back()},isForward:function(){a.history.forward()}});return}if(M){M=typeof M==="string"&&!H.isPath(M)?H.makeUrlAbsolute("#"+M,z):M;c.mobile.changePage(M,W)}else c.mobile.changePage(c.mobile.firstPage,
W)}};s.bind("hashchange",function(){c.mobile._handleHashChange(location.hash)});c(h).bind("pageshow",u);c(a).bind("throttledresize",u)}})(jQuery);(function(c,m){var k={},p=c(m),n=c.mobile.path.parseUrl(location.href);c.extend(k,{initialFilePath:function(){return n.pathname+n.search}(),initialHref:n.hrefNoHash,state:function(){return{hash:location.hash||"#"+k.initialFilePath,title:h.title,initialHref:k.initialHref}},resetUIKeys:function(o){var u="&"+c.mobile.subPageUrlKey,v=o.indexOf(c.mobile.dialogHashKey);
if(v>-1)o=o.slice(0,v)+"#"+o.slice(v);else if(o.indexOf(u)>-1)o=o.split(u).join("#"+u);return o},hashValueAfterReset:function(o){o=k.resetUIKeys(o);return c.mobile.path.parseUrl(o).hash},nextHashChangePrevented:function(o){c.mobile.urlHistory.ignoreNextHashChange=o;k.onHashChangeDisabled=o},onHashChange:function(){if(!k.onHashChangeDisabled){var o,u;o=location.hash;var v=c.mobile.path.isPath(o),F=v?location.href:c.mobile.getDocumentUrl();o=v?o.replace("#",""):o;u=k.state();o=c.mobile.path.makeUrlAbsolute(o,
F);if(v)o=k.resetUIKeys(o);history.replaceState(u,h.title,o)}},onPopState:function(o){o=o.originalEvent.state;var u,v;if(o){u=k.hashValueAfterReset(c.mobile.urlHistory.getActive().url);v=k.hashValueAfterReset(o.hash.replace("#",""));(u=u!==v)&&p.one("hashchange.pushstate",function(){k.nextHashChangePrevented(false)});k.nextHashChangePrevented(false);c.mobile._handleHashChange(o.hash);u&&k.nextHashChangePrevented(true)}},init:function(){p.bind("hashchange",k.onHashChange);p.bind("popstate",k.onPopState);
location.hash===""&&history.replaceState(k.state(),h.title,location.href)}});c(function(){c.mobile.pushStateEnabled&&c.support.pushState&&k.init()})})(jQuery,this);(function(c){c.mobile.transitionFallbacks.pop="fade"})(jQuery,this);(function(c){c.mobile.transitionHandlers.slide=c.mobile.transitionHandlers.simultaneous;c.mobile.transitionFallbacks.slide="fade"})(jQuery,this);(function(c){c.mobile.transitionFallbacks.slidedown="fade"})(jQuery,this);(function(c){c.mobile.transitionFallbacks.slideup=
"fade"})(jQuery,this);(function(c){c.mobile.transitionFallbacks.flip="fade"})(jQuery,this);(function(c){c.mobile.transitionFallbacks.flow="fade"})(jQuery,this);(function(c){c.mobile.transitionFallbacks.turn="fade"})(jQuery,this);(function(c){c.mobile.page.prototype.options.degradeInputs={color:false,date:false,datetime:false,"datetime-local":false,email:false,month:false,number:false,range:"number",search:"text",tel:false,time:false,url:false,week:false};c(h).bind("pagecreate create",function(m){var k=
c.mobile.closestPageData(c(m.target)),p;if(k){p=k.options;c(m.target).find("input").not(k.keepNativeSelector()).each(function(){var n=c(this),o=this.getAttribute("type"),u=p.degradeInputs[o]||"text";if(p.degradeInputs[o]){var v=c("<div>").html(n.clone()).html(),F=v.indexOf(" type=")>-1;n.replaceWith(v.replace(F?/\s+type=["']?\w+['"]?/:/\/?>/,' type="'+u+'" data-'+c.mobile.ns+'type="'+o+'"'+(F?"":">")))}})}})})(jQuery);(function(c,m){c.widget("mobile.dialog",c.mobile.widget,{options:{closeBtnText:"Close",
overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var k=this,p=this.element,n=c("<a href='#' data-"+c.mobile.ns+"icon='delete' data-"+c.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),o=c("<div/>",{role:"dialog","class":"ui-dialog-contain ui-corner-all ui-overlay-shadow"});p.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme);p.wrapInner(o).children().find(":jqmData(role='header')").prepend(n).end().children(":first-child").addClass("ui-corner-top").end().children(":last-child").addClass("ui-corner-bottom");
n.bind("click",function(){k.close()});p.bind("vclick submit",function(u){u=c(u.target).closest(u.type==="vclick"?"a":"form");var v;if(u.length&&!u.jqmData("transition")){v=c.mobile.urlHistory.getActive()||{};u.attr("data-"+c.mobile.ns+"transition",v.transition||c.mobile.defaultDialogTransition).attr("data-"+c.mobile.ns+"direction","reverse")}}).bind("pagehide",function(){c(this).find("."+c.mobile.activeBtnClass).removeClass(c.mobile.activeBtnClass)}).bind("pagebeforeshow",function(){k.options.overlayTheme&&
k.element.page("removeContainerBackground").page("setContainerBackground",k.options.overlayTheme)})},close:function(){m.history.back()}});c(h).delegate(c.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){c.mobile.dialog.prototype.enhance(this)})})(jQuery,this);(function(c){c.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br")};c(h).bind("pagecreate create",function(m){c(":jqmData(role='fieldcontain')",m.target).jqmEnhanceable().fieldcontain()})})(jQuery);
(function(c){c.fn.grid=function(m){return this.each(function(){var k=c(this),p=c.extend({grid:null},m),n=k.children(),o={solo:1,a:2,b:3,c:4,d:5};p=p.grid;if(!p)if(n.length<=5)for(var u in o){if(o[u]===n.length)p=u}else p="a";o=o[p];k.addClass("ui-grid-"+p);n.filter(":nth-child("+o+"n+1)").addClass("ui-block-a");o>1&&n.filter(":nth-child("+o+"n+2)").addClass("ui-block-b");o>2&&n.filter(":nth-child(3n+3)").addClass("ui-block-c");o>3&&n.filter(":nth-child(4n+4)").addClass("ui-block-d");o>4&&n.filter(":nth-child(5n+5)").addClass("ui-block-e")})}})(jQuery);
(function(c){c(h).bind("pagecreate create",function(m){c(":jqmData(role='nojs')",m.target).addClass("ui-nojs")})})(jQuery);(function(c,m){function k(n){for(var o;n;){if((o=typeof n.className==="string"&&n.className+" ")&&o.indexOf("ui-btn ")>-1&&o.indexOf("ui-disabled ")<0)break;n=n.parentNode}return n}c.fn.buttonMarkup=function(n){var o=this;n=n&&c.type(n)=="object"?n:{};for(var u=0;u<o.length;u++){var v=o.eq(u),F=v[0],C=c.extend({},c.fn.buttonMarkup.defaults,{icon:n.icon!==m?n.icon:v.jqmData("icon"),
iconpos:n.iconpos!==m?n.iconpos:v.jqmData("iconpos"),theme:n.theme!==m?n.theme:v.jqmData("theme")||c.mobile.getInheritedTheme(v,"c"),inline:n.inline!==m?n.inline:v.jqmData("inline"),shadow:n.shadow!==m?n.shadow:v.jqmData("shadow"),corners:n.corners!==m?n.corners:v.jqmData("corners"),iconshadow:n.iconshadow!==m?n.iconshadow:v.jqmData("iconshadow"),mini:n.mini!==m?n.mini:v.jqmData("mini")},n),s="ui-btn-inner",T,H,R,Q,K,t;c.each(C,function(y,L){F.setAttribute("data-"+c.mobile.ns+y,L);v.jqmData(y,L)});
if(t=c.data(F.tagName==="INPUT"||F.tagName==="BUTTON"?F.parentNode:F,"buttonElements")){F=t.outer;v=c(F);R=t.inner;Q=t.text;c(t.icon).remove();t.icon=null}else{R=h.createElement(C.wrapperEls);Q=h.createElement(C.wrapperEls)}K=C.icon?h.createElement("span"):null;p&&!t&&p();if(!C.theme)C.theme=c.mobile.getInheritedTheme(v,"c");T="ui-btn ui-btn-up-"+C.theme;T+=C.inline?" ui-btn-inline":"";T+=C.shadow?" ui-shadow":"";T+=C.corners?" ui-btn-corner-all":"";if(C.mini!==m)T+=C.mini?" ui-mini":" ui-fullsize";
if(C.inline!==m)T+=C.inline===false?" ui-btn-block":" ui-btn-inline";if(C.icon){C.icon="ui-icon-"+C.icon;C.iconpos=C.iconpos||"left";H="ui-icon "+C.icon;if(C.iconshadow)H+=" ui-icon-shadow"}if(C.iconpos){T+=" ui-btn-icon-"+C.iconpos;C.iconpos=="notext"&&!v.attr("title")&&v.attr("title",v.getEncodedText())}s+=C.corners?" ui-btn-corner-all":"";C.iconpos&&C.iconpos==="notext"&&!v.attr("title")&&v.attr("title",v.getEncodedText());if(t)v.removeClass(t.bcls||"");v.removeClass("ui-link").addClass(T);R.className=
s;Q.className="ui-btn-text";t||R.appendChild(Q);if(K){K.className=H;if(!(t&&t.icon)){K.appendChild(h.createTextNode("\u00a0"));R.appendChild(K)}}for(;F.firstChild&&!t;)Q.appendChild(F.firstChild);t||F.appendChild(R);t={bcls:T,outer:F,inner:R,text:Q,icon:K};c.data(F,"buttonElements",t);c.data(R,"buttonElements",t);c.data(Q,"buttonElements",t);K&&c.data(K,"buttonElements",t)}return this};c.fn.buttonMarkup.defaults={corners:true,shadow:true,iconshadow:true,wrapperEls:"span"};var p=function(){var n=c.mobile.buttonMarkup.hoverDelay,
o,u;c(h).bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(v){var F,C=c(k(v.target));v=v.type;if(C.length){F=C.attr("data-"+c.mobile.ns+"theme");if(v==="vmousedown")if(c.support.touch)o=setTimeout(function(){C.removeClass("ui-btn-up-"+F).addClass("ui-btn-down-"+F)},n);else C.removeClass("ui-btn-up-"+F).addClass("ui-btn-down-"+F);else if(v==="vmousecancel"||v==="vmouseup")C.removeClass("ui-btn-down-"+F).addClass("ui-btn-up-"+F);else if(v==="vmouseover"||
v==="focus")if(c.support.touch)u=setTimeout(function(){C.removeClass("ui-btn-up-"+F).addClass("ui-btn-hover-"+F)},n);else C.removeClass("ui-btn-up-"+F).addClass("ui-btn-hover-"+F);else if(v==="vmouseout"||v==="blur"||v==="scrollstart"){C.removeClass("ui-btn-hover-"+F+" ui-btn-down-"+F).addClass("ui-btn-up-"+F);o&&clearTimeout(o);u&&clearTimeout(u)}}},"focusin focus":function(v){c(k(v.target)).addClass(c.mobile.focusClass)},"focusout blur":function(v){c(k(v.target)).removeClass(c.mobile.focusClass)}});
p=null};c(h).bind("pagecreate create",function(n){c(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",n.target).not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})})(jQuery);(function(c){c.mobile.page.prototype.options.backBtnText="Back";c.mobile.page.prototype.options.addBackBtn=false;c.mobile.page.prototype.options.backBtnTheme=null;c.mobile.page.prototype.options.headerTheme="a";c.mobile.page.prototype.options.footerTheme=
"a";c.mobile.page.prototype.options.contentTheme=null;c(h).delegate(":jqmData(role='page'), :jqmData(role='dialog')","pagecreate",function(){var m=c(this),k=m.data("page").options,p=m.jqmData("role"),n=k.theme;c(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",this).jqmEnhanceable().each(function(){var o=c(this),u=o.jqmData("role"),v=o.jqmData("theme"),F=v||k.contentTheme||p==="dialog"&&n,C;o.addClass("ui-"+u);if(u==="header"||u==="footer"){var s=v||(u==="header"?k.headerTheme:
k.footerTheme)||n;o.addClass("ui-bar-"+s).attr("role",u==="header"?"banner":"contentinfo");if(u==="header"){v=o.children("a");C=v.hasClass("ui-btn-left");F=v.hasClass("ui-btn-right");C=C||v.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length;F||v.eq(1).addClass("ui-btn-right")}if(k.addBackBtn&&u==="header"&&c(".ui-page").length>1&&m.jqmData("url")!==c.mobile.path.stripHash(location.hash)&&!C)c("<a href='#' class='ui-btn-left' data-"+c.mobile.ns+"rel='back' data-"+c.mobile.ns+"icon='arrow-l'>"+
k.backBtnText+"</a>").attr("data-"+c.mobile.ns+"theme",k.backBtnTheme||s).prependTo(o);o.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}else if(u==="content"){F&&o.addClass("ui-body-"+F);o.attr("role","main")}})})})(jQuery);(function(c){c.widget("mobile.collapsible",c.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:true,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,
iconTheme:"d",mini:false,initSelector:":jqmData(role='collapsible')"},_create:function(){var m=this.element,k=this.options,p=m.addClass("ui-collapsible"),n=m.children(k.heading).first(),o=p.wrapInner("<div class='ui-collapsible-content'></div>").find(".ui-collapsible-content"),u=m.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");if(n.is("legend")){n=c("<div role='heading'>"+n.html()+"</div>").insertBefore(n);n.next().remove()}if(u.length){if(!k.theme)k.theme=u.jqmData("theme")||
c.mobile.getInheritedTheme(u,"c");if(!k.contentTheme)k.contentTheme=u.jqmData("content-theme");if(!k.iconPos)k.iconPos=u.jqmData("iconpos");if(!k.mini)k.mini=u.jqmData("mini")}o.addClass(k.contentTheme?"ui-body-"+k.contentTheme:"");n.insertBefore(o).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:false,corners:false,iconpos:m.jqmData("iconpos")||
k.iconPos||"left",icon:"plus",mini:k.mini,theme:k.theme}).add(".ui-btn-inner",m).addClass("ui-corner-top ui-corner-bottom");p.bind("expand collapse",function(v){if(!v.isDefaultPrevented()){v.preventDefault();var F=c(this);v=v.type==="collapse";var C=k.contentTheme;n.toggleClass("ui-collapsible-heading-collapsed",v).find(".ui-collapsible-heading-status").text(v?k.expandCueText:k.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-minus",!v).toggleClass("ui-icon-plus",v);F.toggleClass("ui-collapsible-collapsed",
v);o.toggleClass("ui-collapsible-content-collapsed",v).attr("aria-hidden",v);if(C&&(!u.length||p.jqmData("collapsible-last"))){n.find("a").first().add(n.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",v);o.toggleClass("ui-corner-bottom",!v)}o.trigger("updatelayout")}}).trigger(k.collapsed?"collapse":"expand");n.bind("click",function(v){var F=n.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";p.trigger(F);v.preventDefault()})}});c(h).bind("pagecreate create",function(m){c.mobile.collapsible.prototype.enhanceWithin(m.target)})})(jQuery);
(function(c,m){c.widget("mobile.collapsibleset",c.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var k=this.element.addClass("ui-collapsible-set"),p=this.options;if(!p.theme)p.theme=c.mobile.getInheritedTheme(k,"c");if(!p.contentTheme)p.contentTheme=k.jqmData("content-theme");if(!p.corners)p.corners=k.jqmData("corners")===m?true:false;k.jqmData("collapsiblebound")||k.jqmData("collapsiblebound",true).bind("expand collapse",function(n){var o=n.type==="collapse";
n=c(n.target).closest(".ui-collapsible");var u=n.data("collapsible");if(u.options.contentTheme&&n.jqmData("collapsible-last")){n.find(u.options.heading).first().find("a").first().add(".ui-btn-inner").toggleClass("ui-corner-bottom",o);n.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!o)}}).bind("expand",function(n){c(n.target).closest(".ui-collapsible").siblings(".ui-collapsible").trigger("collapse")})},_init:function(){this.refresh()},refresh:function(){var k=this.options,p=this.element.children(":jqmData(role='collapsible')");
c.mobile.collapsible.prototype.enhance(p.not(".ui-collapsible"));p.each(function(){c(this).find(c.mobile.collapsible.prototype.options.heading).find("a").first().add(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")});p.first().find("a").first().addClass(k.corners?"ui-corner-top":"").find(".ui-btn-inner").addClass("ui-corner-top");p.last().jqmData("collapsible-last",true).find("a").first().addClass(k.corners?"ui-corner-bottom":"").find(".ui-btn-inner").addClass("ui-corner-bottom")}});
c(h).bind("pagecreate create",function(k){c.mobile.collapsibleset.prototype.enhanceWithin(k.target)})})(jQuery);(function(c,m){c.widget("mobile.navbar",c.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var k=this.element,p=k.find("a"),n=p.filter(":jqmData(icon)").length?this.options.iconpos:m;k.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid});n||k.addClass("ui-navbar-noicons");p.buttonMarkup({corners:false,
shadow:false,inline:true,iconpos:n});k.delegate("a","vclick",function(o){if(!c(o.target).hasClass("ui-disabled")){p.removeClass(c.mobile.activeBtnClass);c(this).addClass(c.mobile.activeBtnClass)}});k.closest(".ui-page").bind("pagebeforeshow",function(){p.filter(".ui-state-persist").addClass(c.mobile.activeBtnClass)})}});c(h).bind("pagecreate create",function(k){c.mobile.navbar.prototype.enhanceWithin(k.target)})})(jQuery);(function(c){var m={};c.widget("mobile.listview",c.mobile.widget,{options:{theme:null,
countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",mini:false,inset:false,initSelector:":jqmData(role='listview')"},_create:function(){var k=this,p="";p+=k.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"";p+=k.element.jqmData("mini")||k.options.mini===true?" ui-mini":"";k.element.addClass(function(n,o){return o+" ui-listview "+p});k.refresh(true)},_removeCorners:function(k,p){k=k.add(k.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb"));if(p==="top")k.removeClass("ui-corner-top ui-corner-tr ui-corner-tl");
else p==="bottom"?k.removeClass("ui-corner-bottom ui-corner-br ui-corner-bl"):k.removeClass("ui-corner-top ui-corner-tr ui-corner-tl ui-corner-bottom ui-corner-br ui-corner-bl")},_refreshCorners:function(k){var p,n;if(this.options.inset){p=this.element.children("li");n=k?p.not(".ui-screen-hidden"):p.filter(":visible");this._removeCorners(p);p=n.first().addClass("ui-corner-top");p.add(p.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl");
n=n.last().addClass("ui-corner-bottom");n.add(n.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")}k||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(k,p,n,o){var u={};for(u[n]=u[o]=true;k;){if(u[k.nodeName])return k;k=k[p]}return null},_getChildrenByTagName:function(k,p,n){var o=[],u={};u[p]=u[n]=true;for(k=k.firstChild;k;){u[k.nodeName]&&o.push(k);k=k.nextSibling}return c(o)},_addThumbClasses:function(k){var p,
n,o=k.length;for(p=0;p<o;p++){n=c(this._findFirstElementByTagName(k[p].firstChild,"nextSibling","img","IMG"));if(n.length){n.addClass("ui-li-thumb");c(this._findFirstElementByTagName(n[0].parentNode,"parentNode","li","LI")).addClass(n.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")}}},refresh:function(k){this.parentPage=this.element.closest(".ui-page");this._createSubPages();var p=this.options,n=this.element,o=n.jqmData("dividertheme")||p.dividerTheme,u=n.jqmData("splittheme"),v=n.jqmData("spliticon"),
F=this._getChildrenByTagName(n[0],"li","LI"),C=c.support.cssPseudoElement||!c.nodeName(n[0],"ol")?0:1,s={},T,H,R,Q,K,t,y;C&&n.find(".ui-li-dec").remove();if(!p.theme)p.theme=c.mobile.getInheritedTheme(this.element,"c");for(var L=0,I=F.length;L<I;L++){T=F.eq(L);H="ui-li";if(k||!T.hasClass("ui-li")){R=T.jqmData("theme")||p.theme;Q=this._getChildrenByTagName(T[0],"a","A");if(Q.length){t=T.jqmData("icon");T.buttonMarkup({wrapperEls:"div",shadow:false,corners:false,iconpos:"right",icon:Q.length>1||t===
false?false:t||"arrow-r",theme:R});t!=false&&Q.length==1&&T.addClass("ui-li-has-arrow");Q.first().removeClass("ui-link").addClass("ui-link-inherit");if(Q.length>1){H+=" ui-li-has-alt";Q=Q.last();K=u||Q.jqmData("theme")||p.splitTheme;y=Q.jqmData("icon");Q.appendTo(T).attr("title",Q.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:false,corners:false,theme:R,icon:false,iconpos:false}).find(".ui-btn-inner").append(c(h.createElement("span")).buttonMarkup({shadow:true,corners:true,
theme:K,iconpos:"notext",icon:y||t||v||p.splitIcon}))}}else if(T.jqmData("role")==="list-divider"){H+=" ui-li-divider ui-bar-"+o;T.attr("role","heading");if(C)C=1}else H+=" ui-li-static ui-body-"+R}if(C&&H.indexOf("ui-li-divider")<0){R=T.is(".ui-li-static:first")?T:T.find(".ui-link-inherit");R.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+C++ +". </span>")}s[H]||(s[H]=[]);s[H].push(T[0])}for(H in s)c(s[H]).addClass(H).children(".ui-btn-inner").addClass(H);n.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var z=
c(this);z.prependTo(z.parent())}).end().find(".ui-li-count").each(function(){c(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(n.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all");this._addThumbClasses(F);this._addThumbClasses(n.find(".ui-link-inherit"));this._refreshCorners(k)},_idStringEscape:function(k){return k.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var k=this.element,p=k.closest(".ui-page"),n=p.jqmData("url"),o=n||p[0][c.expando],
u=k.attr("id"),v=this.options,F="data-"+c.mobile.ns,C=this,s=p.find(":jqmData(role='footer')").jqmData("id"),T;if(typeof m[o]==="undefined")m[o]=-1;u=u||++m[o];c(k.find("li>ul, li>ol").toArray().reverse()).each(function(H){var R=c(this),Q=R.attr("id")||u+"-"+H;H=R.parent();var K=c(R.prevAll().toArray().reverse());K=K.length?K:c("<span>"+c.trim(H.contents()[0].nodeValue)+"</span>");var t=K.first().getEncodedText();Q=(n||"")+"&"+c.mobile.subPageUrlKey+"="+Q;var y=R.jqmData("theme")||v.theme,L=R.jqmData("counttheme")||
k.jqmData("counttheme")||v.countTheme;T=true;R.detach().wrap("<div "+F+"role='page' "+F+"url='"+Q+"' "+F+"theme='"+y+"' "+F+"count-theme='"+L+"'><div "+F+"role='content'></div></div>").parent().before("<div "+F+"role='header' "+F+"theme='"+v.headerTheme+"'><div class='ui-title'>"+t+"</div></div>").after(s?c("<div "+F+"role='footer' "+F+"id='"+s+"'>"):"").parent().appendTo(c.mobile.pageContainer).page();R=H.find("a:first");R.length||(R=c("<a/>").html(K||t).prependTo(H.empty()));R.attr("href","#"+Q)}).listview();
T&&p.is(":jqmData(external-page='true')")&&p.data("page").options.domCache===false&&p.unbind("pagehide.remove").bind("pagehide.remove",function(H,R){if(H=R.nextPage){R=H.jqmData("url");if(R.indexOf(n+"&"+c.mobile.subPageUrlKey)!==0){C.childPages().remove();p.remove()}}})},childPages:function(){var k=this.parentPage.jqmData("url");return c(":jqmData(url^='"+k+"&"+c.mobile.subPageUrlKey+"')")}});c(h).bind("pagecreate create",function(k){c.mobile.listview.prototype.enhanceWithin(k.target)})})(jQuery);
(function(c,m){c.widget("mobile.checkboxradio",c.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var k=this,p=this.element,n=function(T,H){return T.jqmData(H)||T.closest("form,fieldset").jqmData(H)},o=c(p).closest("label"),u=o.length?o:c(p).closest("form,fieldset,:jqmData(role='page'),:jqmData(role='dialog')").find("label").filter("[for='"+p[0].id+"']"),v=p[0].type;o=n(p,"mini");var F=v+"-on",C=v+"-off",s=p.parents(":jqmData(type='horizontal')").length?
m:C;n=n(p,"iconpos");if(!(v!=="checkbox"&&v!=="radio")){c.extend(this,{label:u,inputtype:v,checkedClass:"ui-"+F+(s?"":" "+c.mobile.activeBtnClass),uncheckedClass:"ui-"+C,checkedicon:"ui-icon-"+F,uncheckedicon:"ui-icon-"+C});if(!this.options.theme)this.options.theme=c.mobile.getInheritedTheme(this.element,"c");u.buttonMarkup({theme:this.options.theme,icon:s,shadow:false,mini:o,iconpos:n});n=h.createElement("div");n.className="ui-"+v;p.add(u).wrapAll(n);u.bind({vmouseover:function(T){c(this).parent().is(".ui-disabled")&&
T.stopPropagation()},vclick:function(T){if(p.is(":disabled"))T.preventDefault();else{k._cacheVals();p.prop("checked",v==="radio"&&true||!p.prop("checked"));p.triggerHandler("click");k._getInputSet().not(p).prop("checked",false);k._updateAll();return false}}});p.bind({vmousedown:function(){k._cacheVals()},vclick:function(){var T=c(this);if(T.is(":checked")){T.prop("checked",true);k._getInputSet().not(T).prop("checked",false)}else T.prop("checked",false);k._updateAll()},focus:function(){u.addClass(c.mobile.focusClass)},
blur:function(){u.removeClass(c.mobile.focusClass)}});this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){c(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){if(this.inputtype==="checkbox")return this.element;return this.element.closest("form,fieldset,:jqmData(role='page')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var k=this;this._getInputSet().each(function(){var p=c(this);if(this.checked||k.inputtype===
"checkbox")p.trigger("change")}).checkboxradio("refresh")},refresh:function(){var k=this.element[0],p=this.label,n=p.find(".ui-icon");if(k.checked){p.addClass(this.checkedClass).removeClass(this.uncheckedClass);n.addClass(this.checkedicon).removeClass(this.uncheckedicon)}else{p.removeClass(this.checkedClass).addClass(this.uncheckedClass);n.removeClass(this.checkedicon).addClass(this.uncheckedicon)}k.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",true).parent().addClass("ui-disabled")},
enable:function(){this.element.prop("disabled",false).parent().removeClass("ui-disabled")}});c(h).bind("pagecreate create",function(k){c.mobile.checkboxradio.prototype.enhanceWithin(k.target,true)})})(jQuery);(function(c,m){c.widget("mobile.button",c.mobile.widget,{options:{theme:null,icon:null,iconpos:null,inline:false,corners:true,shadow:true,iconshadow:true,initSelector:"button, [type='button'], [type='submit'], [type='reset'], [type='image']",mini:false},_create:function(){var k=this.element,
p,n=this.options,o;o="";var u;if(k[0].tagName==="A")!k.hasClass("ui-btn")&&k.buttonMarkup();else{if(!this.options.theme)this.options.theme=c.mobile.getInheritedTheme(this.element,"c");if(~k[0].className.indexOf("ui-btn-left"))o="ui-btn-left";if(~k[0].className.indexOf("ui-btn-right"))o="ui-btn-right";p=this.button=c("<div></div>").text(k.text()||k.val()).insertBefore(k).buttonMarkup({theme:n.theme,icon:n.icon,iconpos:n.iconpos,inline:n.inline,corners:n.corners,shadow:n.shadow,iconshadow:n.iconshadow,
mini:n.mini}).addClass(o).append(k.addClass("ui-btn-hidden"));n=k.attr("type");o=k.attr("name");n!=="button"&&n!=="reset"&&o&&k.bind("vclick",function(){if(u===m){u=c("<input>",{type:"hidden",name:k.attr("name"),value:k.attr("value")}).insertBefore(k);c(h).one("submit",function(){u.remove();u=m})}});k.bind({focus:function(){p.addClass(c.mobile.focusClass)},blur:function(){p.removeClass(c.mobile.focusClass)}});this.refresh()}},enable:function(){this.element.attr("disabled",false);this.button.removeClass("ui-disabled").attr("aria-disabled",
false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",true);this.button.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true)},refresh:function(){var k=this.element;k.prop("disabled")?this.disable():this.enable();c(this.button.data("buttonElements").text).text(k.text()||k.val())}});c(h).bind("pagecreate create",function(k){c.mobile.button.prototype.enhanceWithin(k.target,true)})})(jQuery);(function(c){c.fn.controlgroup=
function(m){function k(p,n){p.removeClass("ui-btn-corner-all ui-shadow").eq(0).addClass(n[0]).end().last().addClass(n[1]).addClass("ui-controlgroup-last")}return this.each(function(){var p=c(this),n=c.extend({direction:p.jqmData("type")||"vertical",shadow:false,excludeInvisible:true,mini:p.jqmData("mini")},m),o=p.children("legend"),u=n.direction=="horizontal"?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"];p.find("input").first().attr("type");if(o.length){p.wrapInner("<div class='ui-controlgroup-controls'></div>");
c("<div role='heading' class='ui-controlgroup-label'>"+o.html()+"</div>").insertBefore(p.children(0));o.remove()}p.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+n.direction);k(p.find(".ui-btn"+(n.excludeInvisible?":visible":"")).not(".ui-slider-handle"),u);k(p.find(".ui-btn-inner"),u);n.shadow&&p.addClass("ui-shadow");n.mini&&p.addClass("ui-mini")})}})(jQuery);(function(c){c(h).bind("pagecreate create",function(m){c(m.target).find("a").jqmEnhanceable().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})})(jQuery);
(function(c){var m=c("meta[name=viewport]"),k=m.attr("content"),p=k+",maximum-scale=1, user-scalable=no",n=k+",maximum-scale=10, user-scalable=yes",o=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(k);c.mobile.zoom=c.extend({},{enabled:!o,locked:false,disable:function(u){if(!o&&!c.mobile.zoom.locked){m.attr("content",p);c.mobile.zoom.enabled=false;c.mobile.zoom.locked=u||false}},enable:function(u){if(!o&&(!c.mobile.zoom.locked||u===true)){m.attr("content",n);c.mobile.zoom.enabled=
true;c.mobile.zoom.locked=false}},restore:function(){if(!o){m.attr("content",k);c.mobile.zoom.enabled=true}}})})(jQuery);(function(c){c.widget("mobile.textinput",c.mobile.widget,{options:{theme:null,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])",
clearSearchButtonText:"clear text"},_create:function(){var m=this.element,k=this.options,p=k.theme||c.mobile.getInheritedTheme(this.element,"c"),n=" ui-body-"+p,o=m.jqmData("mini")==true,u=o?" ui-mini":"",v,F;c("label[for='"+m.attr("id")+"']").addClass("ui-input-text");v=m.addClass("ui-input-text ui-body-"+p);if(typeof m[0].autocorrect!=="undefined"&&!c.support.touchOverflow){m[0].setAttribute("autocorrect","off");m[0].setAttribute("autocomplete","off")}if(m.is("[type='search'],:jqmData(type='search')")){v=
m.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+n+u+"'></div>").parent();F=c("<a href='#' class='ui-input-clear' title='"+k.clearSearchButtonText+"'>"+k.clearSearchButtonText+"</a>").bind("click",function(H){m.val("").focus().trigger("change");F.addClass("ui-input-clear-hidden");H.preventDefault()}).appendTo(v).buttonMarkup({icon:"delete",iconpos:"notext",corners:true,shadow:true,mini:o});function C(){setTimeout(function(){F.toggleClass("ui-input-clear-hidden",
!m.val())},0)}C();m.bind("paste cut keyup focus change blur",C)}else m.addClass("ui-corner-all ui-shadow-inset"+n+u);m.focus(function(){v.addClass(c.mobile.focusClass)}).blur(function(){v.removeClass(c.mobile.focusClass)}).bind("focus",function(){k.preventFocusZoom&&c.mobile.zoom.disable(true)}).bind("blur",function(){k.preventFocusZoom&&c.mobile.zoom.enable(true)});if(m.is("textarea")){var s=function(){var H=m[0].scrollHeight;m[0].clientHeight<H&&m.height(H+15)},T;m.keyup(function(){clearTimeout(T);
T=setTimeout(s,100)});c(h).one("pagechange",s);c.trim(m.val())&&c(a).load(s)}},disable:function(){(this.element.attr("disabled",true).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).addClass("ui-disabled")},enable:function(){(this.element.attr("disabled",false).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).removeClass("ui-disabled")}});c(h).bind("pagecreate create",function(m){c.mobile.textinput.prototype.enhanceWithin(m.target,
true)})})(jQuery);(function(c){c.mobile.listview.prototype.options.filter=false;c.mobile.listview.prototype.options.filterPlaceholder="Filter items...";c.mobile.listview.prototype.options.filterTheme="c";c.mobile.listview.prototype.options.filterCallback=function(m,k){return m.toLowerCase().indexOf(k)===-1};c(h).delegate(":jqmData(role='listview')","listviewcreate",function(){var m=c(this),k=m.data("listview");if(k.options.filter){var p=c("<form>",{"class":"ui-listview-filter ui-bar-"+k.options.filterTheme,
role:"search"});c("<input>",{placeholder:k.options.filterPlaceholder}).attr("data-"+c.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var n=c(this),o=this.value.toLowerCase(),u=null;u=n.jqmData("lastval")+"";var v=false,F="";n.jqmData("lastval",o);u=o.length<u.length||o.indexOf(u)!==0?m.children():m.children(":not(.ui-screen-hidden)");if(o){for(var C=u.length-1;C>=0;C--){n=c(u[C]);F=n.jqmData("filtertext")||n.text();if(n.is("li:jqmData(role=list-divider)")){n.toggleClass("ui-filter-hidequeue",
!v);v=false}else if(k.options.filterCallback(F,o))n.toggleClass("ui-filter-hidequeue",true);else v=true}u.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",false);u.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",true).toggleClass("ui-filter-hidequeue",false)}else u.toggleClass("ui-screen-hidden",false);k._refreshCorners()}).appendTo(p).textinput();k.options.inset&&p.addClass("ui-listview-filter-inset");p.bind("submit",function(){return false}).insertBefore(m)}})})(jQuery);
(function(c,m){c.widget("mobile.slider",c.mobile.widget,{options:{theme:null,trackTheme:null,disabled:false,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:false},_create:function(){var k=this,p=this.element,n=c.mobile.getInheritedTheme(p,"c"),o=this.options.theme||n;n=this.options.trackTheme||n;var u=p[0].nodeName.toLowerCase(),v=u=="select"?"ui-slider-switch":"",F=p.attr("id"),C=F+"-label";F=c("[for='"+F+"']").attr("id",C);var s=function(){return u=="input"?
parseFloat(p.val()):p[0].selectedIndex},T=u=="input"?parseFloat(p.attr("min")):0,H=u=="input"?parseFloat(p.attr("max")):p.find("option").length-1,R=a.parseFloat(p.attr("step")||1),Q=this.options.inline||p.jqmData("inline")==true?" ui-slider-inline":"",K=this.options.mini||p.jqmData("mini")?" ui-slider-mini":"",t=h.createElement("a"),y=c(t),L=h.createElement("div"),I=c(L),z=p.jqmData("highlight")&&u!="select"?function(){var J=h.createElement("div");J.className="ui-slider-bg ui-btn-active ui-btn-corner-all";
return c(J).prependTo(I)}():false;t.setAttribute("href","#");L.setAttribute("role","application");L.className=["ui-slider ",v," ui-btn-down-",n," ui-btn-corner-all",Q,K].join("");t.className="ui-slider-handle";L.appendChild(t);y.buttonMarkup({corners:true,theme:o,shadow:true}).attr({role:"slider","aria-valuemin":T,"aria-valuemax":H,"aria-valuenow":s(),"aria-valuetext":s(),title:s(),"aria-labelledby":C});c.extend(this,{slider:I,handle:y,valuebg:z,dragging:false,beforeStart:null,userModified:false,
mouseMoved:false});if(u=="select"){o=h.createElement("div");o.className="ui-slider-inneroffset";v=0;for(C=L.childNodes.length;v<C;v++)o.appendChild(L.childNodes[v]);L.appendChild(o);y.addClass("ui-slider-handle-snapping");L=p.find("option");o=0;for(v=L.length;o<v;o++){C=!o?"b":"a";Q=!o?" ui-btn-down-"+n:" "+c.mobile.activeBtnClass;h.createElement("div");K=h.createElement("span");K.className=["ui-slider-label ui-slider-label-",C,Q," ui-btn-corner-all"].join("");K.setAttribute("role","img");K.appendChild(h.createTextNode(L[o].innerHTML));
c(K).prependTo(I)}k._labels=c(".ui-slider-label",I)}F.addClass("ui-slider");p.addClass(u==="input"?"ui-slider-input":"ui-slider-switch").change(function(){k.mouseMoved||k.refresh(s(),true)}).keyup(function(){k.refresh(s(),true,true)}).blur(function(){k.refresh(s(),true)});c(h).bind("vmousemove",function(J){if(k.dragging){k.mouseMoved=true;u==="select"&&y.removeClass("ui-slider-handle-snapping");k.refresh(J);k.userModified=k.beforeStart!==p[0].selectedIndex;return false}});I.bind("vmousedown",function(J){k.dragging=
true;k.userModified=false;k.mouseMoved=false;if(u==="select")k.beforeStart=p[0].selectedIndex;k.refresh(J);return false}).bind("vclick",false);I.add(h).bind("vmouseup",function(){if(k.dragging){k.dragging=false;if(u==="select"){y.addClass("ui-slider-handle-snapping");if(k.mouseMoved)k.userModified?k.refresh(k.beforeStart==0?1:0):k.refresh(k.beforeStart);else k.refresh(k.beforeStart==0?1:0)}return k.mouseMoved=false}});I.insertAfter(p);u=="select"&&this.handle.bind({focus:function(){I.addClass(c.mobile.focusClass)},
blur:function(){I.removeClass(c.mobile.focusClass)}});this.handle.bind({vmousedown:function(){c(this).focus()},vclick:false,keydown:function(J){var G=s();if(!k.options.disabled){switch(J.keyCode){case c.mobile.keyCode.HOME:case c.mobile.keyCode.END:case c.mobile.keyCode.PAGE_UP:case c.mobile.keyCode.PAGE_DOWN:case c.mobile.keyCode.UP:case c.mobile.keyCode.RIGHT:case c.mobile.keyCode.DOWN:case c.mobile.keyCode.LEFT:J.preventDefault();if(!k._keySliding){k._keySliding=true;c(this).addClass("ui-state-active")}break}switch(J.keyCode){case c.mobile.keyCode.HOME:k.refresh(T);
break;case c.mobile.keyCode.END:k.refresh(H);break;case c.mobile.keyCode.PAGE_UP:case c.mobile.keyCode.UP:case c.mobile.keyCode.RIGHT:k.refresh(G+R);break;case c.mobile.keyCode.PAGE_DOWN:case c.mobile.keyCode.DOWN:case c.mobile.keyCode.LEFT:k.refresh(G-R);break}}},keyup:function(){if(k._keySliding){k._keySliding=false;c(this).removeClass("ui-state-active")}}});this.refresh(m,m,true)},refresh:function(k,p,n){if(this.options.disabled||this.element.attr("disabled"))this.disable();var o=this.element,
u=o[0].nodeName.toLowerCase(),v=u==="input"?parseFloat(o.attr("min")):0,F=u==="input"?parseFloat(o.attr("max")):o.find("option").length-1,C=u==="input"&&parseFloat(o.attr("step"))>0?parseFloat(o.attr("step")):1;if(typeof k==="object"){k=k;if(!this.dragging||k.pageX<this.slider.offset().left-8||k.pageX>this.slider.offset().left+this.slider.width()+8)return;k=Math.round((k.pageX-this.slider.offset().left)/this.slider.width()*100)}else{if(k==null)k=u==="input"?parseFloat(o.val()||0):o[0].selectedIndex;
k=(parseFloat(k)-v)/(F-v)*100}if(!isNaN(k)){if(k<0)k=0;if(k>100)k=100;var s=k/100*(F-v)+v,T=(s-v)%C;s=s-T;if(Math.abs(T)*2>=C)s+=T>0?C:-C;s=parseFloat(s.toFixed(5));if(s<v)s=v;if(s>F)s=F;this.handle.css("left",k+"%");this.handle.attr({"aria-valuenow":u==="input"?s:o.find("option").eq(s).attr("value"),"aria-valuetext":u==="input"?s:o.find("option").eq(s).getEncodedText(),title:u==="input"?s:o.find("option").eq(s).getEncodedText()});this.valuebg&&this.valuebg.css("width",k+"%");if(this._labels){v=this.handle.width()/
this.slider.width()*100;var H=k&&v+(100-v)*k/100,R=k===100?0:Math.min(v+100-H,100);this._labels.each(function(){var Q=c(this).is(".ui-slider-label-a");c(this).width((Q?H:R)+"%")})}if(!n){n=false;if(u==="input"){n=o.val()!==s;o.val(s)}else{n=o[0].selectedIndex!==s;o[0].selectedIndex=s}!p&&n&&o.trigger("change")}}},enable:function(){this.element.attr("disabled",false);this.slider.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",
true);this.slider.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true)}});c(h).bind("pagecreate create",function(k){c.mobile.slider.prototype.enhanceWithin(k.target,true)})})(jQuery);(function(c){c.widget("mobile.selectmenu",c.mobile.widget,{options:{theme:null,disabled:false,icon:"arrow-d",iconpos:"right",inline:false,corners:true,shadow:true,iconshadow:true,overlayTheme:"a",hidePlaceholderMenuItems:true,closeText:"Close",nativeMenu:true,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&
navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"select:not(:jqmData(role='slider'))",mini:false},_button:function(){return c("<div/>")},_setDisabled:function(m){this.element.attr("disabled",m);this.button.attr("aria-disabled",m);return this._setOption("disabled",m)},_focusButton:function(){var m=this;setTimeout(function(){m.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var m="";if(~this.element[0].className.indexOf("ui-btn-left"))m=
" ui-btn-left";if(~this.element[0].className.indexOf("ui-btn-right"))m=" ui-btn-right";this.select=this.element.wrap("<div class='ui-select"+m+"'>");this.selectID=this.select.attr("id");this.label=c("label[for='"+this.selectID+"']").addClass("ui-select");this.isMultiple=this.select[0].multiple;if(!this.options.theme)this.options.theme=c.mobile.getInheritedTheme(this.select,"c")},_create:function(){this._preExtension();this._trigger("beforeCreate");this.button=this._button();var m=this,k=this.options,
p=this.button.text(c(this.select[0].options.item(this.select[0].selectedIndex==-1?0:this.select[0].selectedIndex)).text()).insertBefore(this.select).buttonMarkup({theme:k.theme,icon:k.icon,iconpos:k.iconpos,inline:k.inline,corners:k.corners,shadow:k.shadow,iconshadow:k.iconshadow,mini:k.mini});k.nativeMenu&&a.opera&&a.opera.version&&this.select.addClass("ui-select-nativeonly");if(this.isMultiple)this.buttonCount=c("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(p.addClass("ui-li-has-count"));
if(k.disabled||this.element.attr("disabled"))this.disable();this.select.change(function(){m.refresh()});this.build()},build:function(){var m=this;this.select.appendTo(m.button).bind("vmousedown",function(){m.button.addClass(c.mobile.activeBtnClass)}).bind("focus",function(){m.button.addClass(c.mobile.focusClass)}).bind("blur",function(){m.button.removeClass(c.mobile.focusClass)}).bind("focus vmouseover",function(){m.button.trigger("vmouseover")}).bind("vmousemove",function(){m.button.removeClass(c.mobile.activeBtnClass)}).bind("change blur vmouseout",
function(){m.button.trigger("vmouseout").removeClass(c.mobile.activeBtnClass)}).bind("change blur",function(){m.button.removeClass("ui-btn-down-"+m.options.theme)});m.button.bind("vmousedown",function(){m.options.preventFocusZoom&&c.mobile.zoom.disable(true)}).bind("mouseup",function(){m.options.preventFocusZoom&&c.mobile.zoom.enable(true)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var m=this;return this.selected().map(function(){return m._selectOptions().index(this)}).get()},
setButtonText:function(){var m=this,k=this.selected();this.button.find(".ui-btn-text").text(function(){if(!m.isMultiple)return k.text();return k.length?k.map(function(){return c(this).text()}).get().join(", "):m.placeholder})},setButtonCount:function(){var m=this.selected();if(this.isMultiple)this.buttonCount[m.length>1?"show":"hide"]().text(m.length)},refresh:function(){this.setButtonText();this.setButtonCount()},open:c.noop,close:c.noop,disable:function(){this._setDisabled(true);this.button.addClass("ui-disabled")},
enable:function(){this._setDisabled(false);this.button.removeClass("ui-disabled")}});c(h).bind("pagecreate create",function(m){c.mobile.selectmenu.prototype.enhanceWithin(m.target,true)})})(jQuery);(function(c){var m=function(k){var p=k.selectID,n=k.label,o=k.select.closest(".ui-page"),u=c("<div>",{"class":"ui-selectmenu-screen ui-screen-hidden"}).appendTo(o),v=k._selectOptions(),F=k.isMultiple=k.select[0].multiple,C=p+"-button",s=p+"-menu",T=c("<div data-"+c.mobile.ns+"role='dialog' data-"+c.mobile.ns+
"theme='"+k.options.theme+"' data-"+c.mobile.ns+"overlay-theme='"+k.options.overlayTheme+"'><div data-"+c.mobile.ns+"role='header'><div class='ui-title'>"+n.getEncodedText()+"</div></div><div data-"+c.mobile.ns+"role='content'></div></div>"),H=c("<div>",{"class":"ui-selectmenu ui-selectmenu-hidden ui-overlay-shadow ui-corner-all ui-body-"+k.options.overlayTheme+" "+c.mobile.defaultDialogTransition}).insertAfter(u),R=c("<ul>",{"class":"ui-selectmenu-list",id:s,role:"listbox","aria-labelledby":C}).attr("data-"+
c.mobile.ns+"theme",k.options.theme).appendTo(H),Q=c("<div>",{"class":"ui-header ui-bar-"+k.options.theme}).prependTo(H),K=c("<h1>",{"class":"ui-title"}).appendTo(Q),t,y,L;if(k.isMultiple)L=c("<a>",{text:k.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+c.mobile.ns+"iconpos","notext").attr("data-"+c.mobile.ns+"icon","delete").appendTo(Q).buttonMarkup();c.extend(k,{select:k.select,selectID:p,buttonId:C,menuId:s,thisPage:o,menuPage:T,label:n,screen:u,selectOptions:v,isMultiple:F,theme:k.options.theme,
listbox:H,list:R,header:Q,headerTitle:K,headerClose:L,menuPageContent:t,menuPageClose:y,placeholder:"",build:function(){var I=this;I.refresh();I.select.attr("tabindex","-1").focus(function(){c(this).blur();I.button.focus()});I.button.bind("vclick keydown",function(z){if(z.type=="vclick"||z.keyCode&&(z.keyCode===c.mobile.keyCode.ENTER||z.keyCode===c.mobile.keyCode.SPACE)){I.open();z.preventDefault()}});I.list.attr("role","listbox").bind("focusin",function(z){c(z.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",
function(z){c(z.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(z){var J=I.select[0].selectedIndex,G=I.list.find("li:not(.ui-li-divider)").index(this),U=I._selectOptions().eq(G)[0];U.selected=I.isMultiple?!U.selected:true;I.isMultiple&&c(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",U.selected).toggleClass("ui-icon-checkbox-off",!U.selected);if(I.isMultiple||J!==G)I.select.trigger("change");I.isMultiple||I.close();z.preventDefault()}).keydown(function(z){var J=
c(z.target),G=J.closest("li");switch(z.keyCode){case 38:z=G.prev().not(".ui-selectmenu-placeholder");if(z.is(".ui-li-divider"))z=z.prev();if(z.length){J.blur().attr("tabindex","-1");z.addClass("ui-btn-down-"+k.options.theme).find("a").first().focus()}return false;case 40:z=G.next();if(z.is(".ui-li-divider"))z=z.next();if(z.length){J.blur().attr("tabindex","-1");z.addClass("ui-btn-down-"+k.options.theme).find("a").first().focus()}return false;case 13:case 32:J.trigger("click");return false}});I.menuPage.bind("pagehide",
function(){I.list.appendTo(I.listbox);I._focusButton();c.mobile._bindPageRemove.call(I.thisPage)});I.screen.bind("vclick",function(){I.close()});I.isMultiple&&I.headerClose.click(function(){if(I.menuType=="overlay"){I.close();return false}});I.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var I=this.list.find("li");return this._selectOptions().text()!==I.text()},refresh:function(I){var z=this;this._selectOptions();this.selected();var J=this.selectedIndices();if(I||this._isRebuildRequired())z._buildList();
z.setButtonText();z.setButtonCount();z.list.find("li:not(.ui-li-divider)").removeClass(c.mobile.activeBtnClass).attr("aria-selected",false).each(function(G){if(c.inArray(G,J)>-1){G=c(this);G.attr("aria-selected",true);if(z.isMultiple)G.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on");else G.is(".ui-selectmenu-placeholder")?G.next().addClass(c.mobile.activeBtnClass):G.addClass(c.mobile.activeBtnClass)}})},close:function(){if(!(this.options.disabled||!this.isOpen)){var I=
this;if(I.menuType=="page")a.history.back();else{I.screen.addClass("ui-screen-hidden");I.listbox.addClass("ui-selectmenu-hidden").removeAttr("style").removeClass("in");I.list.appendTo(I.listbox);I._focusButton()}I.isOpen=false}},open:function(){function I(){z.list.find("."+c.mobile.activeBtnClass+" a").focus()}if(!this.options.disabled){var z=this,J=c(a),G=z.list.parent(),U=G.outerHeight();G=G.outerWidth();c(".ui-page-active");var ca=J.scrollTop(),la=z.button.offset().top,A=J.height();J=J.width();
z.button.addClass(c.mobile.activeBtnClass);setTimeout(function(){z.button.removeClass(c.mobile.activeBtnClass)},300);if(U>A-80||!c.support.scrollTop){z.menuPage.appendTo(c.mobile.pageContainer).page();z.menuPageContent=T.find(".ui-content");z.menuPageClose=T.find(".ui-header a");z.thisPage.unbind("pagehide.remove");ca==0&&la>A&&z.thisPage.one("pagehide",function(){c(this).jqmData("lastScroll",la)});z.menuPage.one("pageshow",function(){I();z.isOpen=true});z.menuType="page";z.menuPageContent.append(z.list);
z.menuPage.find("div .ui-title").text(z.label.text());c.mobile.changePage(z.menuPage,{transition:c.mobile.defaultDialogTransition})}else{z.menuType="overlay";z.screen.height(c(h).height()).removeClass("ui-screen-hidden");var M=la-ca,W=ca+A-la,ja=U/2,P=parseFloat(z.list.parent().css("max-width"));U=M>U/2&&W>U/2?la+z.button.outerHeight()/2-ja:M>W?ca+A-U-30:ca+30;if(G<P)ca=(J-G)/2;else{ca=z.button.offset().left+z.button.outerWidth()/2-G/2;if(ca<30)ca=30;else if(ca+G>J)ca=J-G-30}z.listbox.append(z.list).removeClass("ui-selectmenu-hidden").css({top:U,
left:ca}).addClass("in");I();z.isOpen=true}}},_buildList:function(){var I=this,z=this.options,J=this.placeholder,G=true,U=I.isMultiple?"checkbox-off":"false";I.list.empty().filter(".ui-listview").listview("destroy");var ca=I.select.find("option"),la=ca.length,A=this.select[0],M="data-"+c.mobile.ns,W=M+"option-index",ja=M+"icon";M=M+"role";for(var P=h.createDocumentFragment(),oa,ma=0;ma<la;ma++){var e=ca[ma],va=c(e),Da=e.parentNode,Ba=va.text(),wa=h.createElement("a"),Fa=[];wa.setAttribute("href",
"#");wa.appendChild(h.createTextNode(Ba));if(Da!==A&&Da.nodeName.toLowerCase()==="optgroup"){Da=Da.getAttribute("label");if(Da!=oa){oa=h.createElement("li");oa.setAttribute(M,"list-divider");oa.setAttribute("role","option");oa.setAttribute("tabindex","-1");oa.appendChild(h.createTextNode(Da));P.appendChild(oa);oa=Da}}if(G&&(!e.getAttribute("value")||Ba.length==0||va.jqmData("placeholder"))){G=false;z.hidePlaceholderMenuItems&&Fa.push("ui-selectmenu-placeholder");if(!J)J=I.placeholder=Ba}va=h.createElement("li");
if(e.disabled){Fa.push("ui-disabled");va.setAttribute("aria-disabled",true)}va.setAttribute(W,ma);va.setAttribute(ja,U);va.className=Fa.join(" ");va.setAttribute("role","option");wa.setAttribute("tabindex","-1");va.appendChild(wa);P.appendChild(va)}I.list[0].appendChild(P);!this.isMultiple&&!J.length?this.header.hide():this.headerTitle.text(this.placeholder);I.list.listview()},_button:function(){return c("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};
c(h).bind("selectmenubeforecreate",function(k){k=c(k.target).data("selectmenu");k.options.nativeMenu||m(k)})})(jQuery);(function(c){c.widget("mobile.fixedtoolbar",c.mobile.widget,{options:{visibleOnPageShow:true,disablePageZoom:true,transition:"slide",fullscreen:false,tapToggle:true,tapToggleBlacklist:"a, input, select, textarea, .ui-header-fixed, .ui-footer-fixed",hideDuringFocus:"input, textarea, select",updatePagePadding:true,trackPersistentToolbars:true,supportBlacklist:function(){var m=a,k=navigator.userAgent,
p=navigator.platform,n=k.match(/AppleWebKit\/([0-9]+)/);n=!!n&&n[1];var o=k.match(/Fennec\/([0-9]+)/);o=!!o&&o[1];var u=k.match(/Opera Mobi\/([0-9]+)/),v=!!u&&u[1];if((p.indexOf("iPhone")>-1||p.indexOf("iPad")>-1||p.indexOf("iPod")>-1)&&n&&n<534||m.operamini&&{}.toString.call(m.operamini)==="[object OperaMini]"||u&&v<7458||k.indexOf("Android")>-1&&n&&n<533||o&&o<6||"palmGetResource"in a&&n&&n<534||k.indexOf("MeeGo")>-1&&k.indexOf("NokiaBrowser/8.5.0")>-1)return true;return false},initSelector:":jqmData(position='fixed')"},
_create:function(){var m=this,k=m.options,p=m.element,n=p.is(":jqmData(role='header')")?"header":"footer",o=p.closest(".ui-page");if(k.supportBlacklist())m.destroy();else{p.addClass("ui-"+n+"-fixed");if(k.fullscreen){p.addClass("ui-"+n+"-fullscreen");o.addClass("ui-page-"+n+"-fullscreen")}else o.addClass("ui-page-"+n+"-fixed");m._addTransitionClass();m._bindPageEvents();m._bindToggleHandlers()}},_addTransitionClass:function(){var m=this.options.transition;if(m&&m!=="none"){if(m==="slide")m=this.element.is(".ui-header")?
"slidedown":"slideup";this.element.addClass(m)}},_bindPageEvents:function(){var m=this,k=m.options;m.element.closest(".ui-page").bind("pagebeforeshow",function(){k.disablePageZoom&&c.mobile.zoom.disable(true);k.visibleOnPageShow||m.hide(true)}).bind("webkitAnimationStart animationstart updatelayout",function(){k.updatePagePadding&&m.updatePagePadding()}).bind("pageshow",function(){m.updatePagePadding();k.updatePagePadding&&c(a).bind("throttledresize."+m.widgetName,function(){m.updatePagePadding()})}).bind("pagebeforehide",
function(p,n){k.disablePageZoom&&c.mobile.zoom.enable(true);k.updatePagePadding&&c(a).unbind("throttledresize."+m.widgetName);if(k.trackPersistentToolbars){p=c(".ui-footer-fixed:jqmData(id)",this);var o=c(".ui-header-fixed:jqmData(id)",this),u=p.length&&n.nextPage&&c(".ui-footer-fixed:jqmData(id='"+p.jqmData("id")+"')",n.nextPage),v=o.length&&n.nextPage&&c(".ui-header-fixed:jqmData(id='"+o.jqmData("id")+"')",n.nextPage);u=u||c();if(u.length||v.length){u.add(v).appendTo(c.mobile.pageContainer);n.nextPage.one("pageshow",
function(){u.add(v).appendTo(this)})}}})},_visible:true,updatePagePadding:function(){var m=this.element,k=m.is(".ui-header");this.options.fullscreen||m.closest(".ui-page").css("padding-"+(k?"top":"bottom"),m.outerHeight())},_useTransition:function(m){var k=this.element,p=c(a).scrollTop(),n=k.height(),o=k.closest(".ui-page").height(),u=c.mobile.getScreenHeight();k=k.is(":jqmData(role='header')")?"header":"footer";return!m&&(this.options.transition&&this.options.transition!=="none"&&(k==="header"&&
!this.options.fullscreen&&p>n||k==="footer"&&!this.options.fullscreen&&p+u<o-n)||this.options.fullscreen)},show:function(m){var k=this.element;this._useTransition(m)?k.removeClass("out ui-fixed-hidden").addClass("in"):k.removeClass("ui-fixed-hidden");this._visible=true},hide:function(m){var k=this.element,p="out"+(this.options.transition==="slide"?" reverse":"");this._useTransition(m)?k.addClass(p).removeClass("in").animationComplete(function(){k.addClass("ui-fixed-hidden").removeClass(p)}):k.addClass("ui-fixed-hidden").removeClass(p);
this._visible=false},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var m=this,k=m.options;m.element.closest(".ui-page").bind("vclick",function(p){k.tapToggle&&!c(p.target).closest(k.tapToggleBlacklist).length&&m.toggle()}).bind("focusin focusout",function(p){if(screen.width<500&&c(p.target).is(k.hideDuringFocus)&&!c(p.target).closest(".ui-header-fixed, .ui-footer-fixed").length)m[p.type==="focusin"&&m._visible?"hide":"show"]()})},destroy:function(){this.element.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden");
this.element.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}});c(h).bind("pagecreate create",function(m){c(m.target).jqmData("fullscreen")&&c(c.mobile.fixedtoolbar.prototype.options.initSelector,m.target).not(":jqmData(fullscreen)").jqmData("fullscreen",true);c.mobile.fixedtoolbar.prototype.enhanceWithin(m.target)})})(jQuery);(function(c,m){function k(C){n=C.originalEvent;F=n.accelerationIncludingGravity;o=Math.abs(F.x);
u=Math.abs(F.y);v=Math.abs(F.z);if(!m.orientation&&(o>7||(v>6&&u<8||v<8&&u>6)&&o>5))p.enabled&&p.disable();else p.enabled||p.enable()}if(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1){var p=c.mobile.zoom,n,o,u,v,F;c(m).bind("orientationchange.iosorientationfix",p.enable).bind("devicemotion.iosorientationfix",k)}})(jQuery,this);(function(c,m){function k(){var F=c("."+c.mobile.activeBtnClass).first();v.css({top:c.support.scrollTop&&u.scrollTop()+u.height()/
2||F.length&&F.offset().top||100})}function p(){var F=v.offset(),C=u.scrollTop(),s=c.mobile.getScreenHeight();if(F.top<C||F.top-C>s){v.addClass("ui-loader-fakefix");k();u.unbind("scroll",p).bind("scroll",k)}}function n(){o.removeClass("ui-mobile-rendering")}var o=c("html");c("head");var u=c(m);c(m.document).trigger("mobileinit");if(c.mobile.gradeA()){if(c.mobile.ajaxBlacklist)c.mobile.ajaxEnabled=false;o.addClass("ui-mobile ui-mobile-rendering");setTimeout(n,5E3);var v=c("<div class='ui-loader'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>");
c.extend(c.mobile,{showPageLoadingMsg:function(F,C,s){o.addClass("ui-loading");if(c.mobile.loadingMessage){var T=s||c.mobile.loadingMessageTextVisible;F=F||c.mobile.loadingMessageTheme;v.attr("class","ui-loader ui-corner-all ui-body-"+(F||"a")+" ui-loader-"+(T?"verbose":"default")+(s?" ui-loader-textonly":"")).find("h1").text(C||c.mobile.loadingMessage).end().appendTo(c.mobile.pageContainer);p();u.bind("scroll",p)}},hidePageLoadingMsg:function(){o.removeClass("ui-loading");c.mobile.loadingMessage&&
v.removeClass("ui-loader-fakefix");c(m).unbind("scroll",k);c(m).unbind("scroll",p)},initializePage:function(){var F=c(":jqmData(role='page'), :jqmData(role='dialog')");F.length||(F=c("body").wrapInner("<div data-"+c.mobile.ns+"role='page'></div>").children(0));F.each(function(){var C=c(this);C.jqmData("url")||C.attr("data-"+c.mobile.ns+"url",C.attr("id")||location.pathname+location.search)});c.mobile.firstPage=F.first();c.mobile.pageContainer=F.first().parent().addClass("ui-mobile-viewport");u.trigger("pagecontainercreate");
c.mobile.showPageLoadingMsg();n();!c.mobile.hashListeningEnabled||!c.mobile.path.stripHash(location.hash)?c.mobile.changePage(c.mobile.firstPage,{transition:"none",reverse:true,changeHash:false,fromHashChange:true}):u.trigger("hashchange",[true])}});c.mobile._registerInternalEvents();c(function(){m.scrollTo(0,1);c.mobile.defaultHomeScroll=!c.support.scrollTop||c(m).scrollTop()===1?0:1;c.fn.controlgroup&&c(h).bind("pagecreate create",function(F){c(":jqmData(role='controlgroup')",F.target).jqmEnhanceable().controlgroup({excludeInvisible:false})});
c.mobile.autoInitializePage&&c.mobile.initializePage();u.load(c.mobile.silentScroll)})}})(jQuery,this)});steal.loaded("risk/lib/jQueryMobile/jquery.mobile-1.1.0.js");
steal("jquery/model",function(){$.Model("Risk.Models.WebSqlModel",{create:function(f,a,h){this.checkTableName(h);var c="INSERT into "+this.tableName+" (",m="",k=[],p=$.grep(Object.keys(f),function(n){return n!="id"&&n!="insertId"&&n!="rows"&&n!="rowsAffected"});$.each(p,function(n,o){c+=o;if(n<p.length-1)c+=", ";if(f[o]instanceof Date)f[o]=f[o].getTime();k.push(f[o]);m+="?";if(n<p.length-1)m+=", "});c+=") VALUES("+m+")";return localStorageDB.executeSql(c,k,a,h)},update:function(f,a,h,c){this.checkTableName(c);
var m="UPDATE "+this.tableName+" SET ",k=$.grep(Object.keys(a),function(n){return n!="id"&&n!="insertId"&&n!="rows"&&n!="rowsAffected"}),p=[];$.each(k,function(n,o){m+=o+" = ?";if(n<k.length-1)m+=", ";if(a[o]instanceof Date)a[o]=a[o].getTime();p.push(a[o])});m+=" WHERE id="+f;return localStorageDB.executeSql(m,p,h,c)},destroy:function(f,a,h){this.checkTableName(h);return localStorageDB.executeSql("DELETE FROM "+this.tableName+" WHERE id="+f,a,h)},checkTableName:function(f){this.tableName.length<1&&
f("no table name set")},tableName:""},{})});steal.loaded("risk/models/websqlmodel.js");
steal("jquery/class","jquery/lang/string",function(){var f=$.String,a=f.getObject,h=f.underscore,c=f.classize,m=$.isArray,k=$.makeArray,p=$.extend,n=$.each,o=function(t,y,L){$.event.trigger(y,L,t,true)},u=function(t,y,L,I,z,J,G){if(typeof t=="string"){var U=t.indexOf(" ");t=U>-1?{url:t.substr(U+1),type:t.substr(0,U)}:{url:t}}t.data=typeof y=="object"&&!m(y)?p(t.data||{},y):y;t.url=f.sub(t.url,t.data,true);return $.ajax(p({type:J||"post",dataType:G||"json",fixture:z,success:L,error:I},t))},v=function(t,
y,L){var I=h(t.shortName),z="-"+I+(y||"");return $.fixture&&$.fixture[z]?z:L||"//"+h(t.fullName).replace(/\.models\..*/,"").replace(/\./g,"/")+"/fixtures/"+I+(y||"")+".json"},F=function(t,y,L){y=y||{};t=t.id;if(y[t]&&y[t]!==L){y["new"+f.capitalize(L)]=y[t];delete y[t]}y[t]=L;return y},C=function(t){return new (t||$.Model.List||Array)},s=function(t){return t[t.constructor.id]},T=function(t){var y=[];n(t,function(L,I){if(!I["__u Nique"]){y.push(I);I["__u Nique"]=1}});return n(y,function(L,I){delete I["__u Nique"]})},
H=function(t,y,L,I,z){var J=$.Deferred(),G=[t.serialize(),function(A){t[z||y+"d"](A);J.resolveWith(t,[t,A,y])},function(A){J.rejectWith(t,[A])}],U=t.constructor,ca,la=J.promise();y=="destroy"&&G.shift();y!=="create"&&G.unshift(s(t));J.then(L);J.fail(I);if((ca=U[y].apply(U,G))&&ca.abort)la.abort=function(){ca.abort()};return la},R=function(t){return typeof t==="object"&&t!==null&&t},Q=function(t){return function(){return $.fn[t].apply($([this]),arguments)}},K=Q("bind");Q=Q("unbind");ajaxMethods={create:function(t){return function(y,
L,I){return u(t||this._shortName,y,L,I,v(this,"Create","-restCreate"))}},update:function(t){return function(y,L,I,z){return u(t||this._shortName+"/{"+this.id+"}",F(this,L,y),I,z,v(this,"Update","-restUpdate"),"put")}},destroy:function(t){return function(y,L,I){var z={};z[this.id]=y;return u(t||this._shortName+"/{"+this.id+"}",z,L,I,v(this,"Destroy","-restDestroy"),"delete")}},findAll:function(t){return function(y,L,I){return u(t||this._shortName,y,L,I,v(this,"s"),"get","json "+this._shortName+".models")}},
findOne:function(t){return function(y,L,I){return u(t||this._shortName+"/{"+this.id+"}",y,L,I,v(this),"get","json "+this._shortName+".model")}}};jQuery.Class("jQuery.Model",{setup:function(t){var y=this,L=this.fullName;n(["attributes","validations"],function(z,J){if(!y[J]||t[J]===y[J])y[J]={}});n(["convert","serialize"],function(z,J){if(t[J]!=y[J])y[J]=p({},t[J],y[J])});this._fullName=h(L.replace(/\./g,"_"));this._shortName=h(this.shortName);if(L.indexOf("jQuery")!=0){if(this.listType)this.list=new this.listType([]);
n(ajaxMethods,function(z,J){var G=y[z];if(typeof G!=="function")y[z]=J(G)});L={};var I="* "+this._shortName+".model";L[I+"s"]=this.proxy("models");L[I]=this.proxy("model");$.ajaxSetup({converters:L})}},attributes:{},model:function(t){if(!t)return null;if(t instanceof this)t=t.serialize();return new this(R(t[this._shortName])||R(t.data)||R(t.attributes)||t)},models:function(t){if(!t)return null;var y=C(this.List),L=m(t),I=$.Model.List;I=I&&t instanceof I;for(var z=(I=L?t:I?t.serialize():t.data)?I.length:
null,J=0;J<z;J++)y.push(this.model(I[J]));L||n(t,function(G,U){if(G!=="data")y[G]=U});return y},id:"id",addAttr:function(t,y){var L=this.attributes;L[t]||(L[t]=y);return y},convert:{date:function(t){var y=typeof t;return y==="string"?isNaN(Date.parse(t))?null:Date.parse(t):y==="number"?new Date(t):t},number:function(t){return parseFloat(t)},"boolean":function(t){return Boolean(t==="false"?0:t)},"default":function(t,y,L){y=a(L);var I=window;if(L.indexOf(".")>=0){L=L.substring(0,L.lastIndexOf("."));
I=a(L)}return typeof y=="function"?y.call(I,t):t}},serialize:{"default":function(t){return R(t)&&t.serialize?t.serialize():t},date:function(t){return t&&t.getTime()}},bind:K,unbind:Q,_ajax:u},{setup:function(t){this._init=true;this.attrs(p({},this.constructor.defaults,t));delete this._init},update:function(t,y,L){this.attrs(t);return this.save(y,L)},errors:function(t){if(t)t=m(t)?t:k(arguments);var y={},L=this,I=function(J,G){n(G,function(U,ca){if(U=ca.call(L)){y[J]||(y[J]=[]);y[J].push(U)}})},z=
this.constructor.validations;n(t||z||{},function(J,G){if(typeof J=="number"){J=G;G=z[J]}I(J,G||[])});return $.isEmptyObject(y)?null:y},attr:function(t,y,L,I){var z=c(t),J="get"+z;if(y!==undefined){z="set"+z;J=this[t];var G=this,U=function(ca){I&&I.call(G,ca);o(G,"error."+t,ca)};if(this[z]&&(y=this[z](y,this.proxy("_updateProperty",t,y,J,L,U),U))===undefined)return;this._updateProperty(t,y,J,L,U);return this}return this[J]?this[J]():this[t]},bind:K,unbind:Q,_updateProperty:function(t,y,L,I,z){var J=
this.constructor,G=J.attributes[t]||J.addAttr(t,"string"),U=J.convert[G]||J.convert["default"],ca=null,la="",A="updated.";I=I;var M=J.list;y=this[t]=y===null?null:U.call(J,y,function(){},G);this._init||(ca=this.errors(t));G=[y];U=[t,y,L];if(ca){la=A="error.";I=z;U.splice(1,0,ca);G.unshift(ca)}if(L!==y&&!this._init){!ca&&o(this,la+t,G);o(this,A+"attr",U)}I&&I.apply(this,G);if(t===J.id&&y!==null&&M)if(L){if(L!=y){M.remove(L);M.push(this)}}else M.push(this)},removeAttr:function(t){var y=this[t],L=false,
I=this.constructor.attributes;this[t]&&delete this[t];if(I[t]){delete I[t];L=true}!this._init&&L&&y&&o(this,"updated.attr",[t,null,y])},attrs:function(t){var y,L=this.constructor,I=L.attributes;if(t){L=L.id;for(y in t)y!=L&&this.attr(y,t[y]);L in t&&this.attr(L,t[L])}else{t={};for(y in I)if(I.hasOwnProperty(y))t[y]=this.attr(y)}return t},serialize:function(){var t=this.constructor,y=t.attributes,L,I,z={},J;attributes={};for(J in y)if(y.hasOwnProperty(J)){L=y[J];I=t.serialize[L]||t.serialize["default"];
z[J]=I.call(t,this[J],L)}return z},isNew:function(){var t=s(this);return t===undefined||t===null||t===""},save:function(t,y){return H(this,this.isNew()?"create":"update",t,y)},destroy:function(t,y){return H(this,"destroy",t,y,"destroyed")},identity:function(){var t=s(this),y=this.constructor;return(y._fullName+"_"+(y.escapeIdentity?encodeURIComponent(t):t)).replace(/ /g,"_")},elements:function(t){var y=this.identity();if(this.constructor.escapeIdentity)y=y.replace(/([ #;&,.+*~\'%:"!^$[\]()=>|\/])/g,
"\\$1");return $("."+y,t)},hookup:function(t){var y=this.constructor._shortName,L=$.data(t,"models")||$.data(t,"models",{});$(t).addClass(y+" "+this.identity());L[y]=this}});n(["created","updated","destroyed"],function(t,y){$.Model.prototype[y]=function(L){var I=this.constructor;y==="destroyed"&&I.list&&I.list.remove(s(this));L&&typeof L=="object"&&this.attrs(L.attrs?L.attrs():L);o(this,y);o(I,y,this);return[this].concat(k(arguments))}});$.fn.models=function(){var t=[],y,L;this.each(function(){n($.data(this,
"models")||{},function(I,z){y=y===undefined?z.constructor.List||null:z.constructor.List===y?y:null;t.push(z)})});L=C(y);L.push.apply(L,T(t));return L};$.fn.model=function(t){if(t&&t instanceof $.Model){t.hookup(this[0]);return this}else return this.models.apply(this,arguments)[0]}});steal.loaded("jquery/model/model.js");
steal("jquery","jquery/lang/string",function(f){var a=false,h=f.makeArray,c=f.isFunction,m=f.isArray,k=f.extend,p=f.String.getObject,n=function(v,F){return v.concat(h(F))},o=/xyz/.test(function(){})?/\b_super\b/:/.*/,u=function(v,F,C){C=C||v;for(var s in v)C[s]=c(v[s])&&c(F[s])&&o.test(v[s])?function(T,H){return function(){var R=this._super,Q;this._super=F[T];Q=H.apply(this,arguments);this._super=R;return Q}}(s,v[s]):v[s]};clss=f.Class=function(){arguments.length&&clss.extend.apply(clss,arguments)};
k(clss,{proxy:function(v){var F=h(arguments),C;v=F.shift();m(v)||(v=[v]);C=this;return function(){for(var s=n(F,arguments),T,H=v.length,R=0,Q;R<H;R++)if(Q=v[R]){if((T=typeof Q=="string")&&C._set_called)C.called=Q;s=(T?C[Q]:Q).apply(C,s||[]);if(R<H-1)s=!m(s)||s._use_call?[s]:s}return s}},newInstance:function(){var v=this.rawInstance(),F;if(v.setup)F=v.setup.apply(v,arguments);if(v.init)v.init.apply(v,m(F)?F:arguments);return v},setup:function(v){this.defaults=k(true,{},v.defaults,this.defaults);return arguments},
rawInstance:function(){a=true;var v=new this;a=false;return v},extend:function(v,F,C){function s(){if(!a)return this.constructor!==s&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.Class.newInstance.apply(this.Class,arguments)}if(typeof v!="string"){C=F;F=v;v=null}if(!C){C=F;F=null}C=C||{};var T=this,H=this.prototype,R,Q,K,t;a=true;t=new this;a=false;u(C,H,t);for(R in this)if(this.hasOwnProperty(R))s[R]=this[R];u(F,this,s);if(v){K=v.split(/\./);Q=K.pop();K=H=p(K.join("."),
window,true);H[Q]=s}k(s,{prototype:t,namespace:K,shortName:Q,constructor:s,fullName:v});s.prototype.Class=s.prototype.constructor=s;Q=s.setup.apply(s,n([T],arguments));if(s.init)s.init.apply(s,Q||n([T],arguments));return s}});clss.callback=clss.prototype.callback=clss.prototype.proxy=clss.proxy})();steal.loaded("jquery/class/class.js");
var localStorageDB=function(){function f(C){F=C;try{if(window.openDatabase){v=k();o()}}catch(s){}}function a(){var C=["sqlite_sequence","Hazards","Whos","Hows","Assessments","Tasks","AssessmentControls","AssessmentExistingControls","Controls"];$.each(C,function(s){v.transaction(function(T){T.executeSql("DROP TABLE "+C[s])})})}function h(C,s,T,H){v=k();var R=$.Deferred();v.transaction(function(Q){Q.executeSql(C,s,function(K,t){K=0;try{K=t.insertId}catch(y){}t&&K>0?R.resolve(t.insertId):R.resolve()},
function(K,t){n(t,C);R.reject(t)})});T&&R.then(T);H&&R.fail(H);return R.promise()}function c(C,s,T,H){v=k();var R=$.Deferred();v.transaction(function(Q){Q.executeSql(C,[],function(K,t){s&&s.models?R.resolve(s.models(p(t.rows))):R.resolve(p(t.rows))},function(K,t){n(t,C);R.reject(t)})});T&&R.then(T);H&&R.fail(H);return R.promise()}function m(C,s,T,H){v=k();var R=$.Deferred();v.transaction(function(Q){Q.executeSql(C,[],function(K,t){if(t.rows.length>0)s&&s.model?R.resolve(s.model(t.rows.item(0))):R.resolve(t.rows.item(0));
else R.resolve()},function(K,t){n(t,C);R.reject(t)})});T&&R.then(T);H&&R.fail(H);return R.promise()}function k(){return openDatabase("eriskliteDB","1.0","Risk Assessment App",2E5)}function p(C){var s=[];$.each(C,function(T){s.push(C.item(T))});return s}function n(){}function o(){u("Tasks",function(C){C.executeSql("CREATE TABLE IF NOT EXISTS Tasks (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, Name, Site, Sent BIT, DateStarted INTEGER, DateFinished INTEGER, AssessorName, AssessorEmail, ManagerEmail)")});
u("Assessments",function(C){C.executeSql("CREATE TABLE IF NOT EXISTS Assessments (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, TaskId INTEGER, HazardId INTEGER, Likelihood INTEGER, Severity INTEGER, LikelihoodB INTEGER, SeverityB INTEGER, HowId INTEGER, WhoId INTEGER, FurtherDetails)")});u("AssessmentControls",function(C){C.executeSql("CREATE TABLE IF NOT EXISTS AssessmentControls (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, AssessmentId INTEGER, ControlId INTEGER)")});u("AssessmentExistingControls",
function(C){C.executeSql("CREATE TABLE IF NOT EXISTS AssessmentExistingControls (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, AssessmentId INTEGER, ExistingControlId INTEGER)")});u("Whos",function(C){C.executeSql("CREATE TABLE IF NOT EXISTS Whos (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, Name)",[],function(s){s.executeSql('INSERT INTO Whos (Name) VALUES ("All")');s.executeSql('INSERT INTO Whos (Name) VALUES ("Working Party")');s.executeSql('INSERT INTO Whos (Name) VALUES ("Others affected by hazard")');
s.executeSql('INSERT INTO Whos (Name) VALUES ("Lone worker")')})});u("Hazards",function(C){C.executeSql("CREATE TABLE IF NOT EXISTS Hazards (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, Name)",[],function(s){s.executeSql('INSERT INTO Hazards (Name) VALUES ("Slip/Trip/Fall")');s.executeSql('INSERT INTO Hazards (Name) VALUES ("Falling Object")');s.executeSql('INSERT INTO Hazards (Name) VALUES ("Flying Object (ejected)")');s.executeSql('INSERT INTO Hazards (Name) VALUES ("Moving Machinery")');s.executeSql('INSERT INTO Hazards (Name) VALUES ("Sharp Edge")');
s.executeSql('INSERT INTO Hazards (Name) VALUES ("Hot Surface")')})});u("Hows",function(C){C.executeSql("CREATE TABLE IF NOT EXISTS Hows (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, Name, HazardId)",[],function(s){s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Changes in floor levels",1)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Falling into any opening",1)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Poorly maintained floor surfaces",1)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Slipping in icy conditions",1)');
s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Slipping on liquids",1)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Slipping on other materials",1)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Slipping on stairs",1)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Slipping on wet floor",1)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Tripping on stairs",1)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Tipping over debris on walkways",1)');
s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Tripping over fixed installations",1)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Tripping over floor plates",1)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Tripping over grating",1)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Tripping over maintenance debris",1)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Tripping over pipework",1)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Tripping over removed items of plant",1)');
s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Tripping over tools",1)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Tripping over trailing hoses",1)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Tripping over trailing leads",1)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Dropping of items of equipment being removed",2)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Falling objects creating additional hazards",2)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Objects falling from above Working Party",2)');
s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Objects falling on personnel on lower levels",2)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Dust or debris blown into eyes",3)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Dust or debris blown into respiratory system",3)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Ejected objects striking body",3)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Objects discharged by stored energy",3)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Amputation",4)');
s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Compressed air",4)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Crushing",4)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Cutting",4)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Drawing in",4)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Ejection",4)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Entanglement",4)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Fluid injection",4)');
s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Friction and abrasion",4)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Impact",4)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Shear",4)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Stabbing and puncture",4)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Stored energy",4)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Trapping",4)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Cladding",5)');
s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Handheld knives",5)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Plant components",5)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Raised edge on equipment/fixings",5)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Tools and equipment",5)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Unprotected edges",5)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Burn during Hot Works",6)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Burn from contact with pipework",6)');
s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Burn from contact with plant installation",6)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Burn from hot materials",6)');s.executeSql('INSERT INTO Hows (Name,HazardId) VALUES ("Burn or scald from hot liquid",6)')})});u("Controls",function(C){C.executeSql("CREATE TABLE IF NOT EXISTS Controls (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, Name, HazardId)",[],function(s){s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Medium Risk - Ensure existing controls are maintained and monitored",1)');
s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Clean floor before work commences",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Clean work area before work commences",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Defined routes",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Demarcation of work area",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Designated storage/laydown areas",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Equipment and materials safely secured",1)');
s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Gritting in icy conditions",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Hose and cable management",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Install portable lighting",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Anti-slip paint on stairs",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Openings barriered off",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("PPE - Safety footwear to be worn (Standard BS EN 345, steel toe cap to 200 joule, heat resistant sole to 200C)",1)');
s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("PPE - Safety shoes to be worn (Standard BS EN 345, steel toe cap to 200 joule, heat resistant sole to 200C)",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("PPE - Safety boots issued (Standard BS EN 345, steel toe cap to 200 joule, heat resistant sole to 200C)",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("PPE - Safety wellingtons to be worn (Standard BS EN 345, steel toe cap to 200 joule, oil and penetration resistant sole)",1)');
s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Removal of redundant equipment",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Restricted handling of material on stairs",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Routine inspection and cleaning",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Routine inspection and maintenance",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Specific hazard marking",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Suitable lighting in work area",1)');
s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Tolerable Risk - No further controls required",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Tools and materials safely stored in containers",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Use of drip trays in work area",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Warning signage in place",1)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Medium Risk - Ensure existing controls are maintained and monitored",2)');
s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Close gap after items of plant are removed",2)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Close gap after lagging and cladding removal",2)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Demarcation of work area",2)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Equipment and materials safely secured",2)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Lifting plan in place",2)');
s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Maintenance of access routes",2)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Areas below openings barriered off",2)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Netting",2)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Openings barriered off",2)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("PPE - Safety helmet to be worn (Standard BS EN 397)",2)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Medium Risk - Ensure existing controls are maintained and monitored",3)');
s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Controlled release of stored energy",3)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Dust in work area cleared",3)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Emergency eye wash bottles to be carried",3)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Plant washed down to control the build up of dust and debris",3)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("PPE - Eye protection to be worn (Standard BS EN 166)",3)');
s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("PPE - Safety glasses to be worn (Standard BS EN 166, 1F grade)",3)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("PPE - Safety goggles to be worn (Standard BS EN 166, 1B grade)",3)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("PPE - Safety visor to be worn (Standard BS EN 166, 1B grade)",3)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Robustness of guarding confirmed",3)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Routine inspection and maintenance",3)');
s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Tolerable Risk - No further controls required",3)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Medium Risk - Ensure existing controls are maintained and monitored",4)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Free rapping rods mechanism before inspection",4)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Guards in place and effective",4)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Isolation of machinery",4)');
s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Controlled release of stored energy",4)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Springs to be fully discharged before starting task",4)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Use of sprag",4)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Warning signage in place",4)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Tolerable Risk - No further controls required",4)');
s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Medium Risk - Ensure existing controls are maintained and monitored",5)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Equipment and materials safely secured",5)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Deburr edges before work commences",5)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("PPE - Hand protection to be worn (Standard BS EN 388)",5)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("PPE - Mechanical protection gloves to be worn (Standard BS EN 388, mechanical protection to at least 3,3,3,3)",5)');
s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Protect edges",5)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Use of enclosed moving edge blade",5)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Tolerable Risk - No further controls required",5)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Medium Risk - Ensure existing controls are maintained and monitored",6)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Demarcation of work area",6)');
s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Maintenance of lagging and cladding",6)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Warning signage in place",6)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("PPE - Hand protection to be worn (Standard BS EN 407)",6)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("PPE - Thermal hazard gloves to be worn (Standard BS EN 407, thermal protection to at least 4,3,4,2,1,1)",6)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("PPE - Welding gauntlets to be worn (Standard BS EN 407, thermal protection to at least 3,1,2,1,3,1.  Standard BS EN 388, mechanical protection to at least 3,1,3,3)",6)');
s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Screens/blankets",6)');s.executeSql('INSERT INTO Controls (Name,HazardId) VALUES ("Tolerable Risk - No further controls required",6)')})})}function u(C,s){v&&v.transaction(function(T){T.executeSql('select DISTINCT tbl_name from sqlite_master where tbl_name = "'+C+'"',[],function(H,R){R.rows.length||s(H)})})}var v=null,F=null;return{init:f,getRows:c,getSingleRow:m,executeSql:h,dropTables:a}}();steal.loaded("risk/lib/WebSQL/db.js");steal("jquery/model");
steal.loaded("risk/models/models.js");
steal("./index_controller.js","./taskadd_controller.js","./taskedit_controller.js","./hazards_controller.js","./whos_controller.js","./myassessments_controller.js","./delete_controller.js","./deletetask_controller.js","./controls_controller.js","./details_controller.js","./inprogress_controller.js","./newhazard_controller.js","./deletehazard_controller.js","./emailreport_controller.js","./completed_controller.js","./mycompletedassessments_controller.js","./completeddetails_controller.js","./deletecompletedtask_controller.js",
"./addhow_controller.js","./addcontrol_controller.js","./addfurthercontrol_controller.js");steal.loaded("risk/controllers/controllers.js");
(function(f){f.extend(f.fn,{validate:function(a){if(this.length){var h=f.data(this[0],"validator");if(h)return h;this.attr("novalidate","novalidate");h=new f.validator(a,this[0]);f.data(this[0],"validator",h);if(h.settings.onsubmit){a=this.find("input, button");a.filter(".cancel").click(function(){h.cancelSubmit=true});h.settings.submitHandler&&a.filter(":submit").click(function(){h.submitButton=this});this.submit(function(c){function m(){if(h.settings.submitHandler){if(h.submitButton)var k=f("<input type='hidden'/>").attr("name",
h.submitButton.name).val(h.submitButton.value).appendTo(h.currentForm);h.settings.submitHandler.call(h,h.currentForm);h.submitButton&&k.remove();return false}return true}h.settings.debug&&c.preventDefault();if(h.cancelSubmit){h.cancelSubmit=false;return m()}if(h.form()){if(h.pendingRequest){h.formSubmitted=true;return false}return m()}else{h.focusInvalid();return false}})}return h}else a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(f(this[0]).is("form"))return this.validate().form();
else{var a=true,h=f(this[0].form).validate();this.each(function(){a&=h.element(this)});return a}},removeAttrs:function(a){var h={},c=this;f.each(a.split(/\s/),function(m,k){h[k]=c.attr(k);c.removeAttr(k)});return h},rules:function(a,h){var c=this[0];if(a){var m=f.data(c.form,"validator").settings,k=m.rules,p=f.validator.staticRules(c);switch(a){case "add":f.extend(p,f.validator.normalizeRule(h));k[c.name]=p;if(h.messages)m.messages[c.name]=f.extend(m.messages[c.name],h.messages);break;case "remove":if(!h){delete k[c.name];
return p}var n={};f.each(h.split(/\s/),function(o,u){n[u]=p[u];delete p[u]});return n}}a=f.validator.normalizeRules(f.extend({},f.validator.metadataRules(c),f.validator.classRules(c),f.validator.attributeRules(c),f.validator.staticRules(c)),c);if(a.required){h=a.required;delete a.required;a=f.extend({required:h},a)}return a}});f.extend(f.expr[":"],{blank:function(a){return!f.trim(""+a.value)},filled:function(a){return!!f.trim(""+a.value)},unchecked:function(a){return!a.checked}});f.validator=function(a,
h){this.settings=f.extend(true,{},f.validator.defaults,a);this.currentForm=h;this.init()};f.validator.format=function(a,h){if(arguments.length==1)return function(){var c=f.makeArray(arguments);c.unshift(a);return f.validator.format.apply(this,c)};if(arguments.length>2&&h.constructor!=Array)h=f.makeArray(arguments).slice(1);if(h.constructor!=Array)h=[h];f.each(h,function(c,m){a=a.replace(new RegExp("\\{"+c+"\\}","g"),m)});return a};f.extend(f.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",
validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:f([]),errorLabelContainer:f([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(a)).hide()}},onfocusout:function(a){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a)))this.element(a)},
onkeyup:function(a){if(a.name in this.submitted||a==this.lastElement)this.element(a)},onclick:function(a){if(a.name in this.submitted)this.element(a);else a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,h,c){a.type==="radio"?this.findByName(a.name).addClass(h).removeClass(c):f(a).addClass(h).removeClass(c)},unhighlight:function(a,h,c){a.type==="radio"?this.findByName(a.name).removeClass(h).addClass(c):f(a).removeClass(h).addClass(c)}},setDefaults:function(a){f.extend(f.validator.defaults,
a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:f.validator.format("Please enter no more than {0} characters."),
minlength:f.validator.format("Please enter at least {0} characters."),rangelength:f.validator.format("Please enter a value between {0} and {1} characters long."),range:f.validator.format("Please enter a value between {0} and {1}."),max:f.validator.format("Please enter a value less than or equal to {0}."),min:f.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function a(m){var k=f.data(this[0].form,"validator"),p="on"+m.type.replace(/^validate/,
"");k.settings[p]&&k.settings[p].call(k,this[0],m)}this.labelContainer=f(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||f(this.currentForm);this.containers=f(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var h=this.groups={};f.each(this.settings.groups,function(m,k){f.each(k.split(/\s/),function(p,n){h[n]=m})});var c=
this.settings.rules;f.each(c,function(m,k){c[m]=f.validator.normalizeRule(k)});f(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",a).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",
a);this.settings.invalidHandler&&f(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();f.extend(this.submitted,this.errorMap);this.invalid=f.extend({},this.errorMap);this.valid()||f(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,h=this.currentElements=this.elements();h[a];a++)this.check(h[a]);return this.valid()},element:function(a){this.lastElement=
a=this.validationTargetFor(this.clean(a));this.prepareElement(a);this.currentElements=f(a);var h=this.check(a);if(h)delete this.invalid[a.name];else this.invalid[a.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return h},showErrors:function(a){if(a){f.extend(this.errorMap,a);this.errorList=[];for(var h in a)this.errorList.push({message:a[h],element:this.findByName(h)[0]});this.successList=f.grep(this.successList,function(c){return!(c.name in a)})}this.settings.showErrors?
this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){f.fn.resetForm&&f(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var h=0;for(var c in a)h++;return h},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==
0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{f(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var a=this.lastActive;return a&&f.grep(this.errorList,function(h){return h.element.name==a.name}).length==1&&a},elements:function(){var a=this,h={};return f(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&
a.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in h||!a.objectLength(f(this).rules()))return false;return h[this.name]=true})},clean:function(a){return f(a)[0]},errors:function(){return f(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=f([]);this.toHide=f([]);this.currentElements=f([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},
prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.validationTargetFor(this.clean(a));var h=f(a).rules(),c=false;for(var m in h){var k={method:m,parameters:h[m]};try{var p=f.validator.methods[m].call(this,a.value.replace(/\r/g,""),a,k.parameters);if(p=="dependency-mismatch")c=true;else{c=false;if(p=="pending"){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!p){this.formatAndAdd(a,k);return false}}}catch(n){this.settings.debug&&window.console&&
console.log("exception occured when checking element "+a.id+", check the '"+k.method+"' method",n);throw n;}}if(!c){this.objectLength(h)&&this.successList.push(a);return true}},customMetaMessage:function(a,h){if(f.metadata)return(a=this.settings.meta?f(a).metadata()[this.settings.meta]:f(a).metadata())&&a.messages&&a.messages[h]},customMessage:function(a,h){return(a=this.settings.messages[a])&&(a.constructor==String?a:a[h])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==
undefined)return arguments[a]},defaultMessage:function(a,h){return this.findDefined(this.customMessage(a.name,h),this.customMetaMessage(a,h),!this.settings.ignoreTitle&&a.title||undefined,f.validator.messages[h],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(a,h){var c=this.defaultMessage(a,h.method),m=/\$?\{(\d+)\}/g;if(typeof c=="function")c=c.call(this,h.parameters,a);else if(m.test(c))c=jQuery.format(c.replace(m,"{$1}"),h.parameters);this.errorList.push({message:c,
element:a});this.errorMap[a.name]=c;this.submitted[a.name]=c},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parent(this.settings.wrapper));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var h=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,h.element,this.settings.errorClass,this.settings.validClass);this.showLabel(h.element,h.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(a=
0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight){a=0;for(h=this.validElements();h[a];a++)this.settings.unhighlight.call(this,h[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return f(this.errorList).map(function(){return this.element})},showLabel:function(a,
h){var c=this.errorsFor(a);if(c.length){c.removeClass(this.settings.validClass).addClass(this.settings.errorClass);c.attr("generated")&&c.html(h)}else{c=f("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(a),generated:true}).addClass(this.settings.errorClass).html(h||"");if(this.settings.wrapper)c=c.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(c).length||(this.settings.errorPlacement?this.settings.errorPlacement(c,f(a)):c.insertAfter(a))}if(!h&&
this.settings.success){c.text("");typeof this.settings.success=="string"?c.addClass(this.settings.success):this.settings.success(c)}this.toShow=this.toShow.add(c)},errorsFor:function(a){var h=this.idOrName(a);return this.errors().filter(function(){return f(this).attr("for")==h})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){if(this.checkable(a))a=this.findByName(a.name).not(this.settings.ignore)[0];return a},checkable:function(a){return/radio|checkbox/i.test(a.type)},
findByName:function(a){var h=this.currentForm;return f(document.getElementsByName(a)).map(function(c,m){return m.form==h&&m.name==a&&m||null})},getLength:function(a,h){switch(h.nodeName.toLowerCase()){case "select":return f("option:selected",h).length;case "input":if(this.checkable(h))return this.findByName(h.name).filter(":checked").length}return a.length},depend:function(a,h){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,h):true},dependTypes:{"boolean":function(a){return a},string:function(a,
h){return!!f(a,h.form).length},"function":function(a,h){return a(h)}},optional:function(a){return!f.validator.methods.required.call(this,f.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,h){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[a.name];if(h&&this.pendingRequest==0&&this.formSubmitted&&this.form()){f(this.currentForm).submit();this.formSubmitted=
false}else if(!h&&this.pendingRequest==0&&this.formSubmitted){f(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(a){return f.data(a,"previousValue")||f.data(a,"previousValue",{old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},
creditcard:{creditcard:true}},addClassRules:function(a,h){a.constructor==String?(this.classRuleSettings[a]=h):f.extend(this.classRuleSettings,a)},classRules:function(a){var h={};(a=f(a).attr("class"))&&f.each(a.split(" "),function(){this in f.validator.classRuleSettings&&f.extend(h,f.validator.classRuleSettings[this])});return h},attributeRules:function(a){var h={};a=f(a);for(var c in f.validator.methods){var m;if(m=c==="required"&&typeof f.fn.prop==="function"?a.prop(c):a.attr(c))h[c]=m;else if(a[0].getAttribute("type")===
c)h[c]=true}h.maxlength&&/-1|2147483647|524288/.test(h.maxlength)&&delete h.maxlength;return h},metadataRules:function(a){if(!f.metadata)return{};var h=f.data(a.form,"validator").settings.meta;return h?f(a).metadata()[h]:f(a).metadata()},staticRules:function(a){var h={},c=f.data(a.form,"validator");if(c.settings.rules)h=f.validator.normalizeRule(c.settings.rules[a.name])||{};return h},normalizeRules:function(a,h){f.each(a,function(c,m){if(m===false)delete a[c];else if(m.param||m.depends){var k=true;
switch(typeof m.depends){case "string":k=!!f(m.depends,h.form).length;break;case "function":k=m.depends.call(h,h);break}if(k)a[c]=m.param!==undefined?m.param:true;else delete a[c]}});f.each(a,function(c,m){a[c]=f.isFunction(m)?m(h):m});f.each(["minlength","maxlength","min","max"],function(){if(a[this])a[this]=Number(a[this])});f.each(["rangelength","range"],function(){if(a[this])a[this]=[Number(a[this][0]),Number(a[this][1])]});if(f.validator.autoCreateRanges){if(a.min&&a.max){a.range=[a.min,a.max];
delete a.min;delete a.max}if(a.minlength&&a.maxlength){a.rangelength=[a.minlength,a.maxlength];delete a.minlength;delete a.maxlength}}a.messages&&delete a.messages;return a},normalizeRule:function(a){if(typeof a=="string"){var h={};f.each(a.split(/\s/),function(){h[this]=true});a=h}return a},addMethod:function(a,h,c){f.validator.methods[a]=h;f.validator.messages[a]=c!=undefined?c:f.validator.messages[a];h.length<3&&f.validator.addClassRules(a,f.validator.normalizeRule(a))},methods:{required:function(a,
h,c){if(!this.depend(c,h))return"dependency-mismatch";switch(h.nodeName.toLowerCase()){case "select":return(a=f(h).val())&&a.length>0;case "input":if(this.checkable(h))return this.getLength(a,h)>0;default:return f.trim(a).length>0}},remote:function(a,h,c){if(this.optional(h))return"dependency-mismatch";var m=this.previousValue(h);this.settings.messages[h.name]||(this.settings.messages[h.name]={});m.originalMessage=this.settings.messages[h.name].remote;this.settings.messages[h.name].remote=m.message;
c=typeof c=="string"&&{url:c}||c;if(this.pending[h.name])return"pending";if(m.old===a)return m.valid;m.old=a;var k=this;this.startRequest(h);var p={};p[h.name]=a;f.ajax(f.extend(true,{url:c,mode:"abort",port:"validate"+h.name,dataType:"json",data:p,success:function(n){k.settings.messages[h.name].remote=m.originalMessage;var o=n===true;if(o){var u=k.formSubmitted;k.prepareElement(h);k.formSubmitted=u;k.successList.push(h);k.showErrors()}else{u={};n=n||k.defaultMessage(h,"remote");u[h.name]=m.message=
f.isFunction(n)?n(a):n;k.showErrors(u)}m.valid=o;k.stopRequest(h,o)}},c));return"pending"},minlength:function(a,h,c){return this.optional(h)||this.getLength(f.trim(a),h)>=c},maxlength:function(a,h,c){return this.optional(h)||this.getLength(f.trim(a),h)<=c},rangelength:function(a,h,c){a=this.getLength(f.trim(a),h);return this.optional(h)||a>=c[0]&&a<=c[1]},min:function(a,h,c){return this.optional(h)||a>=c},max:function(a,h,c){return this.optional(h)||a<=c},range:function(a,h,c){return this.optional(h)||
a>=c[0]&&a<=c[1]},email:function(a,h){return this.optional(h)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},
url:function(a,h){return this.optional(h)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
date:function(a,h){return this.optional(h)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,h){return this.optional(h)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,h){return this.optional(h)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,h){return this.optional(h)||/^\d+$/.test(a)},creditcard:function(a,h){if(this.optional(h))return"dependency-mismatch";if(/[^0-9 -]+/.test(a))return false;var c=h=0,m=false;a=a.replace(/\D/g,"");for(var k=a.length-1;k>=
0;k--){c=a.charAt(k);c=parseInt(c,10);if(m)if((c*=2)>9)c-=9;h+=c;m=!m}return h%10==0},accept:function(a,h,c){c=typeof c=="string"?c.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(h)||a.match(new RegExp(".("+c+")$","i"))},equalTo:function(a,h,c){c=f(c).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){f(h).valid()});return a==c.val()}}});f.format=f.validator.format})(jQuery);
(function(f){var a={};if(f.ajaxPrefilter)f.ajaxPrefilter(function(c,m,k){m=c.port;if(c.mode=="abort"){a[m]&&a[m].abort();a[m]=k}});else{var h=f.ajax;f.ajax=function(c){var m=("port"in c?c:f.ajaxSettings).port;if(("mode"in c?c:f.ajaxSettings).mode=="abort"){a[m]&&a[m].abort();return a[m]=h.apply(this,arguments)}return h.apply(this,arguments)}}})(jQuery);
(function(f){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&f.each({focus:"focusin",blur:"focusout"},function(a,h){function c(m){m=f.event.fix(m);m.type=h;return f.event.handle.call(this,m)}f.event.special[h]={setup:function(){this.addEventListener(a,c,true)},teardown:function(){this.removeEventListener(a,c,true)},handler:function(m){arguments[0]=f.event.fix(m);arguments[0].type=h;return f.event.handle.apply(this,arguments)}}});f.extend(f.fn,{validateDelegate:function(a,
h,c){return this.bind(h,function(m){var k=f(m.target);if(k.is(a))return c.apply(k,arguments)})}})})(jQuery);steal.loaded("risk/lib/jQueryValidation/jquery.validate.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../views/index/init.ejs").then(function(f){f.Controller("Risk.Controllers.Index",{},{init:function(){f.mobile.showPageLoadingMsg();localStorage.editAssessmentId="";localStorage.deleteAssessmentId="";localStorage.assessmentId="";localStorage.hazardId="";localStorage.addToExisting="";localStorage.likelihoodRating="";localStorage.severityRating="";localStorage.taskId="";var a=f.View("//risk/views/index/init.ejs");
f("#indexContent").html(a);f("h1").text("eRisk");f.mobile.hidePageLoadingMsg();setTimeout(function(){navigator.splashscreen.hide()},1500)}})});steal.loaded("risk/controllers/index_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/task.js","../lib/WebSQL/db.js","../views/task_add/init.ejs").then(function(f){f.Controller("Risk.Controllers.TaskAdd",{},{init:function(){this.loadData()},loadData:function(){var a=f.View("//risk/views/task_add/init.ejs");f("#NewTaskForm").html(a).trigger("create")},submit:function(a,h){h.preventDefault();if(f("#NewTaskForm").valid()){a=a.formParams();a={Name:a.Name,Site:a.Site,DateStarted:(new Date).getTime(),
DateFinished:"",Sent:0};(new Risk.Models.Task(a)).save(this.callback("onInsertSuccess"),this.callback("onInsertFail"))}return false},onInsertSuccess:function(a,h){localStorage.taskId=h;f.mobile.changePage("hazards.htm","pop",false,true)},onInsertFail:function(){}})});steal.loaded("risk/controllers/taskadd_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/task.js","../lib/WebSQL/db.js","../views/task_edit/init.ejs").then(function(f){f.Controller("Risk.Controllers.TaskEdit",{},{task:null,init:function(){this.loadData()},loadData:function(){var a=Risk.Models.Task.findOne(localStorage.taskId),h=this;f.when(a).done(function(c){h.task=c;c=f.View("//risk/views/task_edit/init.ejs",c);f("#EditTaskForm").html(c).trigger("create")})},submit:function(a,h){h.preventDefault();
h=this;if(f("#EditTaskForm").valid()){a=a.formParams();(new Risk.Models.Task({id:h.task.id,Name:a.Name,Site:a.Site,DateStarted:h.task.DateStarted,DateFinished:"",Sent:0})).save(this.callback("onInsertSuccess"))}return false},onInsertSuccess:function(){localStorage.taskId=this.task.id;f.mobile.changePage("myassessments.htm","pop",false,true)}})});steal.loaded("risk/controllers/taskedit_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/hazards.js","../models/task.js","../lib/WebSQL/db.js","../views/hazards/init.ejs").then(function(f){f.Controller("Risk.Controllers.Hazards",{},{init:function(){this.loadData()},loadData:function(){var a=Risk.Models.Hazards.findAll(),h;f.when(a).done(function(c){h=f.View("//risk/views/hazards/init.ejs",c);f("#HazardsContent").html(h);f("#HazardsList").listview()})},".hazard-item click":function(a){localStorage.hazardId=
f(a).attr("id");f.mobile.changePage("whos.htm")},"#newHazard click":function(){f.mobile.changePage("dialog/newhazard.htm")},".delete click":function(a){a=f(a).attr("id");localStorage.deleteHazardId=a},"#backToTaskAdd click":function(){if(localStorage.addToExisting=="true"){localStorage.addToExisting="";f.mobile.changePage("myassessments.htm",{reverse:true})}else{Risk.Models.Task.deleteOne(localStorage.taskId);f.mobile.changePage("newtask.htm",{reverse:true})}}})});steal.loaded("risk/controllers/hazards_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/hazards.js","../models/whos.js","../models/hows.js","../models/assessmentsB.js","../models/assessmentexistingcontrols.js","../models/controls.js","../lib/WebSQL/db.js","../views/whos/init.ejs").then(function(f){f.Controller("Risk.Controllers.Whos",{},{init:function(){this.loadData()},severity:0,likelihood:0,risk:0,nextStepHref:"",controls:null,loadData:function(){var a=this,h=Risk.Models.Hazards.findOne(localStorage.hazardId),
c=Risk.Models.Whos.findAll(),m=Risk.Models.Hows.findAll(localStorage.hazardId),k=Risk.Models.Controls.findAll(localStorage.hazardId),p;f.when(h,c,m,k).done(function(n,o,u,v){f("#header").text(n.Name);p=f.View("//risk/views/whos/init.ejs",{whos:o,hows:u,existingControls:v});f("#WhosContent").html(p);f("#WhosList").selectmenu();f("#HowsList").selectmenu();f("#ExistingControlsList").selectmenu();f("#SeverityList").selectmenu();f("#LikelihoodList").selectmenu();f("#FurtherDetails").textinput();f("#submit").button();
f("#furtherControls").button();f("#NewHow").button();f("#NewControl").button();f(".hidden").hide();if(localStorage.editAssessmentId){n=Risk.Models.AssessmentExistingControls.findAllById(localStorage.editAssessmentId);o=new Risk.Models.Assessments.findOne(localStorage.editAssessmentId);f.when(o,n).done(function(F,C){var s=[];f(C).each(function(){s.push(this.ExistingControlId.toString())});a.populate(F,s);if(localStorage.tempHowId||localStorage.tempExistingControls)a.repopulate();a.validation()})}else{a.repopulate();
a.validation()}})},populate:function(a,h){f("#WhosList").val(a.WhoId);f("#HowsList").val(a.HowId);f("#FurtherDetails").val(a.FurtherDetails);f("#SeverityList").val(a.Severity);f("#LikelihoodList").val(a.Likelihood);f("#ExistingControlsList").val(h);this.refreshControls()},repopulate:function(){f("#HowsList").val(localStorage.tempHowId);f("#WhosList").val(localStorage.tempWhoId);f("#FurtherDetails").val(localStorage.tempFurtherDetails);f("#SeverityList").val(localStorage.tempSeverity);f("#LikelihoodList").val(localStorage.tempLikelihood);
f("#ExistingControlsList").val(localStorage.tempExistingControls.split(","));this.resetTempLocalStorage();this.refreshControls()},resetTempLocalStorage:function(){localStorage.tempWhoId="";localStorage.tempHowId="";localStorage.tempFurtherDetails="";localStorage.tempSeverity="";localStorage.tempLikelihood="";localStorage.tempExistingControls=""},refreshControls:function(){f("#WhosList").selectmenu("refresh");f("#HowsList").selectmenu("refresh");f("#ExistingControlsList").selectmenu("refresh");f("#SeverityList").selectmenu("refresh");
f("#LikelihoodList").selectmenu("refresh");f("#FurtherDetails").textinput()},"#WhosList change":function(){this.validation()},"#HowsList change":function(){this.validation()},"#NewHow click":function(){this.saveFormState()},"#NewControl click":function(){this.saveFormState()},"#SeverityList change":function(){this.validation()},"#LikelihoodList change":function(){this.validation()},"#ExistingControlsList change":function(){this.validation()},saveFormState:function(){localStorage.tempWhoId=f("#WhosList").val();
localStorage.tempHowId=f("#HowsList").val();localStorage.tempFurtherDetails=f("#FurtherDetails").val();localStorage.tempSeverity=f("#SeverityList").val();localStorage.tempLikelihood=f("#LikelihoodList").val();localStorage.tempExistingControls=f("#ExistingControlsList").val()},passesValidation:function(){if(f("#WhosList").val()!="Choose option"&&f("#HowsList").val()!="Choose option"&&f("#SeverityList").val()!="Choose Rating"&&f("#LikelihoodList").val()!="Choose Rating")return true;return false},calculateScore:function(){this.severity=
f("#SeverityList").val();this.likelihood=f("#LikelihoodList").val();return this.risk=this.severity*this.likelihood},validation:function(){if(this.passesValidation()){f("#WhosPage #submit").button();var a=this.calculateScore();f("#trafficLight div").removeClass("on");if(a<12){a<5?f("#trafficLight #green").addClass("on"):f("#trafficLight #amber").addClass("on");f("#WhosPage #furtherControls").hide();f("#WhosPage #submit").fadeIn()}else{f("#WhosPage #submit").hide();f("#WhosPage #furtherControls").fadeIn();
f("#trafficLight #red").addClass("on")}}},"#submit,#furtherControls click":function(a){this.nextStepHref=a.attr("data-href");this.controls=f.makeArray(f("#ExistingControlsList").val());f.mobile.showPageLoadingMsg();localStorage.severityRating=f("#SeverityList").val();localStorage.likelihoodRating=f("#LikelihoodList").val();if(localStorage.editAssessmentId){a={id:localStorage.editAssessmentId,TaskId:localStorage.taskId,HazardId:localStorage.hazardId,Likelihood:localStorage.likelihoodRating,Severity:localStorage.severityRating,
LikelihoodB:localStorage.likelihoodRating,SeverityB:localStorage.severityRating,HowId:f("#HowsList").val(),WhoId:f("#WhosList").val(),FurtherDetails:f("#FurtherDetails").val()};Risk.Models.AssessmentExistingControls.deleteMany(localStorage.assessmentId)}else a={TaskId:localStorage.taskId,HazardId:localStorage.hazardId,Likelihood:localStorage.likelihoodRating,Severity:localStorage.severityRating,LikelihoodB:localStorage.likelihoodRating,SeverityB:localStorage.severityRating,HowId:f("#HowsList").val(),
WhoId:f("#WhosList").val(),FurtherDetails:f("#FurtherDetails").val()};(new Risk.Models.AssessmentsB(a)).save(this.callback("onInsertSuccess"),this.callback("onInsertFail"))},saveExistingControls:function(){f(this.controls).each(function(){var a={AssessmentId:localStorage.assessmentId,ExistingControlId:this.toString()};(new Risk.Models.AssessmentExistingControls(a)).save()})},onInsertSuccess:function(a,h){localStorage.assessmentId=localStorage.editAssessmentId?a.id:h;this.saveExistingControls();f.mobile.changePage(this.nextStepHref)},
onInsertFail:function(){},"#backToHazards click":function(){if(localStorage.editAssessmentId){localStorage.editAssessmentId="";f.mobile.changePage("myassessments.htm",{reverse:true})}else f.mobile.changePage("hazards.htm",{reverse:true})}})});steal.loaded("risk/controllers/whos_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/task.js","../models/hazards.js","../models/assessments.js","../lib/WebSQL/db.js","../views/myassessments/init.ejs").then(function(f){f.Controller("Risk.Controllers.MyAssessments",{},{init:function(){this.loadData()},loadData:function(){var a=this,h=Risk.Models.Assessments.findAll(localStorage.taskId),c=Risk.Models.Task.findOne(localStorage.taskId),m;f.when(h,c).done(function(k,p){var n=a.getAmberList(k);
k=a.getGreenList(k);m=f.View("//risk/views/myassessments/init.ejs",{ambers:n,greens:k});f("#MyAssessmentsContent").html(m);f("#MyAssessmentsList").listview();f("#divider").text("Risks assessments for task: "+p.Name);f(".task").text("'"+p.Name+"'");f("#MyAssessmentsPage").trigger("create")})},".assessment-item click":function(a){var h=f(a).attr("id");a=Risk.Models.Assessments.findOne(h);f.when(a).done(function(c){localStorage.hazardId=c.HazardId;localStorage.editAssessmentId=h;localStorage.assessmentId=
h;f.mobile.changePage("details.htm")})},".delete click":function(a){a=f(a).attr("id");localStorage.deleteAssessmentId=a},".addToExisting click":function(){localStorage.addToExisting="true";localStorage.editAssessmentId=""},".emailReport click":function(){this.hasInternetConnection()?f.mobile.changePage("emailreport.htm"):f.mobile.changePage("dialog/notconnected.htm")},getAmberList:function(a){for(var h=[],c=0;c<a.length;c++)a[c].LikelihoodB*a[c].SeverityB>4&&h.push(a[c]);return h},getGreenList:function(a){for(var h=
[],c=0;c<a.length;c++)a[c].LikelihoodB*a[c].SeverityB<5&&h.push(a[c]);return h},hasInternetConnection:function(){if(navigator.network){var a=navigator.network.connection.type;return a==Connection.NONE||a==Connection.UNKNOWN?false:true}else return true}})});steal.loaded("risk/controllers/myassessments_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/assessments.js","../models/assessmentcontrols.js","../models/assessmentexistingcontrols.js","../lib/WebSQL/db.js").then(function(f){f.Controller("Risk.Controllers.Delete",{},{init:function(){},".no click":function(){f.mobile.changePage("../myassessments.htm",{transition:"none"})},".yes click":function(){var a=localStorage.deleteAssessmentId,h=Risk.Models.Assessments.deleteOne(a);new Risk.Models.AssessmentControls.deleteMany(a);
new Risk.Models.AssessmentExistingControls.deleteMany(a);f.when(h).done(function(){f.mobile.changePage("../myassessments.htm",{transition:"none"})})}})});steal.loaded("risk/controllers/delete_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/task.js","../models/assessments.js","../models/assessmentcontrols.js","../models/assessmentexistingcontrols.js","../lib/WebSQL/db.js").then(function(f){f.Controller("Risk.Controllers.DeleteTask",{},{init:function(){},".no click":function(){f.mobile.changePage("../inprogress.htm",{transition:"none"})},".yes click":function(){var a=localStorage.deleteTaskId;Risk.Models.Task.deleteOne(a);a=Risk.Models.Assessments.findAllIds(a);
f.when(a).done(function(h){f(h).each(function(){Risk.Models.Assessments.deleteOne(this.id);Risk.Models.AssessmentControls.deleteMany(this.id);Risk.Models.AssessmentExistingControls.deleteMany(this.id)})});f.mobile.changePage("../inprogress.htm",{transition:"none"})}})});steal.loaded("risk/controllers/deletetask_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/controls.js","../models/hazards.js","../models/assessmentcontrols.js","../models/assessments.js","../models/assessmentsB.js","../lib/WebSQL/db.js","../views/controls/init.ejs").then(function(f){f.Controller("Risk.Controllers.Controls",{},{init:function(){this.loadData()},nextStepHref:"",severity:0,likelihood:0,risk:0,loadData:function(){var a=this,h=Risk.Models.Controls.findAll(localStorage.hazardId),
c=Risk.Models.Hazards.findOne(localStorage.hazardId),m;f.when(h,c).done(function(k,p){f("#header").text("Controls for: "+p.Name);m=f.View("//risk/views/controls/init.ejs",{controls:k});f("#ControlsContent").html(m);f("#SeverityList").val(localStorage.severityRating);f("#LikelihoodList").val(localStorage.likelihoodRating);f("#SeverityList").selectmenu();f("#LikelihoodList").selectmenu();f("#ControlsList").selectmenu();f("#button-container").hide();f("#NewControl").button();f("#trafficLight #red").addClass("on");
if(localStorage.editAssessmentId){k=Risk.Models.AssessmentControls.findAllById(localStorage.editAssessmentId);p=Risk.Models.Assessments.findOne(localStorage.editAssessmentId);f.when(p,k).done(function(n,o){var u=[];f(o).each(function(){u.push(this.ControlId.toString())});a.populate(u,n);localStorage.tempFurtherControls&&a.repopulate();a.validation()})}else{a.repopulate();a.validation()}})},repopulate:function(){if(localStorage.tempFurtherControls){f("#SeverityList").val(localStorage.tempSeverity);
f("#LikelihoodList").val(localStorage.tempLikelihood);f("#ControlsList").val(localStorage.tempFurtherControls.split(","));this.resetTempLocalStorage()}this.refreshControls()},populate:function(a,h){f("#ControlsList").val(a);f("#SeverityList").val(h.Severity);f("#LikelihoodList").val(h.Likelihood);this.refreshControls()},resetTempLocalStorage:function(){localStorage.tempSeverity="";localStorage.tempLikelihood="";localStorage.tempFurtherControls=""},refreshControls:function(){f("#ControlsList").selectmenu("refresh");
f("#SeverityList").selectmenu("refresh");f("#LikelihoodList").selectmenu("refresh")},"#NewControl click":function(){this.saveFormState()},"#ControlsList change":function(){this.validation()},"#SeverityList change":function(){this.validation()},"#LikelihoodList change":function(){this.validation()},passesValidation:function(){if(f("#ControlsList").val()!="Choose options"&&f("#ControlsList").val()!=null)return true;return false},calculateScore:function(){this.severity=f("#SeverityList").val();this.likelihood=
f("#LikelihoodList").val();return this.risk=this.severity*this.likelihood},validation:function(){if(this.passesValidation()){var a=this.calculateScore();f("#trafficLight div").removeClass("on");if(a<12){a<5?f("#trafficLight #green").addClass("on"):f("#trafficLight #amber").addClass("on");f("#button-container").show();f("#submit").button()}else{f("#button-container").hide();f("#trafficLight #red").addClass("on")}}},saveFormState:function(){localStorage.tempSeverity=f("#SeverityList").val();localStorage.tempLikelihood=
f("#LikelihoodList").val();localStorage.tempFurtherControls=f("#ControlsList").val()},"#submit click":function(){f.mobile.showPageLoadingMsg();var a=Risk.Models.Assessments.findOne(localStorage.assessmentId);f.when(a).done(function(h){(new Risk.Models.AssessmentsB({id:h.id,TaskId:h.TaskId,WhoId:h.WhoId,HowId:h.HowId,FurtherDetails:h.FurtherDetails,HazardId:h.HazardId,Likelihood:h.Likelihood,Severity:h.Severity,LikelihoodB:f("#LikelihoodList").val(),SeverityB:f("#SeverityList").val()})).save()});a=
Risk.Models.AssessmentControls.deleteMany(localStorage.assessmentId);f.when(a).done(function(){var h=f.makeArray(f("#ControlsList").val());f(h).each(function(c){var m={AssessmentId:localStorage.assessmentId,ControlId:this.toString()};(new Risk.Models.AssessmentControls(m)).save(function(){c==f("#ControlsList").val().length-1&&f.mobile.changePage("myassessments.htm")})})})},"#backToWhos click":function(){Risk.Models.Assessments.deleteOne(localStorage.assessmentId)}})});steal.loaded("risk/controllers/controls_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/hazards.js","../models/assessments.js","../models/assessmentdetailcontrols.js","../models/assessmentdetailexistingcontrols.js","../lib/WebSQL/db.js","../views/details/init.ejs").then(function(f){f.Controller("Risk.Controllers.Details",{},{init:function(){this.loadData()},loadData:function(){var a=new Risk.Models.Assessments.findOne(localStorage.editAssessmentId),h=new Risk.Models.AssessmentDetailControls.findAllById(localStorage.editAssessmentId),
c=new Risk.Models.AssessmentDetailExistingControls.findAllById(localStorage.editAssessmentId),m;f.when(a,h,c).done(function(k,p,n){var o=parseInt(k.SeverityB*k.LikelihoodB),u="";u=o<5?"green-divider":"orange-divider";m=f.View("//risk/views/details/init.ejs",{furtherDetails:k.FurtherDetails,assessmentRating:o,severityRating:k.SeverityB,likelihoodRating:k.LikelihoodB,hazardName:k.Hazard,who:k.Who,how:k.How,controls:p,existingControls:n,className:u});f("#DetailsContent").html(m);f("#DetailsList").listview();
f("#DetailsPage").trigger("create")})}})});steal.loaded("risk/controllers/details_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/task.js","../lib/WebSQL/db.js","../views/inprogress/init.ejs").then(function(f){f.Controller("Risk.Controllers.InProgress",{},{init:function(){this.loadData()},loadData:function(){var a=this,h=Risk.Models.Task.findAllInProgress(),c;f.when(h).done(function(m){m=a.convertToDates(m);c=f.View("//risk/views/inprogress/init.ejs",m);f("#InProgressContent").html(c);f("#InProgressList").listview();f("#InProgressPage").trigger("create")})},
".task-item click":function(a){a=f(a).attr("id");localStorage.taskId=a},".delete click":function(a){a=f(a).attr("id");localStorage.deleteTaskId=a},convertToDates:function(a){for(var h=0;h<a.length;h++)a[h].DateStarted=new Date(a[h].DateStarted);return a}})});steal.loaded("risk/controllers/inprogress_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/hazards.js","../models/hows.js","../models/controls.js","../lib/WebSQL/db.js","../views/newhazard/init.ejs").then(function(f){f.Controller("Risk.Controllers.Hazard",{},{init:function(){var a=f.View("//risk/views/newhazard/init.ejs");f("#NewHazardForm").html(a).trigger("create")},".cancel click":function(){f.mobile.changePage("../hazards.htm",{transition:"none"})},submit:function(a,h){h.preventDefault();
if(f("#NewHazardForm").valid()){a={Name:f("#hazard").val()};(new Risk.Models.Hazards(a)).save(function(c,m){localStorage.hazardId=m;var k=0,p=f('.hows input[value!=""]').length+f('.controls input[value!=""]').length;f(".hows input").each(function(){if(f(this).val().length>0){var n={Name:f(this).val(),HazardId:m};(new Risk.Models.Hows(n)).save(function(){k++;k==p&&f.mobile.changePage("../whos.htm")})}});f(".controls input").each(function(){if(f(this).val().length>0){var n={Name:f(this).val(),HazardId:m};
(new Risk.Models.Controls(n)).save(function(){k++;k==p&&f.mobile.changePage("../whos.htm")})}})})}return false}})});steal.loaded("risk/controllers/newhazard_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/hazards.js","../models/controls.js","../models/hows.js","../models/assessmentcontrols.js","../models/assessmentexistingcontrols.js","../models/assessments.js","../lib/WebSQL/db.js").then(function(f){f.Controller("Risk.Controllers.DeleteHazard",{},{init:function(){},".no click":function(){f.mobile.changePage("../hazards.htm",{transition:"none"})},".yes click":function(){var a=localStorage.deleteHazardId,
h=new Risk.Models.Hazards.deleteOne(a);new Risk.Models.Hows.deleteMany(a);new Risk.Models.Controls.deleteMany(a);f.when(h).done(function(){var c=Risk.Models.Assessments.findAllHazardIds(a);f.when(c).done(function(m){f(m).each(function(){Risk.Models.Assessments.deleteManyByHazardId(a);Risk.Models.AssessmentControls.deleteMany(this.id);Risk.Models.AssessmentExistingControls.deleteMany(this.id)});f.mobile.changePage("../hazards.htm",{transition:"none"})})})}})});steal.loaded("risk/controllers/deletehazard_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../lib/WebSQL/db.js","../models/task.js","../models/assessments.js","../views/email/init.ejs").then(function(f){f.Controller("Risk.Controllers.EmailReport",{},{init:function(){this.loadData()},task:null,loadData:function(){var a=this,h=Risk.Models.Task.findOne(localStorage.taskId);f.when(h).done(function(c){a.task=c;var m=f.View("//risk/views/email/init.ejs",{FirstName:localStorage.emailDetailsFn,LastName:localStorage.emailDetailsLn,
EmailAddress:localStorage.emailDetailsEmail,ManagerEmailAddress:localStorage.emailDetailsMemail});f("#EmailReportForm").html(m).trigger("create");f("h1#EmailTitle").append(": "+c.Name)})},submit:function(a,h){if(f("#EmailReportForm").valid()){f.mobile.showPageLoadingMsg();var c=this;h.preventDefault();a=a.formParams();h={FirstName:a.FirstName,LastName:a.LastName,EmailAddress:a.EmailAddress,ManagerEmailAddress:a.ManagerEmailAddress};localStorage.emailDetailsFn=h.FirstName;localStorage.emailDetailsLn=
h.LastName;localStorage.emailDetailsEmail=h.EmailAddress;localStorage.emailDetailsMemail=h.ManagerEmailAddress;var m={id:c.task.id,Name:c.task.Name,Site:c.task.Site,DateStarted:(new Date(c.task.DateStarted)).toISOString(),DateFinished:(new Date).toISOString(),Sent:1,AssessorName:a.FirstName+" "+a.LastName,AssessorEmail:a.EmailAddress,ManagerEmail:a.ManagerEmailAddress};c=Risk.Models.Assessments.findAll(c.task.id);f.when(c).done(function(k){for(var p=[],n=0;n<k.length;n++)p.push({hazard:k[n].Hazard,
likelihood:k[n].Likelihood,severity:k[n].Severity,likelihoodB:k[n].LikelihoodB,severityB:k[n].SeverityB,how:k[n].How,who:k[n].Who,furtherDetails:k[n].FurtherDetails,controls:k[n].Controls,existingControls:k[n].ExistingControls});try{f.ajax({url:"http://eriskservice.apphb.com/api/Email/Send",dataType:"jsonp",data:{task:m,assessments:p},success:function(){},error:function(u){u.status==200?(new Risk.Models.Task(m)).save(function(){f.mobile.changePage("dialog/emailSent.htm")}):f.mobile.changePage("dialog/emailNotSent.htm")}})}catch(o){f.mobile.changePage("dialog/emailNotSent.htm")}})}return false}})});
steal.loaded("risk/controllers/emailreport_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/task.js","../lib/WebSQL/db.js","../views/completed/init.ejs").then(function(f){f.Controller("Risk.Controllers.Completed",{},{init:function(){this.loadData()},loadData:function(){var a=this,h=Risk.Models.Task.findAllFinished(),c;f.when(h).done(function(m){m=a.convertToDates(m);c=f.View("//risk/views/completed/init.ejs",m);f("#CompletedContent").html(c);f("#CompletedList").listview();f("#CompletedPage").trigger("create")})},
".task-item click":function(a){a=f(a).attr("id");localStorage.taskId=a},".delete click":function(a){a=f(a).attr("id");localStorage.deleteTaskId=a},convertToDates:function(a){for(var h=0;h<a.length;h++)a[h].DateFinished=new Date(a[h].DateFinished);return a}})});steal.loaded("risk/controllers/completed_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/task.js","../models/hazards.js","../models/assessments.js","../models/assessmentsB.js","../models/assessmentexistingcontrols.js","../models/assessmentcontrols.js","../lib/WebSQL/db.js","../views/mycompletedassessments/init.ejs").then(function(f){f.Controller("Risk.Controllers.MyCompletedAssessments",{},{init:function(){this.loadData()},assessments:null,task:null,loadData:function(){var a=Risk.Models.Assessments.findAll(localStorage.taskId),
h=Risk.Models.Task.findOne(localStorage.taskId),c,m=this;f.when(a,h).done(function(k,p){m.task=p;m.assessments=k;var n=m.getAmberList(k);k=m.getGreenList(k);c=f.View("//risk/views/mycompletedassessments/init.ejs",{ambers:n,greens:k});f("#MyCompletedAssessmentsContent").html(c);f("#MyCompletedAssessmentsList").listview();f("#divider").text("Risks assessments for task: "+p.Name);f(".task").text("'"+p.Name+"'");f("#MyCompletedAssessmentsPage").trigger("create")})},".assessment-item click":function(a){var h=
f(a).attr("id");a=Risk.Models.Assessments.findOne(h);f.when(a).done(function(c){localStorage.hazardId=c.HazardId;localStorage.editAssessmentId=h;localStorage.assessmentId=h;f.mobile.changePage("completeddetails.htm")})},".delete click":function(a){a=f(a).attr("id");localStorage.deleteAssessmentId=a},".addToExisting click":function(){localStorage.addToExisting="true";localStorage.editAssessmentId=""},"#CopyTask click":function(){var a=this.assessments,h={Name:this.task.Name,Site:this.task.Site,DateStarted:(new Date).getTime(),
DateFinished:"",Sent:0};(new Risk.Models.Task(h)).save(function(c,m){for(c=0;c<a.length;c++){var k=Risk.Models.AssessmentExistingControls.findAllById(a[c].id),p=Risk.Models.AssessmentControls.findAllById(a[c].id);(new Risk.Models.AssessmentsB({TaskId:m,HazardId:a[c].HazardId,Likelihood:a[c].Likelihood,Severity:a[c].Severity,LikelihoodB:a[c].LikelihoodB,SeverityB:a[c].SeverityB,HowId:a[c].HowId,WhoId:a[c].WhoId,FurtherDetails:a[c].FurtherDetails})).save(function(n,o){f.when(k,p).done(function(u,v){f(u).each(function(){(new Risk.Models.AssessmentExistingControls({AssessmentId:o,
ExistingControlId:this.id})).save()});f(v).each(function(){(new Risk.Models.AssessmentControls({AssessmentId:o,ControlId:this.id})).save()})})})}})},getAmberList:function(a){for(var h=[],c=0;c<a.length;c++)a[c].LikelihoodB*a[c].SeverityB>4&&h.push(a[c]);return h},getGreenList:function(a){for(var h=[],c=0;c<a.length;c++)a[c].LikelihoodB*a[c].SeverityB<5&&h.push(a[c]);return h}})});steal.loaded("risk/controllers/mycompletedassessments_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/hazards.js","../models/assessments.js","../models/assessmentdetailcontrols.js","../models/assessmentdetailexistingcontrols.js","../lib/WebSQL/db.js","../views/completeddetails/init.ejs").then(function(f){f.Controller("Risk.Controllers.CompletedDetails",{},{init:function(){this.loadData()},loadData:function(){var a=new Risk.Models.Assessments.findOne(localStorage.editAssessmentId),h=new Risk.Models.AssessmentDetailControls.findAllById(localStorage.editAssessmentId),
c=new Risk.Models.AssessmentDetailExistingControls.findAllById(localStorage.editAssessmentId),m;f.when(a,h,c).done(function(k,p,n){var o=parseInt(k.SeverityB*k.LikelihoodB),u="";u=o<5?"green-divider":"orange-divider";m=f.View("//risk/views/completeddetails/init.ejs",{furtherDetails:k.FurtherDetails,assessmentRating:o,severityRating:k.SeverityB,likelihoodRating:k.LikelihoodB,hazardName:k.Hazard,who:k.Who,how:k.How,controls:p,existingControls:n,className:u});f("#CompletedDetailsContent").html(m);f("#CompletedDetailsList").listview();
f("#CompletedDetailsPage").trigger("create")})}})});steal.loaded("risk/controllers/completeddetails_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/task.js","../models/assessments.js","../models/assessmentcontrols.js","../models/assessmentexistingcontrols.js","../lib/WebSQL/db.js").then(function(f){f.Controller("Risk.Controllers.DeleteCompletedTask",{},{init:function(){},".no click":function(){f.mobile.changePage("../completed.htm",{transition:"none"})},".yes click":function(){var a=localStorage.deleteTaskId;Risk.Models.Task.deleteOne(a);
a=Risk.Models.Assessments.findAllIds(a);f.when(a).done(function(h){f(h).each(function(){Risk.Models.Assessments.deleteOne(this.id);Risk.Models.AssessmentControls.deleteMany(this.id);Risk.Models.AssessmentExistingControls.deleteMany(this.id)})});f.mobile.changePage("../completed.htm",{transition:"none"})}})});steal.loaded("risk/controllers/deletecompletedtask_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/hows.js","../lib/WebSQL/db.js").then(function(f){f.Controller("Risk.Controllers.AddHow",{},{init:function(){},".ok click":function(){if(f("#Name").val().length<1)f(".ui-dialog").dialog("close");else{var a={Name:f("#Name").val(),HazardId:parseInt(localStorage.hazardId)};(new Risk.Models.Hows(a)).save(this.callback("onInsertSuccess"),this.callback("onInsertFail"))}},".cancel click":function(){f(".ui-dialog").dialog("close")},
onInsertSuccess:function(a,h){localStorage.tempHowId=h;f.mobile.changePage("../whos.htm","flip",false,true)},onInsertFail:function(){}})});steal.loaded("risk/controllers/addhow_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/controls.js","../lib/WebSQL/db.js").then(function(f){f.Controller("Risk.Controllers.AddControl",{},{init:function(){},".ok click":function(){if(f("#Name").val().length<1)f(".ui-dialog").dialog("close");else{var a={Name:f("#Name").val(),HazardId:parseInt(localStorage.hazardId)};(new Risk.Models.Controls(a)).save(this.callback("onInsertSuccess"),this.callback("onInsertFail"))}},".cancel click":function(){f(".ui-dialog").dialog("close")},
onInsertSuccess:function(a,h){localStorage.tempExistingControls=h;f.mobile.changePage("../whos.htm","flip",false,true)},onInsertFail:function(){}})});steal.loaded("risk/controllers/addcontrol_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/controls.js","../lib/WebSQL/db.js").then(function(f){f.Controller("Risk.Controllers.AddFurtherControl",{},{init:function(){},".ok click":function(){if(f("#Name").val().length<1)f(".ui-dialog").dialog("close");else{var a={Name:f("#Name").val(),HazardId:parseInt(localStorage.hazardId)};(new Risk.Models.Controls(a)).save(this.callback("onInsertSuccess"),this.callback("onInsertFail"))}},".cancel click":function(){f(".ui-dialog").dialog("close")},
onInsertSuccess:function(a,h){localStorage.tempFurtherControls=h;f.mobile.changePage("../controls.htm","flip",false,true)},onInsertFail:function(){}})});steal.loaded("risk/controllers/addfurthercontrol_controller.js");
steal("jquery/class","jquery/lang/string","jquery/event/destroyed",function(f){var a=function(z,J,G){var U,ca=z.bind&&z.unbind?z:f(m(z)?[z]:z);if(J.indexOf(">")===0){J=J.substr(1);U=function(la){la.target===z&&G.apply(this,arguments)}}ca.bind(J,U||G);return function(){ca.unbind(J,U||G);z=J=G=U=null}},h=f.makeArray,c=f.isArray,m=f.isFunction,k=f.extend,p=f.String,n=f.each,o=Array.prototype.slice,u=function(z,J,G,U){var ca=z.delegate&&z.undelegate?z:f(m(z)?[z]:z);ca.delegate(J,G,U);return function(){ca.undelegate(J,
G,U);ca=z=G=U=J=null}},v=function(z,J,G,U){return U?u(z,U,J,G):a(z,J,G)},F=function(z,J){var G=typeof J=="string"?z[J]:J;return function(){z.called=J;return G.apply(z,[this.nodeName?f(this):this].concat(o.call(arguments,0)))}},C=/\./g,s=/_?controllers?/ig,T=function(z){return p.underscore(z.replace("jQuery.","").replace(C,"_").replace(s,""))},H=/[^\w]/,R=/\{([^\}]+)\}/g,Q=/^(?:(.*?)\s)?([\w\.\:>]+)$/,K,t=function(z,J){return f.data(z,"controllers",J)};f.Class("jQuery.Controller",{setup:function(){this._super.apply(this,
arguments);if(!(!this.shortName||this.fullName=="jQuery.Controller")){this._fullName=T(this.fullName);this._shortName=T(this.shortName);var z=this,J=this.pluginName||this._fullName,G;f.fn[J]||(f.fn[J]=function(U){var ca=h(arguments),la=typeof U=="string"&&m(z.prototype[U]),A=ca[0];return this.each(function(){var M=t(this);if(M=M&&M[J])la?M[A].apply(M,ca.slice(1)):M.update.apply(M,ca);else z.newInstance.apply(z,[this].concat(ca))})});this.actions={};for(G in this.prototype)if(!(G=="constructor"||!m(this.prototype[G])))if(this._isAction(G))this.actions[G]=
this._action(G)}},hookup:function(z){return new this(z)},_isAction:function(z){return H.test(z)?true:f.inArray(z,this.listensTo)>-1||f.event.special[z]||y[z]},_action:function(z,J){R.lastIndex=0;if(!J&&R.test(z))return null;z=J?p.sub(z,[J,window]):z;J=c(z);var G=(J?z[1]:z).match(Q);return{processor:y[G[2]]||K,parts:G,delegate:J?z[0]:undefined}},processors:{},listensTo:[],defaults:{}},{setup:function(z,J){var G=this.constructor;z=(typeof z=="string"?f(z):z.jquery?z:[z])[0];var U=G.pluginName||G._fullName;
this.element=f(z).addClass(U);(t(z)||t(z,{}))[U]=this;this.options=k(k(true,{},G.defaults),J);this.called="init";this.bind();return[this.element,this.options].concat(h(arguments).slice(2))},bind:function(z,J,G){if(z===undefined){this._bindings=[];z=this.constructor;J=this._bindings;G=z.actions;var U=this.element;for(funcName in G)if(G.hasOwnProperty(funcName)){ready=G[funcName]||z._action(funcName,this.options);J.push(ready.processor(ready.delegate||U,ready.parts[2],ready.parts[1],funcName,this))}var ca=
F(this,"destroy");U.bind("destroyed",ca);J.push(function(la){f(la).unbind("destroyed",ca)});return J.length}if(typeof z=="string"){G=J;J=z;z=this.element}return this._binder(z,J,G)},_binder:function(z,J,G,U){if(typeof G=="string")G=F(this,G);this._bindings.push(v(z,J,G,U));return this._bindings.length},_unbind:function(){var z=this.element[0];n(this._bindings,function(J,G){G(z)});this._bindings=[]},delegate:function(z,J,G,U){if(typeof z=="string"){U=G;G=J;J=z;z=this.element}return this._binder(z,
G,U,J)},update:function(z){k(this.options,z);this._unbind();this.bind()},destroy:function(){if(this._destroyed)throw this.constructor.shortName+" controller already deleted";var z=this.constructor.pluginName||this.constructor._fullName;this._destroyed=true;this.element.removeClass(z);this._unbind();delete this._actions;delete this.element.data("controllers")[z];f(this).triggerHandler("destroyed");this.element=null},find:function(z){return this.element.find(z)},_set_called:true});var y=f.Controller.processors;
K=function(z,J,G,U,ca){return v(z,J,F(ca,U),G)};n("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave".split(" "),function(z,J){y[J]=K});var L,I=function(z,J){for(L=0;L<J.length;L++)if(typeof J[L]=="string"?z.constructor._shortName==J[L]:z instanceof J[L])return true;return false};f.fn.extend({controllers:function(){var z=h(arguments),J=[],G,U,ca;this.each(function(){G=f.data(this,
"controllers");for(ca in G)if(G.hasOwnProperty(ca)){U=G[ca];if(!z.length||I(U,z))J.push(U)}});return J},controller:function(){return this.controllers.apply(this,arguments)[0]}})});steal.loaded("jquery/controller/controller.js");
steal("jquery/dom").then(function(f){var a=/radio|checkbox/i,h=/[^\[\]]+/g,c=/^[\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?$/,m=function(k){if(typeof k=="number")return true;if(typeof k!="string")return false;return k.match(c)};f.fn.extend({formParams:function(k,p){if(!!k===k){p=k;k=null}if(k)return this.setParams(k);else if(this[0].nodeName.toLowerCase()=="form"&&this[0].elements)return jQuery(jQuery.makeArray(this[0].elements)).getParams(p);return jQuery("input[name], textarea[name], select[name]",
this[0]).getParams(p)},setParams:function(k){this.find("[name]").each(function(){var p=k[f(this).attr("name")],n;if(p!==undefined){n=f(this);if(n.is(":radio"))n.val()==p&&n.attr("checked",true);else if(n.is(":checkbox")){p=f.isArray(p)?p:[p];f.inArray(n.val(),p)>-1&&n.attr("checked",true)}else n.val(p)}})},getParams:function(k){var p={},n;k=k===undefined?false:k;this.each(function(){var o=this;if(!((o.type&&o.type.toLowerCase())=="submit"||!o.name)){var u=o.name,v=f.data(o,"value")||f.fn.val.call([o]),
F=a.test(o.type);u=u.match(h);o=!F||!!o.checked;if(k){if(m(v))v=parseFloat(v);else if(v==="true")v=true;else if(v==="false")v=false;if(v==="")v=undefined}n=p;for(F=0;F<u.length-1;F++){n[u[F]]||(n[u[F]]={});n=n[u[F]]}u=u[u.length-1];if(n[u]){f.isArray(n[u])||(n[u]=n[u]===undefined?[]:[n[u]]);o&&n[u].push(v)}else if(o||!n[u])n[u]=o?v:undefined}});return p}})});steal.loaded("jquery/dom/form_params/form_params.js");
steal("jquery/controller","jquery/view").then(function(){var f=steal.URI||steal.File;jQuery.Controller.getFolder=function(){return jQuery.String.underscore(this.fullName.replace(/\./g,"/")).replace("/Controllers","")};jQuery.Controller._calculatePosition=function(h,c,m){var k=h.fullName.split("."),p=k.slice(0);p.splice(0,2);p.join("/");k=(h=k.length>2&&k[1]=="Controllers")?jQuery.String.underscore(k[0]):jQuery.String.underscore(k.join("/"));p=jQuery.String.underscore(p.join("/")).toLowerCase();var n=
typeof c=="string"&&/\.[\w\d]+$/.test(c)?"":jQuery.View.ext;if(typeof c=="string"){if(c.substr(0,2)!="//")c="//"+f(k).join("views/"+(c.indexOf("/")!==-1?c:(h?p+"/":"")+c))+n}else c||(c="//"+f(k).join("views/"+(h?p+"/":"")+m.replace(/\.|#/g,"").replace(/ /g,"_"))+n);return c};var a=function(h){var c={};if(h)if(jQuery.isArray(h))for(var m=0;m<h.length;m++)jQuery.extend(c,h[m]);else jQuery.extend(c,h);else{if(this._default_helpers)c=this._default_helpers;h=window;m=this.constructor.fullName.split(/\./);
for(var k=0;k<m.length;k++)if(h){typeof h.Helpers=="object"&&jQuery.extend(c,h.Helpers);h=h[m[k]]}h&&typeof h.Helpers=="object"&&jQuery.extend(c,h.Helpers);this._default_helpers=c}return c};jQuery.Controller.prototype.view=function(h,c,m){if(typeof h!="string"&&!m){m=c;c=h;h=null}h=jQuery.Controller._calculatePosition(this.Class,h,this.called);c=c||this;m=a.call(this,m);return jQuery.View(h,c,m)}});steal.loaded("jquery/controller/view/view.js");
steal("jquery/view/ejs").then(function(f){f.View.preload("risk_views_index_init_ejs",jQuery.EJS(function(a,h){try{with(h)with(a){a=[];a.push('<?xml version="1.0" encoding="Windows-1252"?>\n');a.push("\n");a.push('<a data-icon="plus" data-role="button" href="risk/pages/newtask.htm">New Work Task</a>\n');a.push("\n");a.push('<a data-icon="grid" data-role="button" href="risk/pages/inprogress.htm">Current Tasks</a>\n');a.push("\n");a.push('<div id="erisk">\n');a.push('  <img src="risk/images/logo.png"/>\n');
a.push("</div>\n");a.push("\n");a.push('<a data-icon="check" data-role="button" href="risk/pages/completed.htm">Completed Tasks</a>');return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("risk/views/index/init.ejs");steal("jquery/event").then(function(f){var a=jQuery.cleanData;f.cleanData=function(h){for(var c=0,m;(m=h[c])!==undefined;c++)f(m).triggerHandler("destroyed");a(h)}});steal.loaded("jquery/event/destroyed/destroyed.js");steal("jquery");steal.loaded("jquery/event/event.js");
steal("jquery");steal.loaded("jquery/dom/dom.js");
steal("jquery/model",function(){Risk.Models.WebSqlModel("Risk.Models.Task",{findAllInProgress:function(){return localStorageDB.getRows("SELECT * FROM Tasks WHERE Sent = 0 ORDER BY DateStarted DESC",this)},findAllFinished:function(){return localStorageDB.getRows("SELECT * FROM Tasks WHERE Sent = 1 ORDER BY DateStarted DESC",this)},findOne:function(f){return localStorageDB.getSingleRow("SELECT * FROM Tasks WHERE id ="+f,this)},deleteOne:function(f){return localStorageDB.getSingleRow("DELETE FROM Tasks WHERE id ="+f,
this)},tableName:"Tasks"},{})});steal.loaded("risk/models/task.js");
steal("jquery/view/ejs").then(function(f){f.View.preload("risk_views_task_add_init_ejs",jQuery.EJS(function(a,h){try{with(h)with(a){a=[];a.push('<?xml version="1.0" encoding="Windows-1252"?>\n');a.push('<label data-inline="true"><strong>Task name</strong>:</label>\n');a.push('<input type="text" name="Name" placeholder="Compulsory" id="Name"  class="textinput required" value="" />\n');a.push('<label data-inline="true"><strong>Site name</strong>:</label>\n');a.push('<input type="text" name="Site" id="Site" placeholder="Compulsory" class="textinput required" value="" />\n');
a.push('<input type="submit" id="newtaskbutton" data-icon="check" value="Next Step" />');return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("risk/views/task_add/init.ejs");
steal("jquery/view/ejs").then(function(f){f.View.preload("risk_views_task_edit_init_ejs",jQuery.EJS(function(a,h){try{with(h)with(a){a=[];a.push('<?xml version="1.0" encoding="Windows-1252"?>\n');a.push('<label data-inline="true"><strong>Task name</strong>:</label>\n');a.push('<input type="text" name="Name" placeholder="Compulsory" id="Name"  class="textinput required" value="');a.push(jQuery.EJS.clean(this.Name));a.push('" />\n');a.push('<label data-inline="true"><strong>Site name</strong>:</label>\n');
a.push('<input type="text" name="Site" id="Site" placeholder="Compulsory" class="textinput required" value="');a.push(jQuery.EJS.clean(this.Site));a.push('" />\n');a.push('<input type="submit" id="savetaskbutton" data-icon="check" value="Save" />');return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("risk/views/task_edit/init.ejs");
steal("jquery/model",function(){Risk.Models.WebSqlModel("Risk.Models.Hazards",{findAll:function(){return localStorageDB.getRows("SELECT * FROM Hazards order by Name",this)},findOne:function(f){return localStorageDB.getSingleRow("SELECT * FROM Hazards WHERE id ="+f,this)},deleteOne:function(f){return localStorageDB.getSingleRow("DELETE FROM Hazards WHERE id ="+f,this)},tableName:"Hazards"},{})});steal.loaded("risk/models/hazards.js");
steal("jquery/view/ejs").then(function(f){f.View.preload("risk_views_hazards_init_ejs",jQuery.EJS(function(a,h){try{with(h)with(a){a=[];a.push('<?xml version="1.0" encoding="Windows-1252"?>\n');a.push('<ul id="HazardsList" data-filter="true" data-split-icon="delete" data-filter-placeholder="Search for a hazard" data-role="listview">\n');a.push("  ");for(h=0;h<this.length;h++){a.push("\n");a.push("  <li>\n");a.push('    <a class="hazard-item" id="');a.push(jQuery.EJS.clean(this[h].id));a.push('">\n');
a.push("      ");a.push(jQuery.EJS.clean(this[h].Name));a.push("\n");a.push("    </a>\n");a.push('    <a href="dialog/deleteHazardConfirm.htm" data-rel="dialog" id="');a.push(jQuery.EJS.clean(this[h].id));a.push('" class="delete">\n');a.push("    </a>\n");a.push("  </li>\n");a.push("  ")}a.push("\n");a.push("  </ul>\n");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("risk/views/hazards/init.ejs");
steal("jquery/model",function(){Risk.Models.WebSqlModel("Risk.Models.Whos",{findAll:function(){return localStorageDB.getRows("SELECT * FROM Whos",this)},findOne:function(f){return localStorageDB.getSingleRow("SELECT * FROM Whos WHERE id ="+f,this)},tableName:"Whos"},{})});steal.loaded("risk/models/whos.js");
steal("jquery/model",function(){Risk.Models.WebSqlModel("Risk.Models.Hows",{findAll:function(f){return localStorageDB.getRows("SELECT * FROM Hows WHERE HazardId ="+f,this)},findOne:function(f){return localStorageDB.getSingleRow("SELECT * FROM Hows WHERE id ="+f,this)},deleteMany:function(f){return localStorageDB.getRows("DELETE FROM Hows WHERE HazardId ="+f,this)},tableName:"Hows"},{})});steal.loaded("risk/models/hows.js");
steal("jquery/model",function(){Risk.Models.WebSqlModel("Risk.Models.AssessmentsB",{findAll:function(f){return localStorageDB.getRows("SELECT ass.id, hz.Name as Hazard FROM Assessments as ass left outer join Hazards as hz on ass.HazardId = hz.Id WHERE ass.TaskId = "+f,this)},findOne:function(f){return localStorageDB.getSingleRow("SELECT ass.id, ass.TaskId, ass.FurtherDetails, ass.Likelihood, ass.Severity, ass.LikelihoodB, ass.SeverityB, h.Name as How, w.Name as Who, h.id as HowId, w.id as WhoId, hz.Name as Hazard FROM Assessments as ass inner join Hazards as hz on ass.HazardId = hz.Id inner join Whos as w on ass.WhoId = w.id inner join Hows as h on ass.HowId = h.id WHERE ass.id ="+
f,this)},tableName:"Assessments"},{})});steal.loaded("risk/models/assessmentsB.js");
steal("jquery/model",function(){Risk.Models.WebSqlModel("Risk.Models.AssessmentExistingControls",{findAll:function(){return localStorageDB.getRows("SELECT * FROM AssessmentExistingControls",this)},findAllById:function(f){return localStorageDB.getRows("SELECT Controls.id as id FROM AssessmentExistingControls inner join Controls ON AssessmentExistingControls.ExistingControlId = Controls.id WHERE AssessmentExistingControls.AssessmentId = "+f,this)},findOne:function(f){return localStorageDB.getSingleRow("SELECT * FROM AssessmentExistingControls WHERE id ="+
f,this)},deleteMany:function(f){return localStorageDB.getRows("DELETE FROM AssessmentExistingControls WHERE AssessmentId ="+f,this)},findAllById:function(f){return localStorageDB.getRows("SELECT * FROM AssessmentExistingControls WHERE AssessmentId ="+f,this)},tableName:"AssessmentExistingControls"},{})});steal.loaded("risk/models/assessmentexistingcontrols.js");
steal("jquery/model",function(){Risk.Models.WebSqlModel("Risk.Models.Controls",{findAll:function(f){return localStorageDB.getRows("SELECT * FROM Controls WHERE HazardId ="+f,this)},findOne:function(f){return localStorageDB.getSingleRow("SELECT * FROM Controls WHERE id ="+f,this)},deleteMany:function(f){return localStorageDB.getRows("DELETE FROM Controls WHERE HazardId ="+f,this)},tableName:"Controls"},{})});steal.loaded("risk/models/controls.js");
steal("jquery/view/ejs").then(function(f){f.View.preload("risk_views_whos_init_ejs",jQuery.EJS(function(a,h){try{with(h)with(a){a=[];a.push('<?xml version="1.0" encoding="Windows-1252"?>\n');a.push('<div data-role="fieldcontain">\n');a.push('  <label for="WhosList" class="select"><strong>Who</strong> is at risk?</label>\n');a.push('  <select name="WhosList" id="WhosList" data-native-menu="false">\n');a.push("    <option>Choose option</option>\n");a.push("    ");for(h="0";h<this.whos.length;h++){a.push("\n");
a.push('    <option value="');a.push(jQuery.EJS.clean(this.whos[h].id));a.push('">\n');a.push("        ");a.push(jQuery.EJS.clean(this.whos[h].Name));a.push("\n");a.push("    </option>\n");a.push("    ")}a.push("\n");a.push("  </select>\n");a.push("\n");a.push('    <label for="HowsList" class="select inline">\n');a.push("      <strong>How</strong> are they at risk?\n");a.push("    </label>\n");a.push('    <a id="NewHow" data-mini="true" href="dialog/lite.htm" data-iconpos="right" data-icon="plus" data-role="button" data-inline="true">Add New</a>\n');
a.push('  <select name="HowsList" id="HowsList" data-native-menu="false">\n');a.push("    <option>Choose option</option>\n");a.push("    ");for(h="0";h<this.hows.length;h++){a.push("\n");a.push('      <option value="');a.push(jQuery.EJS.clean(this.hows[h].id));a.push('">\n');a.push("        ");a.push(jQuery.EJS.clean(this.hows[h].Name));a.push("\n");a.push("      </option>\n");a.push("    ")}a.push("\n");a.push("  </select>\n");a.push("\n");a.push('  <label for="FurtherDetails">\n');a.push("    Further details of how\n");
a.push("  </label>\n");a.push('  <input data-role="textinput" type="text" id="FurtherDetails" name="FurtherDetails" placeholder="Optional"/>\n');a.push("\n");a.push('  <label for="ExistingControlsList" class="select inline">\n');a.push("    Any <strong>existing controls</strong>?\n");a.push("  </label>\n");a.push('  <a id="NewControl" data-mini="true" href="dialog/lite.htm" data-iconpos="right" data-icon="plus" data-role="button" data-inline="true">Add New</a>\n');a.push('  <select name="ExistingControlsList" id="ExistingControlsList" multiple="multiple" data-native-menu="false">\n');
a.push("    <option>Choose options (optional)</option>\n");a.push("    ");for(h="0";h<this.existingControls.length;h++){a.push("\n");a.push('      <option value="');a.push(jQuery.EJS.clean(this.existingControls[h].id));a.push('" >\n');a.push("        ");a.push(jQuery.EJS.clean(this.existingControls[h].Name));a.push("\n");a.push("      </option>\n");a.push("    ")}a.push("\n");a.push("  </select>\n");a.push("  \n");a.push('  <label for="SeverityList" class="select">\n');a.push("    <strong>Severity</strong> Rating\n");
a.push("  </label>\n");a.push('  <select name="SeverityList" id="SeverityList" data-native-menu="false">\n');a.push('    <option data-placeholder="true">Choose Rating</option>\n');a.push('    <option value="1">\n');a.push("      1 - No injury\n");a.push("    </option>\n");a.push('    <option value="2">\n');a.push("      2 - Minor injury\n");a.push("    </option>\n");a.push('    <option value="3">\n');a.push("      3 - Medical treatment\n");a.push("    </option>\n");a.push('    <option value="4">\n');
a.push("      4 - Reportable\n");a.push("    </option>\n");a.push('    <option value="5">\n');a.push("      5 - Major injury/Fatal\n");a.push("    </option>\n");a.push("  </select>\n");a.push("\n");a.push('  <label for="LikelihoodList" class="select">\n');a.push("    <strong>Likelihood</strong> Rating\n");a.push("  </label>\n");a.push('  <select name="LikelihoodList" id="LikelihoodList" data-native-menu="false">\n');a.push('    <option data-placeholder="true">Choose Rating</option>\n');a.push('    <option value="1">\n');
a.push("      1 - Highly unlikely\n");a.push("    </option>\n");a.push('    <option value="2">\n');a.push("      2 - Unlikely\n");a.push("    </option>\n");a.push('    <option value="3">\n');a.push("      3 - Possible\n");a.push("    </option>\n");a.push('    <option value="4">\n');a.push("      4 - Likely\n");a.push("    </option>\n");a.push('    <option value="5">\n');a.push("      5 - Certain\n");a.push("    </option>\n");a.push("  </select>\n");a.push('    <div id="trafficLight">\n');a.push('      <div id="green">\n');
a.push('        <div class="text">Low risk level - Safe to proceed with work task</div>\n');a.push("      </div>\n");a.push('      <div id="amber">\n');a.push('        <div class="text">Satisfactory risk level - Safe to proceed with work task</div>\n');a.push("      </div>\n");a.push('      <div id="red">\n');a.push('        <div class="text">High risk level - Add further controls to reduce risk</div>\n');a.push("      </div>\n");a.push("    </div>\n");a.push('  <div data-role="fieldcontain">\n');
a.push("    <p>\n");a.push('      <a data-role="button" data-icon="check" data-href="myassessments.htm" class="hidden" id="submit">Save Assessment</a>\n');a.push('      <a data-role="button" data-icon="check" data-href="controls.htm" class="hidden" id="furtherControls">Add Further Controls</a>\n');a.push("    </p>\n");a.push("  </div>\n");a.push("    \n");a.push("</div>\n");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("risk/views/whos/init.ejs");
steal("jquery/model",function(){Risk.Models.WebSqlModel("Risk.Models.Assessments",{findAll:function(f){return localStorageDB.getRows('SELECT REPLACE(REPLACE(GROUP_CONCAT(DISTINCT REPLACE(c.Name,",","@")),",","|"),"@",",") as Controls, REPLACE(REPLACE(GROUP_CONCAT(DISTINCT REPLACE(cc.Name,",","@")),",","|"),"@",",") as ExistingControls, ass.id, ass.TaskId, ass.Likelihood, ass.Severity, ass.LikelihoodB, ass.SeverityB, ass.FurtherDetails, h.Name as How, w.Name as Who, h.id as HowId, w.id as WhoId, hz.Name as Hazard, hz.Id as HazardId FROM Assessments as ass inner join Hazards as hz on ass.HazardId = hz.Id inner join Whos as w on ass.WhoId = w.id inner join Hows as h on ass.HowId = h.id left join AssessmentControls ac on ac.AssessmentId = ass.id left join AssessmentExistingControls aec on aec.AssessmentId = ass.id left join Controls as c on c.id = ac.ControlId left join Controls as cc on cc.id = aec.ExistingControlId WHERE ass.TaskId = '+
f+" GROUP BY ass.id, ass.TaskId, ass.Likelihood, ass.Severity, ass.LikelihoodB, ass.SeverityB, ass.FurtherDetails, h.Name, w.Name, h.id, w.id, hz.Name ORDER BY (ass.LikelihoodB * ass.SeverityB) desc",this)},findAllIds:function(f){return localStorageDB.getRows("SELECT ass.id FROM Assessments as ass WHERE ass.TaskId = "+f,this)},findAllHazardIds:function(f){return localStorageDB.getRows("SELECT ass.id FROM Assessments as ass WHERE ass.HazardId = "+f,this)},findOne:function(f){return localStorageDB.getSingleRow("SELECT ass.id, ass.TaskId, ass.FurtherDetails, ass.Likelihood, ass.Severity, ass.LikelihoodB, ass.SeverityB, h.Name as How, w.Name as Who, h.id as HowId, w.id as WhoId, hz.Name as Hazard, hz.id as HazardId FROM Assessments as ass inner join Hazards as hz on ass.HazardId = hz.Id inner join Whos as w on ass.WhoId = w.id inner join Hows as h on ass.HowId = h.id WHERE ass.id ="+
f,this)},deleteOne:function(f){return localStorageDB.getSingleRow("DELETE FROM Assessments WHERE id ="+f,this)},deleteManyByHazardId:function(f){return localStorageDB.getRows("DELETE FROM Assessments WHERE HazardId ="+f,this)},tableName:"Assessments"},{})});steal.loaded("risk/models/assessments.js");
steal("jquery/view/ejs").then(function(f){f.View.preload("risk_views_myassessments_init_ejs",jQuery.EJS(function(a,h){try{with(h)with(a){a=[];a.push('<?xml version="1.0" encoding="Windows-1252"?>\n');a.push('<ul id="MyAssessmentsList" data-filter="true" data-split-icon="delete" data-filter-placeholder="Search for an assessment" data-role="listview">\n');a.push("  ");if(this.ambers.length<1&&this.greens.length<1){a.push("\n");a.push("  \n");a.push('  <li data-role="list-divider">\n');a.push('    There are currently no risk assessments recorded for <span class="task"></span>\n');
a.push("  </li>\n");a.push("    \n");a.push("  ")}else{a.push("\n");a.push("\n");a.push('  <li id="divider" data-role="list-divider">\n');a.push("  </li> \n");a.push("\n");a.push("  ");if(this.ambers.length>0){a.push("\n");a.push('  <li class="orange-divider" data-role="list-divider">\n');a.push("\t   Amber Assessments\n");a.push("  </li> \n");a.push("  ")}a.push("\n");a.push("\t\n");a.push("  ");for(h=0;h<this.ambers.length;h++){a.push("\n");a.push("  <li>\n");a.push('    <a class="assessment-item" id="');
a.push(jQuery.EJS.clean(this.ambers[h].id));a.push('">\n');a.push("      <h3>\n");a.push("        ");a.push(jQuery.EJS.clean(this.ambers[h].Hazard));a.push("\n");a.push("      </h3>\n");a.push("      <p>\n");a.push("        <strong>Who:</strong> ");a.push(jQuery.EJS.clean(this.ambers[h].Who));a.push("\n");a.push("      </p>\n");a.push("      <p>\n");a.push("        <strong>How:</strong> ");a.push(jQuery.EJS.clean(this.ambers[h].How));a.push(" ");if(this.ambers[h].FurtherDetails){a.push(" - ");a.push(jQuery.EJS.clean(this.ambers[h].FurtherDetails))}a.push("\n");
a.push("      </p>\n");a.push("      ");if(this.ambers[h].Controls){a.push("\n");a.push("        <p>\n");a.push("          <STRONG>Further Controls:</STRONG>\n");a.push("           ");for(var c=0;c<this.ambers[h].Controls.split("|").length;c++){a.push("\n");a.push("             <br/>\n");a.push("             <span>&bull;</span>\n");a.push("             ");a.push(jQuery.EJS.clean(this.ambers[h].Controls.split("|")[c]));a.push("\n");a.push("           ")}a.push("\n");a.push("        </p>  \n");a.push("      ")}a.push("\n");
a.push("    </a>\n");a.push('    <a href="dialog/deleteConfirm.htm" data-rel="dialog" id="');a.push(jQuery.EJS.clean(this.ambers[h].id));a.push('" class="delete"> \n');a.push("    </a>\n");a.push("  </li>\n");a.push("  ")}a.push("\n");a.push("  \n");a.push("    ");if(this.greens.length>0){a.push("\n");a.push('  <li class="green-divider" data-role="list-divider">\n');a.push("\t   Green Assessments\n");a.push("  </li> \n");a.push("  ")}a.push("\n");a.push("\t\n");a.push("  ");for(h=0;h<this.greens.length;h++){a.push("\n");
a.push("  <li>\n");a.push('    <a class="assessment-item" id="');a.push(jQuery.EJS.clean(this.greens[h].id));a.push('">\n');a.push("      <h3>\n");a.push("        ");a.push(jQuery.EJS.clean(this.greens[h].Hazard));a.push("\n");a.push("      </h3>\n");a.push("      <p>\n");a.push("        <strong>Who:</strong> ");a.push(jQuery.EJS.clean(this.greens[h].Who));a.push("\n");a.push("      </p>\n");a.push("      <p>\n");a.push("        <strong>How:</strong> ");a.push(jQuery.EJS.clean(this.greens[h].How));
a.push(" ");if(this.greens[h].FurtherDetails){a.push(" - ");a.push(jQuery.EJS.clean(this.greens[h].FurtherDetails))}a.push("\n");a.push("      </p>\n");a.push("      ");if(this.greens[h].Controls){a.push("\n");a.push("        <p>\n");a.push("          <STRONG>Further Controls:</STRONG>\n");a.push("           ");for(c=0;c<this.greens[h].Controls.split("|").length;c++){a.push("\n");a.push("             <br/>\n");a.push("             <span>&bull;</span>\n");a.push("             ");a.push(jQuery.EJS.clean(this.greens[h].Controls.split("|")[c]));
a.push("\n");a.push("           ")}a.push("\n");a.push("        </p>  \n");a.push("      ")}a.push("\n");a.push("    </a>\n");a.push('    <a href="dialog/deleteConfirm.htm" data-rel="dialog" id="');a.push(jQuery.EJS.clean(this.greens[h].id));a.push('" class="delete"> \n');a.push("    </a>\n");a.push("  </li>\n");a.push("  ")}}a.push("\n");a.push("</ul>\n");a.push("<br/>\n");a.push("<p>\n");a.push('  <a data-role="button" data-icon="plus" class="addToExisting" href="hazards.htm">Add another assessment</a>\n');
a.push('  <a data-role="button" data-icon="gear" href="edittask.htm">Edit task details</a>\n');a.push('  <a data-role="button" data-icon="forward" href="dialog/lite.htm">Email report for <span class="task"></span></a>\n');a.push("</p> \n");a.push(" \n");return a.join("")}}catch(m){m.lineNumber=null;throw m;}}))});steal.loaded("risk/views/myassessments/init.ejs");
steal("jquery/model",function(){Risk.Models.WebSqlModel("Risk.Models.AssessmentControls",{findAll:function(){return localStorageDB.getRows("SELECT * FROM AssessmentControls",this)},findAllById:function(f){return localStorageDB.getRows("SELECT Controls.id as id FROM AssessmentControls inner join Controls ON AssessmentControls.ControlId = Controls.id WHERE AssessmentControls.AssessmentId = "+f,this)},findOne:function(f){return localStorageDB.getSingleRow("SELECT * FROM AssessmentControls WHERE id ="+
f,this)},deleteMany:function(f){return localStorageDB.getRows("DELETE FROM AssessmentControls WHERE AssessmentId ="+f,this)},findAllById:function(f){return localStorageDB.getRows("SELECT * FROM AssessmentControls WHERE AssessmentId ="+f,this)},tableName:"AssessmentControls"},{})});steal.loaded("risk/models/assessmentcontrols.js");
steal("jquery/view/ejs").then(function(f){f.View.preload("risk_views_controls_init_ejs",jQuery.EJS(function(a,h){try{with(h)with(a){a=[];a.push('<?xml version="1.0" encoding="Windows-1252"?>\n');a.push('<div data-role="fieldcontain">\n');a.push("\n");a.push('  <label for="ControlsList" class="select inline">\n');a.push("    <strong>Add further controls</strong>\n");a.push("  </label>\n");a.push('  <a id="NewControl" data-mini="true" href="dialog/lite.htm" data-iconpos="right" data-icon="plus" data-role="button" data-inline="true">Add New</a>\n');
a.push('  <select name="ControlsList" id="ControlsList" multiple="multiple" data-native-menu="false">\n');a.push("    <option>Choose options</option>\n");a.push("    ");for(h="0";h<this.controls.length;h++){a.push("\n");a.push('    <option value="');a.push(jQuery.EJS.clean(this.controls[h].id));a.push('">\n');a.push("        ");a.push(jQuery.EJS.clean(this.controls[h].Name));a.push("\n");a.push("    </option>\n");a.push("    ")}a.push("\n");a.push("  </select>\n");a.push("\n");a.push('  <label for="SeverityList" class="select">\n');
a.push("    Adjust <strong>Severity</strong> Rating\n");a.push("  </label>\n");a.push('  <select name="SeverityList" id="SeverityList" data-native-menu="false">\n');a.push('    <option value="1">\n');a.push("      1 - No injury\n");a.push("    </option>\n");a.push('    <option value="2">\n');a.push("      2 - Minor injury\n");a.push("    </option>\n");a.push('    <option value="3">\n');a.push("      3 - Medical treatment\n");a.push("    </option>\n");a.push('    <option value="4">\n');a.push("      4 - Reportable\n");
a.push("    </option>\n");a.push('    <option value="5">\n');a.push("      5 - Major injury/Fatal\n");a.push("    </option>\n");a.push("  </select>\n");a.push("  \n");a.push('  <label for="LikelihoodList" class="select">\n');a.push("    Adjust <strong>Likelihood</strong> Rating\n");a.push("  </label>\n");a.push('  <select name="LikelihoodList" id="LikelihoodList" data-native-menu="false">\n');a.push('    <option value="1">\n');a.push("      1 - Highly unlikely\n");a.push("    </option>\n");a.push('    <option value="2">\n');
a.push("      2 - Unlikely\n");a.push("    </option>\n");a.push('    <option value="3">\n');a.push("      3 - Possible\n");a.push("    </option>\n");a.push('    <option value="4">\n');a.push("      4 - Likely\n");a.push("    </option>\n");a.push('    <option value="5">\n');a.push("      5 - Certain\n");a.push("    </option>\n");a.push("  </select>\n");a.push("\n");a.push('  <div id="trafficLight">\n');a.push('    <div id="green">\n');a.push('      <div class="text">Low risk level - Safe to proceed with work task</div>\n');
a.push("    </div>\n");a.push('    <div id="amber">\n');a.push('      <div class="text">Satisfactory risk level - Safe to proceed with work task</div>\n');a.push("    </div>\n");a.push('    <div id="red">\n');a.push('      <div class="text">High risk level - Add further controls to reduce risk</div>\n');a.push("    </div>\n");a.push("  </div>\n");a.push("  \n");a.push('  <div data-role="fieldcontain">\n');a.push('    <p id="button-container">\n');a.push('      <input type="submit" data-role="button" data-icon="check" id="submit" value="Finish Assessment"/>\n');
a.push("    </p>\n");a.push("  </div>\n");a.push("</div>\n");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("risk/views/controls/init.ejs");
steal("jquery/model",function(){Risk.Models.WebSqlModel("Risk.Models.AssessmentDetailControls",{findAllById:function(f){return localStorageDB.getRows("SELECT Controls.Name as Name FROM AssessmentControls inner join Controls ON AssessmentControls.ControlId = Controls.id WHERE AssessmentControls.AssessmentId = "+f,this)},tableName:"AssessmentControls"},{})});steal.loaded("risk/models/assessmentdetailcontrols.js");
steal("jquery/model",function(){Risk.Models.WebSqlModel("Risk.Models.AssessmentDetailExistingControls",{findAllById:function(f){return localStorageDB.getRows("SELECT Controls.Name as Name FROM AssessmentExistingControls inner join Controls ON AssessmentExistingControls.ExistingControlId = Controls.id WHERE AssessmentExistingControls.AssessmentId = "+f,this)},tableName:"AssessmentExistingControls"},{})});steal.loaded("risk/models/assessmentdetailexistingcontrols.js");
steal("jquery/view/ejs").then(function(f){f.View.preload("risk_views_details_init_ejs",jQuery.EJS(function(a,h){try{with(h)with(a){a=[];a.push('<?xml version="1.0" encoding="Windows-1252"?>\n');a.push('<ul id="DetailsList" data-role="listview">\n');a.push("  \n");a.push('  <li data-role="list-divider">\n');a.push("    Who is at risk from '");a.push(jQuery.EJS.clean(this.hazardName));a.push("':\n");a.push("  </li>\n");a.push("  <li>");a.push(jQuery.EJS.clean(this.who));a.push("</li>\n");a.push("\n");
a.push("    \n");a.push('  <li data-role="list-divider">\n');a.push("    How are they at risk from '");a.push(jQuery.EJS.clean(this.hazardName));a.push("':\n");a.push("  </li>\n");a.push("\n");a.push("  <li>\n");a.push("    ");a.push(jQuery.EJS.clean(this.how));a.push(" ");if(this.furtherDetails){a.push(" ");a.push(jQuery.EJS.clean(" - "+this.furtherDetails));a.push(" ")}a.push("\n");a.push("  </li>\n");a.push("\n");a.push("  ");if(this.existingControls.length>0){a.push("\n");a.push("\n");a.push('  <li data-role="list-divider" class="green-divider">\n');
a.push("    Existing controls already in place:\n");a.push("  </li>\n");a.push("\n");a.push("  ");for(var c=0;c<this.existingControls.length;c++){a.push("\n");a.push("\n");a.push("  <li>\n");a.push("    ");a.push(jQuery.EJS.clean(this.existingControls[c].Name));a.push("\n");a.push("  </li>\n");a.push("\n");a.push("  ")}}a.push("\n");a.push("\n");a.push("  ");if(this.controls.length>0){a.push("\n");a.push("    \n");a.push('  <li data-role="list-divider" class="red-divider">\n');a.push("    Further controls required:\n");
a.push("  </li>\n");a.push("\n");a.push("  ");for(c=0;c<this.controls.length;c++){a.push("\n");a.push("\n");a.push("  <li>\n");a.push("    ");a.push(jQuery.EJS.clean(this.controls[c].Name));a.push("\n");a.push("  </li>\n");a.push("\n");a.push("  ")}}a.push("\n");a.push("    \n");a.push('    <li data-role="list-divider" class="');a.push(jQuery.EJS.clean(this.className));a.push('">\n');a.push('      <div class="fifty">\n');a.push('        <span class="fleft">\n');a.push("          Severity: ");a.push(jQuery.EJS.clean(this.severityRating));
a.push("\n");a.push("        </span>\n");a.push('        <span class="fright">\n');a.push("          Likelihood: ");a.push(jQuery.EJS.clean(this.likelihoodRating));a.push("\n");a.push("        </span>\n");a.push("      </div>\n");a.push('      <div class="center">\n');a.push("          Risk Rating: ");a.push(jQuery.EJS.clean(this.assessmentRating));a.push("/25\n");a.push("      </div>\n");a.push("    </li>\n");a.push("\n");a.push("  </ul>\n");a.push("<br/>\n");a.push("<p>\n");a.push('  <a data-role="button" data-icon="gear" href="whos.htm">Re-do this assessment</a>\n');
a.push('  <a data-role="button" data-icon="grid" href="myassessments.htm">Back to my assessments</a>\n');a.push("</p> \n");a.push(" \n");return a.join("")}}catch(m){m.lineNumber=null;throw m;}}))});steal.loaded("risk/views/details/init.ejs");
steal("jquery/view/ejs").then(function(f){f.View.preload("risk_views_inprogress_init_ejs",jQuery.EJS(function(a,h){try{with(h)with(a){a=[];a.push('<?xml version="1.0" encoding="Windows-1252"?>\n');a.push('<ul id="InProgressList" data-filter="true" data-split-icon="delete" data-filter-placeholder="Search for a task" data-role="listview">\n');a.push("  ");if(this.length<1){a.push("\n");a.push("  \n");a.push('  <li data-role="list-divider">\n');a.push("    You currently have no tasks in progress\n");
a.push("  </li>\n");a.push("    \n");a.push("  ")}else{a.push("\n");a.push("  \n");a.push("  ");h="";a.push("  \n");a.push("  ");for(var c=0;c<this.length;c++){a.push("\n");a.push("  \n");a.push("  ");if(h!=this[c].DateStarted.toDateString()){a.push("\n");a.push('    <li data-role="list-divider">\n');a.push("      ");a.push(jQuery.EJS.clean(this[c].DateStarted.toDateString()));a.push("\n");a.push("    </li>\n");a.push("  ")}h=this[c].DateStarted.toDateString();a.push("\n");a.push("\n");a.push("    <li>\n");
a.push('    <a class="task-item" href="myassessments.htm" id="');a.push(jQuery.EJS.clean(this[c].id));a.push('">\n');a.push("      <h3>\n");a.push("        ");a.push(jQuery.EJS.clean(this[c].Name));a.push(" @ ");a.push(jQuery.EJS.clean(this[c].Site));a.push("\n");a.push("        </h3>\n");a.push("      <p>\n");a.push('        <i class="small">Touch to see details</i>\n');a.push("      </p>\n");a.push("    </a>\n");a.push('    <a href="dialog/deleteTaskConfirm.htm" data-rel="dialog" id="');a.push(jQuery.EJS.clean(this[c].id));
a.push('" class="delete"> \n');a.push("    </a>\n");a.push("  </li>\n");a.push("  ")}}a.push("\n");a.push("</ul>\n");a.push("<br/>\n");a.push("<p>\n");a.push('  <a data-role="button" data-icon="plus" href="newtask.htm">Start new task</a>\n');a.push("</p> \n");a.push(" \n");return a.join("")}}catch(m){m.lineNumber=null;throw m;}}))});steal.loaded("risk/views/inprogress/init.ejs");
steal("jquery/view/ejs").then(function(f){f.View.preload("risk_views_newhazard_init_ejs",jQuery.EJS(function(a,h){try{with(h)with(a){a=[];a.push('<?xml version="1.0" encoding="Windows-1252"?>\n');a.push("<p>\n");a.push("  <label>Hazard Name</label>\n");a.push('  <input type="text" placeholder="Compulsory" class="required" id="hazard"/>\n');a.push("</p>\n");a.push('<p class="hows">\n');a.push("  <label>Hows</label>\n");a.push('  <input type="text" class="required" placeholder="Compulsory" id="how1" name="how1"/>\n');
a.push('  <input type="text" placeholder="Optional" id="how2" name="how2"/>\n');a.push('  <input type="text" placeholder="Optional" id="how3" name="how3"/>\n');a.push('  <input type="text" placeholder="Optional" id="how4" name="how4"/>\n');a.push('  <input type="text" placeholder="Optional" id="how5" name="how5"/>\n');a.push("</p>\n");a.push('<p class="controls">\n');a.push("  <label>Controls</label>\n");a.push('  <input type="text" class="required" placeholder="Compulsory" id="control1" name="control1"/>\n');
a.push('  <input type="text" placeholder="Optional" id="control2" name="control2"/>\n');a.push('  <input type="text" placeholder="Optional" id="control3" name="control3"/>\n');a.push('  <input type="text" placeholder="Optional" id="control4" name="control4"/>\n');a.push('  <input type="text" placeholder="Optional" id="control5" name="control5"/>\n');a.push("</p>\n");a.push("<p>\n");a.push('  <button class="ok" type="submit" data-icon="check" data-role="submit">Save</button>\n');a.push("</p>\n");return a.join("")}}catch(c){c.lineNumber=
null;throw c;}}))});steal.loaded("risk/views/newhazard/init.ejs");
steal("jquery/view/ejs").then(function(f){f.View.preload("risk_views_email_init_ejs",jQuery.EJS(function(a,h){try{with(h)with(a){a=[];a.push('<?xml version="1.0" encoding="Windows-1252"?>\n');a.push('<label data-inline="true">First name:</label>\n');a.push('<input type="text" name="FirstName" id="FirstName"  class="textinput required" value="');a.push(jQuery.EJS.clean(this.FirstName));a.push('" placeholder="Compulsory" />\n');a.push("\n");a.push('<label data-inline="true">Last name:</label>\n');a.push('<input type="text" name="LastName" id="LastName"  class="textinput required" value="');
a.push(jQuery.EJS.clean(this.LastName));a.push('" placeholder="Compulsory" />\n');a.push("\n");a.push('<label data-inline="true">Email address:</label>\n');a.push('<input type="text" name="EmailAddress" id="EmailAddress"  class="required email" value="');a.push(jQuery.EJS.clean(this.EmailAddress));a.push('" placeholder="Compulsory" />\n');a.push("\n");a.push('<label data-inline="true">CC email address:</label>\n');a.push('<input type="text"  name="ManagerEmailAddress" id="ManagerEmailAddress" class="email" value="');
a.push(jQuery.EJS.clean(this.ManagerEmailAddress));a.push('" placeholder="Optional"/>\n');a.push("\n");a.push('<input type="submit" id="sendemail" data-icon="check" value="Email report" />');return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("risk/views/email/init.ejs");
steal("jquery/view/ejs").then(function(f){f.View.preload("risk_views_completed_init_ejs",jQuery.EJS(function(a,h){try{with(h)with(a){a=[];a.push('<?xml version="1.0" encoding="Windows-1252"?>\n');a.push('<ul id="CompletedList" data-filter="true" data-split-icon="delete" data-filter-placeholder="Search for a task" data-role="listview">\n');a.push("  ");if(this.length<1){a.push("\n");a.push("  \n");a.push('  <li data-role="list-divider">\n');a.push("    You currently have no completed(emailed) tasks\n");
a.push("  </li>\n");a.push("    \n");a.push("  ")}else{a.push("\n");a.push("  \n");a.push("  ");h="";a.push("  \n");a.push("  ");for(var c=0;c<this.length;c++){a.push("\n");a.push("  \n");a.push("  ");if(h!=this[c].DateFinished.toDateString()){a.push("\n");a.push('    <li data-role="list-divider">\n');a.push("      Emailed: ");a.push(jQuery.EJS.clean(this[c].DateFinished.toDateString()));a.push("\n");a.push("    </li>\n");a.push("  ")}h=this[c].DateFinished.toDateString();a.push("\n");a.push("\n");
a.push("    <li>\n");a.push('    <a class="task-item" href="mycompletedassessments.htm" id="');a.push(jQuery.EJS.clean(this[c].id));a.push('">\n');a.push("      <h3>\n");a.push("        ");a.push(jQuery.EJS.clean(this[c].Name));a.push(" @ ");a.push(jQuery.EJS.clean(this[c].Site));a.push("\n");a.push("      </h3>\n");a.push("      <p>\n");a.push('        <i class="small">Touch to see details</i>\n');a.push("      </p>\n");a.push("    </a>\n");a.push('    <a href="dialog/deleteCompletedTaskConfirm.htm" data-rel="dialog" id="');
a.push(jQuery.EJS.clean(this[c].id));a.push('" class="delete"> \n');a.push("    </a>\n");a.push("  </li>\n");a.push("  ")}}a.push("\n");a.push("</ul>\n");a.push("<br/>\n");a.push("<p>\n");a.push('  <a data-role="button" data-icon="plus" href="newtask.htm">Start new task</a>\n');a.push("</p> \n");a.push(" \n");return a.join("")}}catch(m){m.lineNumber=null;throw m;}}))});steal.loaded("risk/views/completed/init.ejs");
steal("jquery/view/ejs").then(function(f){f.View.preload("risk_views_mycompletedassessments_init_ejs",jQuery.EJS(function(a,h){try{with(h)with(a){a=[];a.push('<?xml version="1.0" encoding="Windows-1252"?>\n');a.push('<ul id="MyCompletedAssessmentsList" data-filter="true" data-filter-placeholder="Search for an assessment" data-role="listview">\n');a.push("  ");if(this.length<1){a.push("\n");a.push("  \n");a.push('  <li data-role="list-divider">\n');a.push('    There are currently no risk assessments recorded for <span class="task"></span>\n');
a.push("  </li>\n");a.push("    \n");a.push("  ")}else{a.push("\n");a.push("\n");a.push('  <li id="divider" data-role="list-divider">\n');a.push("  </li> \n");a.push("  \n");a.push("  ");if(this.ambers.length>0){a.push("\n");a.push('  <li class="orange-divider" data-role="list-divider">\n');a.push("\t   Amber Assessments\n");a.push("  </li> \n");a.push("  ")}a.push("\n");a.push("\t\n");a.push("  ");for(h=0;h<this.ambers.length;h++){a.push("\n");a.push("  <li>\n");a.push('    <a class="assessment-item" id="');
a.push(jQuery.EJS.clean(this.ambers[h].id));a.push('">\n');a.push("      <h3>\n");a.push("        ");a.push(jQuery.EJS.clean(this.ambers[h].Hazard));a.push("\n");a.push("      </h3>\n");a.push("      <p>\n");a.push("        <strong>Who:</strong> ");a.push(jQuery.EJS.clean(this.ambers[h].Who));a.push("\n");a.push("      </p>\n");a.push("      <p>\n");a.push("        <strong>How:</strong> ");a.push(jQuery.EJS.clean(this.ambers[h].How));a.push(" ");if(this.ambers[h].FurtherDetails){a.push(" - ");a.push(jQuery.EJS.clean(this.ambers[h].FurtherDetails))}a.push("\n");
a.push("      </p>\n");a.push("      ");if(this.ambers[h].Controls){a.push("\n");a.push("        <p>\n");a.push("          <STRONG>Further Controls:</STRONG>\n");a.push("           ");for(var c=0;c<this.ambers[h].Controls.split("|").length;c++){a.push("\n");a.push("             <br/>\n");a.push("             <span>&bull;</span>\n");a.push("             ");a.push(jQuery.EJS.clean(this.ambers[h].Controls.split("|")[c]));a.push("\n");a.push("           ")}a.push("\n");a.push("        </p>  \n");a.push("      ")}a.push("\n");
a.push("\t  </a>\n");a.push("  </li>\n");a.push("  ")}a.push("\n");a.push("  \n");a.push("    ");if(this.greens.length>0){a.push("\n");a.push('  <li class="green-divider" data-role="list-divider">\n');a.push("\t   Green Assessments\n");a.push("  </li> \n");a.push("  ")}a.push("\n");a.push("\t\n");a.push("  ");for(h=0;h<this.greens.length;h++){a.push("\n");a.push("  <li>\n");a.push('    <a class="assessment-item" id="');a.push(jQuery.EJS.clean(this.greens[h].id));a.push('">\n');a.push("      <h3>\n");
a.push("        ");a.push(jQuery.EJS.clean(this.greens[h].Hazard));a.push("\n");a.push("      </h3>\n");a.push("      <p>\n");a.push("        <strong>Who:</strong> ");a.push(jQuery.EJS.clean(this.greens[h].Who));a.push("\n");a.push("      </p>\n");a.push("      <p>\n");a.push("        <strong>How:</strong> ");a.push(jQuery.EJS.clean(this.greens[h].How));a.push(" ");if(this.greens[h].FurtherDetails){a.push(" - ");a.push(jQuery.EJS.clean(this.greens[h].FurtherDetails))}a.push("\n");a.push("      </p>\n");
a.push("      ");if(this.greens[h].Controls){a.push("\n");a.push("        <p>\n");a.push("          <STRONG>Further Controls:</STRONG>\n");a.push("           ");for(c=0;c<this.greens[h].Controls.split("|").length;c++){a.push("\n");a.push("             <br/>\n");a.push("             <span>&bull;</span>\n");a.push("             ");a.push(jQuery.EJS.clean(this.greens[h].Controls.split("|")[c]));a.push("\n");a.push("           ")}a.push("\n");a.push("        </p>  \n");a.push("      ")}a.push("\n");a.push("\t  </a>\n");
a.push("  </li>\n");a.push("  ")}}a.push("\n");a.push("</ul>\n");a.push("<br/>\n");a.push("<p>\n");a.push('  <a data-role="button" data-icon="refresh" id="CopyTask" href="inprogress.htm">Create copy of this task</a>\n');a.push("</p>\n");a.push("\n");return a.join("")}}catch(m){m.lineNumber=null;throw m;}}))});steal.loaded("risk/views/mycompletedassessments/init.ejs");
steal("jquery/view/ejs").then(function(f){f.View.preload("risk_views_completeddetails_init_ejs",jQuery.EJS(function(a,h){try{with(h)with(a){a=[];a.push('<?xml version="1.0" encoding="Windows-1252"?>\n');a.push('<ul id="CompletedDetailsList" data-role="listview">\n');a.push("\n");a.push('  <li data-role="list-divider">\n');a.push("    Who is at risk from '");a.push(jQuery.EJS.clean(this.hazardName));a.push("':\n");a.push("  </li>\n");a.push("  <li>\n");a.push("    ");a.push(jQuery.EJS.clean(this.who));
a.push("\n");a.push("  </li>\n");a.push("\n");a.push("\n");a.push('  <li data-role="list-divider">\n');a.push("    How are they at risk from '");a.push(jQuery.EJS.clean(this.hazardName));a.push("':\n");a.push("  </li>\n");a.push("\n");a.push("  <li>\n");a.push("    ");a.push(jQuery.EJS.clean(this.how));a.push(" ");if(this.furtherDetails){a.push(" ");a.push(jQuery.EJS.clean(" - "+this.furtherDetails));a.push(" ")}a.push("\n");a.push("  </li>\n");a.push("\n");a.push("  ");if(this.existingControls.length>
0){a.push("\n");a.push("\n");a.push('  <li data-role="list-divider" class="green-divider">\n');a.push("    Existing controls already in place:\n");a.push("  </li>\n");a.push("\n");a.push("  ");for(var c=0;c<this.existingControls.length;c++){a.push("\n");a.push("\n");a.push("  <li>\n");a.push("    ");a.push(jQuery.EJS.clean(this.existingControls[c].Name));a.push("\n");a.push("  </li>\n");a.push("\n");a.push("  ")}}if(this.controls.length>0){a.push("\n");a.push("\n");a.push('  <li data-role="list-divider" class="red-divider">\n');
a.push("    Further controls required:\n");a.push("  </li>\n");a.push("\n");a.push("  ");for(c=0;c<this.controls.length;c++){a.push("\n");a.push("\n");a.push("  <li>\n");a.push("    ");a.push(jQuery.EJS.clean(this.controls[c].Name));a.push("\n");a.push("  </li>\n");a.push("\n");a.push("  ")}}a.push('<li data-role="list-divider" class="');a.push(jQuery.EJS.clean(this.className));a.push('">\n');a.push('    <div class="fifty">\n');a.push('      <span class="fleft">\n');a.push("        Severity: ");a.push(jQuery.EJS.clean(this.severityRating));
a.push("\n");a.push("      </span>\n");a.push('      <span class="fright">\n');a.push("        Likelihood: ");a.push(jQuery.EJS.clean(this.likelihoodRating));a.push("\n");a.push("      </span>\n");a.push("    </div>\n");a.push('    <div class="center">\n');a.push("      Risk Rating: ");a.push(jQuery.EJS.clean(this.assessmentRating));a.push("/25\n");a.push("    </div>\n");a.push("  </li>\n");a.push("</ul>\n");a.push("<br/>\n");a.push("<p>\n");a.push('  <a data-role="button" data-icon="grid" href="mycompletedassessments.htm">Back to my completed assessments</a>\n');
a.push("</p> \n");a.push(" \n");return a.join("")}}catch(m){m.lineNumber=null;throw m;}}))});steal.loaded("risk/views/completeddetails/init.ejs");
